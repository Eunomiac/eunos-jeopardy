
> eunos-jeopardy@0.6.0 test
> jest --coverage=false --verbose

  console.log
    üì° Setting up broadcast channel for game: game-123

      at src/components/games/GameHostDashboard.tsx:706:13

  console.error
    An update to GameHostDashboard inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 476 |[39m           setConnectionStatus([32m"SLOW"[39m)[33m;[39m
     [90m 477 |[39m         } [36melse[39m {
    [31m[1m>[22m[39m[90m 478 |[39m           setConnectionStatus([32m"ACTIVE"[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 479 |[39m         }
     [90m 480 |[39m       } [36mcatch[39m (error) {
     [90m 481 |[39m         console[33m.[39merror([32m"Connection check failed:"[39m[33m,[39m error)[33m;[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at checkConnection (src/components/games/GameHostDashboard.tsx:478:11)

  console.error
    An update to AuthProvider inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 240 |[39m       }
     [90m 241 |[39m
    [31m[1m>[22m[39m[90m 242 |[39m       setLoading([36mfalse[39m) [90m// Authentication state is now determined (after profile creation)[39m
     [90m     |[39m       [31m[1m^[22m[39m
     [90m 243 |[39m     })
     [90m 244 |[39m
     [90m 245 |[39m     [90m// Set up real-time authentication state listener[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at src/contexts/AuthContext.tsx:242:7

  console.log
    üé¨ [AnimationRegistry] Registered animation: BoardIntro

      at Function.register (src/services/animations/AnimationDefinitions.ts:775:13)

  console.log
    üé¨ [AnimationRegistry] Registered animation: CategoryIntro

      at Function.register (src/services/animations/AnimationDefinitions.ts:775:13)

  console.log
    üé¨ [AnimationRegistry] Registered animation: ClueReveal

      at Function.register (src/services/animations/AnimationDefinitions.ts:775:13)

  console.log
    üé¨ [AnimationRegistry] Registered animation: DailyDoubleReveal

      at Function.register (src/services/animations/AnimationDefinitions.ts:775:13)

  console.log
    üé¨ [AnimationRegistry] Registered animation: DailyDoubleClueReveal

      at Function.register (src/services/animations/AnimationDefinitions.ts:775:13)

  console.log
    üé¨ [AnimationRegistry] Registered animation: RoundTransition

      at Function.register (src/services/animations/AnimationDefinitions.ts:775:13)

  console.log
    üé¨ AnimationDefinitions exposed to window for console testing

      at Object.<anonymous> (src/services/animations/AnimationDefinitions.ts:851:11)

  console.log
    üé¨ Try: AnimationDefinitions.BoardIntroAnimation.execute({ round: "jeopardy", gameId: "test" })

      at Object.<anonymous> (src/services/animations/AnimationDefinitions.ts:852:11)

  console.error
    An update to GameHostDashboard inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 476 |[39m           setConnectionStatus([32m"SLOW"[39m)[33m;[39m
     [90m 477 |[39m         } [36melse[39m {
    [31m[1m>[22m[39m[90m 478 |[39m           setConnectionStatus([32m"ACTIVE"[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 479 |[39m         }
     [90m 480 |[39m       } [36mcatch[39m (error) {
     [90m 481 |[39m         console[33m.[39merror([32m"Connection check failed:"[39m[33m,[39m error)[33m;[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at checkConnection (src/components/games/GameHostDashboard.tsx:478:11)

  console.log
    üîå Cleaning up broadcast channel for game: game-123

      at src/components/games/GameHostDashboard.tsx:728:15
          at Array.forEach (<anonymous>)

  console.log
    üì° Setting up broadcast channel for game: game-123

      at src/components/games/GameHostDashboard.tsx:706:13

  console.log
    üéÆ Initial players loaded: [
      {
        game_id: 'game-123',
        user_id: 'user-456',
        nickname: 'Player One',
        score: 1000,
        joined_at: '2023-01-01T00:00:00Z'
      },
      {
        game_id: 'game-123',
        user_id: 'user-789',
        nickname: 'Player Two',
        score: 500,
        joined_at: '2023-01-01T00:01:00Z'
      }
    ]

      at loadGameData (src/components/games/GameHostDashboard.tsx:558:17)

  console.error
    An update to AuthProvider inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 240 |[39m       }
     [90m 241 |[39m
    [31m[1m>[22m[39m[90m 242 |[39m       setLoading([36mfalse[39m) [90m// Authentication state is now determined (after profile creation)[39m
     [90m     |[39m       [31m[1m^[22m[39m
     [90m 243 |[39m     })
     [90m 244 |[39m
     [90m 245 |[39m     [90m// Set up real-time authentication state listener[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at src/contexts/AuthContext.tsx:242:7

  console.log
    üîå Cleaning up broadcast channel for game: game-123

      at src/components/games/GameHostDashboard.tsx:728:15
          at Array.forEach (<anonymous>)

  console.log
    üì° Setting up broadcast channel for game: game-123

      at src/components/games/GameHostDashboard.tsx:706:13

  console.log
    üîç Render state: { user: true, roleLoading: false, userRole: null, mode: 'clue-sets' }

      at src/app/App.tsx:811:25

  console.log
    üéÆ renderPlayerInterface called: { userRole: null, mode: 'clue-sets' }

      at renderPlayerInterface (src/app/App.tsx:486:13)

  console.log
    ‚ùå Not rendering player interface - userRole is not player: null

      at renderPlayerInterface (src/app/App.tsx:490:15)

  console.log
    üîç Starting role detection for user: user-123

      at detectUserRole (src/app/App.tsx:258:15)

  console.log
    üîç Render state: { user: true, roleLoading: true, userRole: null, mode: 'clue-sets' }

      at src/app/App.tsx:811:25

  console.log
    üìä Profile query result: { profile: { role: 'host' }, error: null }

      at src/app/App.tsx:169:13

  console.log
    üéÆ No active game, going to game creation

      at src/app/App.tsx:226:17

  console.error
    Failed to load game data: Error: Game not found
        at Object.<anonymous> (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\components\games\GameHostDashboard.test.tsx:176:21)
        at Promise.then.completed (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\utils.js:298:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\utils.js:231:10)
        at _callCircusTest (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:316:40)
        at _runTest (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:252:3)
        at _runTestsForDescribeBlock (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:126:9)
        at _runTestsForDescribeBlock (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:121:9)
        at _runTestsForDescribeBlock (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:121:9)
        at run (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:71:3)
        at runAndTransformResultsToJestFormat (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
        at jestAdapter (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
        at runTestInternal (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-runner\build\runTest.js:367:16)
        at runTest (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-runner\build\runTest.js:444:34)
        at Object.worker (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 581 |[39m       } [36mcatch[39m (error) {
     [90m 582 |[39m         [90m// Log error for debugging and development[39m
    [31m[1m>[22m[39m[90m 583 |[39m         console[33m.[39merror([32m"Failed to load game data:"[39m[33m,[39m error)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 584 |[39m
     [90m 585 |[39m         [90m// Display user-friendly error message[39m
     [90m 586 |[39m         showStatus([0m

      at loadGameData (src/components/games/GameHostDashboard.tsx:583:17)

  console.log
    üîç Render state: { user: true, roleLoading: false, userRole: 'host', mode: 'clue-sets' }

      at src/app/App.tsx:811:25

  console.log
    üéÆ renderPlayerInterface called: { userRole: 'host', mode: 'clue-sets' }

      at renderPlayerInterface (src/app/App.tsx:486:13)

  console.log
    ‚ùå Not rendering player interface - userRole is not player: host

      at renderPlayerInterface (src/app/App.tsx:490:15)

  console.error
    An update to GameHostDashboard inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 476 |[39m           setConnectionStatus([32m"SLOW"[39m)[33m;[39m
     [90m 477 |[39m         } [36melse[39m {
    [31m[1m>[22m[39m[90m 478 |[39m           setConnectionStatus([32m"ACTIVE"[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 479 |[39m         }
     [90m 480 |[39m       } [36mcatch[39m (error) {
     [90m 481 |[39m         console[33m.[39merror([32m"Connection check failed:"[39m[33m,[39m error)[33m;[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at checkConnection (src/components/games/GameHostDashboard.tsx:478:11)

  console.log
    üîå Cleaning up broadcast channel for game: game-123

      at src/components/games/GameHostDashboard.tsx:728:15
          at Array.forEach (<anonymous>)

  console.log
    üîç Render state: { user: true, roleLoading: false, userRole: null, mode: 'clue-sets' }

      at src/app/App.tsx:811:25

  console.log
    üéÆ renderPlayerInterface called: { userRole: null, mode: 'clue-sets' }

      at renderPlayerInterface (src/app/App.tsx:486:13)

  console.log
    üì° Setting up broadcast channel for game: game-123

      at src/components/games/GameHostDashboard.tsx:706:13

  console.log
    ‚ùå Not rendering player interface - userRole is not player: null

      at renderPlayerInterface (src/app/App.tsx:490:15)

  console.log
    üîç Starting role detection for user: user-123

      at detectUserRole (src/app/App.tsx:258:15)

  console.log
    üîç Render state: { user: true, roleLoading: true, userRole: null, mode: 'clue-sets' }

      at src/app/App.tsx:811:25

  console.log
    üìä Profile query result: { profile: { role: 'host' }, error: null }

      at src/app/App.tsx:169:13

  console.error
    Failed to load game data: Error: Game not found
        at Object.<anonymous> (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\components\games\GameHostDashboard.test.tsx:188:49)
        at Promise.then.completed (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\utils.js:298:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\utils.js:231:10)
        at _callCircusTest (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:316:40)
        at _runTest (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:252:3)
        at _runTestsForDescribeBlock (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:126:9)
        at _runTestsForDescribeBlock (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:121:9)
        at _runTestsForDescribeBlock (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:121:9)
        at run (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:71:3)
        at runAndTransformResultsToJestFormat (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
        at jestAdapter (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
        at runTestInternal (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-runner\build\runTest.js:367:16)
        at runTest (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-runner\build\runTest.js:444:34)
        at Object.worker (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 581 |[39m       } [36mcatch[39m (error) {
     [90m 582 |[39m         [90m// Log error for debugging and development[39m
    [31m[1m>[22m[39m[90m 583 |[39m         console[33m.[39merror([32m"Failed to load game data:"[39m[33m,[39m error)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 584 |[39m
     [90m 585 |[39m         [90m// Display user-friendly error message[39m
     [90m 586 |[39m         showStatus([0m

      at loadGameData (src/components/games/GameHostDashboard.tsx:583:17)

  console.error
    An update to AuthProvider inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 240 |[39m       }
     [90m 241 |[39m
    [31m[1m>[22m[39m[90m 242 |[39m       setLoading([36mfalse[39m) [90m// Authentication state is now determined (after profile creation)[39m
     [90m     |[39m       [31m[1m^[22m[39m
     [90m 243 |[39m     })
     [90m 244 |[39m
     [90m 245 |[39m     [90m// Set up real-time authentication state listener[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at src/contexts/AuthContext.tsx:242:7

  console.error
    An update to App inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 260 |[39m       [36mtry[39m {
     [90m 261 |[39m         [36mconst[39m role [33m=[39m [36mawait[39m getUserRole()
    [31m[1m>[22m[39m[90m 262 |[39m         setUserRole(role)
     [90m     |[39m         [31m[1m^[22m[39m
     [90m 263 |[39m
     [90m 264 |[39m         [36mif[39m (role [33m===[39m [32m'player'[39m) {
     [90m 265 |[39m           [36mawait[39m handlePlayerRoleSetup()[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at detectUserRole (src/app/App.tsx:262:9)

  console.log
    üéÆ No active game, going to game creation

      at src/app/App.tsx:226:17

  console.error
    An update to App inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 225 |[39m       } [36melse[39m {
     [90m 226 |[39m         console[33m.[39mlog([32m'üéÆ No active game, going to game creation'[39m)
    [31m[1m>[22m[39m[90m 227 |[39m         setMode([32m'clue-sets'[39m)
     [90m     |[39m         [31m[1m^[22m[39m
     [90m 228 |[39m       }
     [90m 229 |[39m     } [36mcatch[39m (gameError) {
     [90m 230 |[39m       console[33m.[39merror([32m'‚ùå Error checking for active game:'[39m[33m,[39m gameError)[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at src/app/App.tsx:227:9
      at detectUserRole (src/app/App.tsx:267:11)

  console.error
    An update to GameHostDashboard inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 476 |[39m           setConnectionStatus([32m"SLOW"[39m)[33m;[39m
     [90m 477 |[39m         } [36melse[39m {
    [31m[1m>[22m[39m[90m 478 |[39m           setConnectionStatus([32m"ACTIVE"[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 479 |[39m         }
     [90m 480 |[39m       } [36mcatch[39m (error) {
     [90m 481 |[39m         console[33m.[39merror([32m"Connection check failed:"[39m[33m,[39m error)[33m;[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at checkConnection (src/components/games/GameHostDashboard.tsx:478:11)

  console.error
    An update to App inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 272 |[39m         setMode([32m'player-join'[39m)
     [90m 273 |[39m       } [36mfinally[39m {
    [31m[1m>[22m[39m[90m 274 |[39m         setRoleLoading([36mfalse[39m)
     [90m     |[39m         [31m[1m^[22m[39m
     [90m 275 |[39m         roleDetectionInProgress[33m.[39mcurrent [33m=[39m [36mfalse[39m
     [90m 276 |[39m       }
     [90m 277 |[39m     }[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at detectUserRole (src/app/App.tsx:274:9)

  console.log
    üîå Cleaning up broadcast channel for game: game-123

      at src/components/games/GameHostDashboard.tsx:728:15
          at Array.forEach (<anonymous>)

  console.log
    üîç Render state: { user: true, roleLoading: false, userRole: null, mode: 'clue-sets' }

      at src/app/App.tsx:811:25

  console.log
    üéÆ renderPlayerInterface called: { userRole: null, mode: 'clue-sets' }

      at renderPlayerInterface (src/app/App.tsx:486:13)

  console.log
    üì° Setting up broadcast channel for game: game-123

      at src/components/games/GameHostDashboard.tsx:706:13

  console.log
    ‚ùå Not rendering player interface - userRole is not player: null

      at renderPlayerInterface (src/app/App.tsx:490:15)

  console.log
    üéÆ Initial players loaded: [
      {
        game_id: 'game-123',
        user_id: 'user-456',
        nickname: 'Player One',
        score: 1000,
        joined_at: '2023-01-01T00:00:00Z'
      },
      {
        game_id: 'game-123',
        user_id: 'user-789',
        nickname: 'Player Two',
        score: 500,
        joined_at: '2023-01-01T00:01:00Z'
      }
    ]

      at loadGameData (src/components/games/GameHostDashboard.tsx:558:17)

  console.log
    üîç Starting role detection for user: user-123

      at detectUserRole (src/app/App.tsx:258:15)

  console.log
    üîç Render state: { user: true, roleLoading: true, userRole: null, mode: 'clue-sets' }

      at src/app/App.tsx:811:25

  console.log
    üìä Profile query result: { profile: { role: 'host' }, error: null }

      at src/app/App.tsx:169:13

  console.log
    üéÆ No active game, going to game creation

      at src/app/App.tsx:226:17

  console.log
    üîç Render state: { user: true, roleLoading: false, userRole: 'host', mode: 'clue-sets' }

      at src/app/App.tsx:811:25

  console.log
    üéÆ renderPlayerInterface called: { userRole: 'host', mode: 'clue-sets' }

      at renderPlayerInterface (src/app/App.tsx:486:13)

  console.log
    ‚ùå Not rendering player interface - userRole is not player: host

      at renderPlayerInterface (src/app/App.tsx:490:15)

  console.log
    üîç Render state: { user: true, roleLoading: false, userRole: null, mode: 'clue-sets' }

      at src/app/App.tsx:811:25

  console.log
    üéÆ renderPlayerInterface called: { userRole: null, mode: 'clue-sets' }

      at renderPlayerInterface (src/app/App.tsx:486:13)

  console.log
    ‚ùå Not rendering player interface - userRole is not player: null

      at renderPlayerInterface (src/app/App.tsx:490:15)

  console.log
    üîå Cleaning up broadcast channel for game: game-123

      at src/components/games/GameHostDashboard.tsx:728:15
          at Array.forEach (<anonymous>)

  console.log
    üîç Starting role detection for user: user-123

      at detectUserRole (src/app/App.tsx:258:15)

  console.log
    üì° Setting up broadcast channel for game: game-123

      at src/components/games/GameHostDashboard.tsx:706:13

  console.log
    üîç Render state: { user: true, roleLoading: true, userRole: null, mode: 'clue-sets' }

      at src/app/App.tsx:811:25

  console.log
    üéÆ Initial players loaded: [
      {
        game_id: 'game-123',
        user_id: 'user-456',
        nickname: 'Player One',
        score: 1000,
        joined_at: '2023-01-01T00:00:00Z'
      },
      {
        game_id: 'game-123',
        user_id: 'user-789',
        nickname: 'Player Two',
        score: 500,
        joined_at: '2023-01-01T00:01:00Z'
      }
    ]

      at loadGameData (src/components/games/GameHostDashboard.tsx:558:17)

  console.log
    üìä Profile query result: { profile: { role: 'host' }, error: null }

      at src/app/App.tsx:169:13

  console.log
    üéÆ No active game, going to game creation

      at src/app/App.tsx:226:17

  console.log
    üîç Render state: { user: true, roleLoading: false, userRole: 'host', mode: 'clue-sets' }

      at src/app/App.tsx:811:25

  console.log
    üéÆ renderPlayerInterface called: { userRole: 'host', mode: 'clue-sets' }

      at renderPlayerInterface (src/app/App.tsx:486:13)

  console.log
    ‚ùå Not rendering player interface - userRole is not player: host

      at renderPlayerInterface (src/app/App.tsx:490:15)

  console.log
    üì° Setting up broadcast channel for game: game-123

      at src/components/games/GameHostDashboard.tsx:706:13

  console.log
    üéÆ Initial players loaded: [
      {
        game_id: 'game-123',
        user_id: 'user-456',
        nickname: 'Player One',
        score: 1000,
        joined_at: '2023-01-01T00:00:00Z'
      },
      {
        game_id: 'game-123',
        user_id: 'user-789',
        nickname: 'Player Two',
        score: 500,
        joined_at: '2023-01-01T00:01:00Z'
      }
    ]

      at loadGameData (src/components/games/GameHostDashboard.tsx:558:17)

  console.log
    üîç Render state: { user: true, roleLoading: false, userRole: 'host', mode: 'clue-sets' }

      at src/app/App.tsx:811:25

  console.log
    üéÆ renderPlayerInterface called: { userRole: 'host', mode: 'clue-sets' }

      at renderPlayerInterface (src/app/App.tsx:486:13)

  console.log
    ‚ùå Not rendering player interface - userRole is not player: host

      at renderPlayerInterface (src/app/App.tsx:490:15)

  console.log
    üîç Render state: { user: true, roleLoading: false, userRole: 'host', mode: 'dashboard' }

      at src/app/App.tsx:811:25

  console.log
    üéÆ renderPlayerInterface called: { userRole: 'host', mode: 'dashboard' }

      at renderPlayerInterface (src/app/App.tsx:486:13)

  console.log
    ‚ùå Not rendering player interface - userRole is not player: host

      at renderPlayerInterface (src/app/App.tsx:490:15)

  console.log
    üì° Setting up broadcast channel for game: game-123

      at src/components/games/GameHostDashboard.tsx:706:13

  console.log
    üéÆ Initial players loaded: []

      at loadGameData (src/components/games/GameHostDashboard.tsx:558:17)

  console.error
    An update to GameHostDashboard inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 476 |[39m           setConnectionStatus([32m"SLOW"[39m)[33m;[39m
     [90m 477 |[39m         } [36melse[39m {
    [31m[1m>[22m[39m[90m 478 |[39m           setConnectionStatus([32m"ACTIVE"[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 479 |[39m         }
     [90m 480 |[39m       } [36mcatch[39m (error) {
     [90m 481 |[39m         console[33m.[39merror([32m"Connection check failed:"[39m[33m,[39m error)[33m;[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at checkConnection (src/components/games/GameHostDashboard.tsx:478:11)

  console.log
    üîå Cleaning up broadcast channel for game: game-123

      at src/components/games/GameHostDashboard.tsx:728:15
          at Array.forEach (<anonymous>)

  console.error
    Failed to load game data: TypeError: client_1.supabase.from(...).select(...).eq(...).eq is not a function
        at Function.getDailyDoublePositions (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\services\clues\ClueService.ts:208:8)
        at loadGameData (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\components\games\GameHostDashboard.tsx:566:51)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)

    [0m [90m 581 |[39m       } [36mcatch[39m (error) {
     [90m 582 |[39m         [90m// Log error for debugging and development[39m
    [31m[1m>[22m[39m[90m 583 |[39m         console[33m.[39merror([32m"Failed to load game data:"[39m[33m,[39m error)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 584 |[39m
     [90m 585 |[39m         [90m// Display user-friendly error message[39m
     [90m 586 |[39m         showStatus([0m

      at loadGameData (src/components/games/GameHostDashboard.tsx:583:17)

  console.log
    üîå Cleaning up broadcast channel for game: game-123

      at src/components/games/GameHostDashboard.tsx:728:15
          at Array.forEach (<anonymous>)

  console.log
    üì° Setting up broadcast channel for game: game-123

      at src/components/games/GameHostDashboard.tsx:706:13

  console.log
    üéÆ Initial players loaded: [
      {
        game_id: 'game-123',
        user_id: 'user-456',
        nickname: 'Player One',
        score: 1000,
        joined_at: '2023-01-01T00:00:00Z'
      },
      {
        game_id: 'game-123',
        user_id: 'user-789',
        nickname: 'Player Two',
        score: 500,
        joined_at: '2023-01-01T00:01:00Z'
      }
    ]

      at loadGameData (src/components/games/GameHostDashboard.tsx:558:17)

  console.log
    üì° Setting up broadcast channel for game: game-123

      at src/components/games/GameHostDashboard.tsx:706:13

  console.log
    üîå Cleaning up broadcast channel for game: game-123

      at src/components/games/GameHostDashboard.tsx:728:15
          at Array.forEach (<anonymous>)

  console.log
    üîå Unsubscribed from buzzer channel: game-123

      at Object.unsubscribe (src/services/realtime/BroadcastService.ts:154:17)
          at Array.forEach (<anonymous>)

  console.log
    üéÆ Initial players loaded: [
      {
        game_id: 'game-123',
        user_id: 'user-456',
        nickname: 'Player One',
        score: 1000,
        joined_at: '2023-01-01T00:00:00Z'
      },
      {
        game_id: 'game-123',
        user_id: 'user-789',
        nickname: 'Player Two',
        score: 500,
        joined_at: '2023-01-01T00:01:00Z'
      }
    ]

      at loadGameData (src/components/games/GameHostDashboard.tsx:558:17)

  console.log
    üîç Render state: { user: true, roleLoading: false, userRole: null, mode: 'clue-sets' }

      at src/app/App.tsx:811:25

  console.log
    üéÆ renderPlayerInterface called: { userRole: null, mode: 'clue-sets' }

      at renderPlayerInterface (src/app/App.tsx:486:13)

  console.log
    ‚ùå Not rendering player interface - userRole is not player: null

      at renderPlayerInterface (src/app/App.tsx:490:15)

  console.log
    üîç Starting role detection for user: user-123

      at detectUserRole (src/app/App.tsx:258:15)

  console.log
    üîç Render state: { user: true, roleLoading: true, userRole: null, mode: 'clue-sets' }

      at src/app/App.tsx:811:25

  console.log
    üìä Profile query result: { profile: { role: 'host' }, error: null }

      at src/app/App.tsx:169:13

  console.log
    üéÆ No active game, going to game creation

      at src/app/App.tsx:226:17

  console.log
    üîç Render state: { user: true, roleLoading: false, userRole: 'host', mode: 'clue-sets' }

      at src/app/App.tsx:811:25

  console.log
    üéÆ renderPlayerInterface called: { userRole: 'host', mode: 'clue-sets' }

      at renderPlayerInterface (src/app/App.tsx:486:13)

  console.log
    ‚ùå Not rendering player interface - userRole is not player: host

      at renderPlayerInterface (src/app/App.tsx:490:15)

  console.log
    üîí Locking buzzer - broadcasting first

      at handleToggleBuzzer (src/components/games/GameHostDashboard.tsx:1494:17)

  console.log
    üîå Cleaning up broadcast channel for game: game-123

      at src/components/games/GameHostDashboard.tsx:728:15
          at Array.forEach (<anonymous>)

  console.log
    üîå Cleaning up broadcast channel for game: game-123

      at src/components/games/GameHostDashboard.tsx:728:15
          at Array.forEach (<anonymous>)

  console.log
    üì° Setting up broadcast channel for game: game-123

      at src/components/games/GameHostDashboard.tsx:706:13

  console.log
    üéÆ Initial players loaded: [
      {
        game_id: 'game-123',
        user_id: 'user-456',
        nickname: 'Player One',
        score: 1000,
        joined_at: '2023-01-01T00:00:00Z'
      },
      {
        game_id: 'game-123',
        user_id: 'user-789',
        nickname: 'Player Two',
        score: 500,
        joined_at: '2023-01-01T00:01:00Z'
      }
    ]

      at loadGameData (src/components/games/GameHostDashboard.tsx:558:17)

  console.log
    üì° Setting up broadcast channel for game: game-123

      at src/components/games/GameHostDashboard.tsx:706:13

  console.log
    üéÆ Initial players loaded: [
      {
        game_id: 'game-123',
        user_id: 'user-456',
        nickname: 'Player One',
        score: 1000,
        joined_at: '2023-01-01T00:00:00Z'
      },
      {
        game_id: 'game-123',
        user_id: 'user-789',
        nickname: 'Player Two',
        score: 500,
        joined_at: '2023-01-01T00:01:00Z'
      }
    ]

      at loadGameData (src/components/games/GameHostDashboard.tsx:558:17)

  console.log
    üîç Render state: { user: true, roleLoading: false, userRole: 'host', mode: 'clue-sets' }

      at src/app/App.tsx:811:25

  console.log
    üéÆ renderPlayerInterface called: { userRole: 'host', mode: 'clue-sets' }

      at renderPlayerInterface (src/app/App.tsx:486:13)

  console.log
    ‚ùå Not rendering player interface - userRole is not player: host

      at renderPlayerInterface (src/app/App.tsx:490:15)

  console.log
    üîí Locking buzzer - broadcasting first

      at handleToggleBuzzer (src/components/games/GameHostDashboard.tsx:1494:17)

  console.error
    Failed to toggle buzzer: Error: Network error
        at Object.<anonymous> (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\components\games\GameHostDashboard.test.tsx:269:21)
        at Promise.then.completed (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\utils.js:298:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\utils.js:231:10)
        at _callCircusTest (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:316:40)
        at _runTest (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:252:3)
        at _runTestsForDescribeBlock (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:126:9)
        at _runTestsForDescribeBlock (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:121:9)
        at _runTestsForDescribeBlock (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:121:9)
        at run (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:71:3)
        at runAndTransformResultsToJestFormat (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
        at jestAdapter (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
        at runTestInternal (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-runner\build\runTest.js:367:16)
        at runTest (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-runner\build\runTest.js:444:34)
        at Object.worker (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 1507 |[39m     } [36mcatch[39m (error) {
     [90m 1508 |[39m       [90m// Log error for debugging[39m
    [31m[1m>[22m[39m[90m 1509 |[39m       console[33m.[39merror([32m"Failed to toggle buzzer:"[39m[33m,[39m error)[33m;[39m
     [90m      |[39m               [31m[1m^[22m[39m
     [90m 1510 |[39m
     [90m 1511 |[39m       [90m// Display user-friendly error message[39m
     [90m 1512 |[39m       showStatus([0m

      at handleToggleBuzzer (src/components/games/GameHostDashboard.tsx:1509:15)
      at handleRevealBuzzerButton (src/components/games/GameHostDashboard.tsx:952:9)

  console.error
    An update to GameHostDashboard inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 476 |[39m           setConnectionStatus([32m"SLOW"[39m)[33m;[39m
     [90m 477 |[39m         } [36melse[39m {
    [31m[1m>[22m[39m[90m 478 |[39m           setConnectionStatus([32m"ACTIVE"[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 479 |[39m         }
     [90m 480 |[39m       } [36mcatch[39m (error) {
     [90m 481 |[39m         console[33m.[39merror([32m"Connection check failed:"[39m[33m,[39m error)[33m;[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at checkConnection (src/components/games/GameHostDashboard.tsx:478:11)

  console.log
    üîå Cleaning up broadcast channel for game: game-123

      at src/components/games/GameHostDashboard.tsx:728:15
          at Array.forEach (<anonymous>)

  console.log
    üîå Cleaning up broadcast channel for game: game-123

      at src/components/games/GameHostDashboard.tsx:728:15
          at Array.forEach (<anonymous>)

  console.log
    üì° Setting up broadcast channel for game: game-123

      at src/components/games/GameHostDashboard.tsx:706:13

  console.log
    üéÆ Initial players loaded: [
      {
        game_id: 'game-123',
        user_id: 'user-456',
        nickname: 'Player One',
        score: 1000,
        joined_at: '2023-01-01T00:00:00Z'
      },
      {
        game_id: 'game-123',
        user_id: 'user-789',
        nickname: 'Player Two',
        score: 500,
        joined_at: '2023-01-01T00:01:00Z'
      }
    ]

      at loadGameData (src/components/games/GameHostDashboard.tsx:558:17)

  console.log
    üé¨ Host starting game introduction for gameId: game-123

      at handleStartGame (src/components/games/GameHostDashboard.tsx:1530:13)

  console.log
    üéØ Initializing current player randomly...

      at handleStartGame (src/components/games/GameHostDashboard.tsx:1535:17)

  console.log
    üé¨ Calling GameService.startGameIntroduction...

      at handleStartGame (src/components/games/GameHostDashboard.tsx:1540:15)

  console.log
    üé¨ Game introduction started, updated game: {
      id: 'game-123',
      host_id: 'user-123',
      clue_set_id: 'clue-set-123',
      status: 'in_progress',
      current_round: 'jeopardy',
      current_player_id: null,
      current_introduction_category: 0,
      is_buzzer_locked: false,
      focused_clue_id: null,
      focused_player_id: null,
      created_at: '2023-01-01T00:00:00Z'
    }

      at handleStartGame (src/components/games/GameHostDashboard.tsx:1542:15)

  console.error
    An update to GameHostDashboard inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 148 |[39m [90m   */[39m
     [90m 149 |[39m   [36mconst[39m showStatus [33m=[39m [33mReact[39m[33m.[39museCallback((message[33m:[39m string[33m,[39m severity[33m:[39m [33mAlertSeverity[39m [33m=[39m [32m"info"[39m) [33m=>[39m {
    [31m[1m>[22m[39m[90m 150 |[39m     setAlertState({
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 151 |[39m       type[33m:[39m [32m"status"[39m[33m,[39m
     [90m 152 |[39m       severity[33m,[39m
     [90m 153 |[39m       message[33m,[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at src/components/common/Alert.tsx:150:5
      at src/components/games/GameHostDashboard.tsx:1550:9
      at callTimer (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:806:24)
      at doTickInner (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1413:29)
      at doTick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1494:20)
      at Object.tick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1502:20)
      at FakeTimers.advanceTimersByTime (node_modules/@jest/fake-timers/build/index.js:576:19)
      at Object.<anonymous> (src/components/games/GameHostDashboard.test.tsx:333:12)

  console.error
    An update to GameHostDashboard inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 476 |[39m           setConnectionStatus([32m"SLOW"[39m)[33m;[39m
     [90m 477 |[39m         } [36melse[39m {
    [31m[1m>[22m[39m[90m 478 |[39m           setConnectionStatus([32m"ACTIVE"[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 479 |[39m         }
     [90m 480 |[39m       } [36mcatch[39m (error) {
     [90m 481 |[39m         console[33m.[39merror([32m"Connection check failed:"[39m[33m,[39m error)[33m;[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at checkConnection (src/components/games/GameHostDashboard.tsx:478:11)

  console.log
    üîå Cleaning up broadcast channel for game: game-123

      at src/components/games/GameHostDashboard.tsx:728:15
          at Array.forEach (<anonymous>)

  console.log
    üì° Setting up broadcast channel for game: game-123

      at src/components/games/GameHostDashboard.tsx:706:13

  console.log
    üéÆ Initial players loaded: [
      {
        game_id: 'game-123',
        user_id: 'user-456',
        nickname: 'Player One',
        score: 1000,
        joined_at: '2023-01-01T00:00:00Z'
      },
      {
        game_id: 'game-123',
        user_id: 'user-789',
        nickname: 'Player Two',
        score: 500,
        joined_at: '2023-01-01T00:01:00Z'
      }
    ]

      at loadGameData (src/components/games/GameHostDashboard.tsx:558:17)

  console.log
    üé¨ Host starting game introduction for gameId: game-123

      at handleStartGame (src/components/games/GameHostDashboard.tsx:1530:13)

  console.log
    üéØ Initializing current player randomly...

      at handleStartGame (src/components/games/GameHostDashboard.tsx:1535:17)

  console.log
    üé¨ Calling GameService.startGameIntroduction...

      at handleStartGame (src/components/games/GameHostDashboard.tsx:1540:15)

  console.error
    Failed to start game introduction: Error: Failed to start
        at Object.<anonymous> (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\components\games\GameHostDashboard.test.tsx:338:21)
        at Promise.then.completed (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\utils.js:298:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\utils.js:231:10)
        at _callCircusTest (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:316:40)
        at _runTest (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:252:3)
        at _runTestsForDescribeBlock (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:126:9)
        at _runTestsForDescribeBlock (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:121:9)
        at _runTestsForDescribeBlock (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:121:9)
        at run (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:71:3)
        at runAndTransformResultsToJestFormat (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
        at jestAdapter (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
        at runTestInternal (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-runner\build\runTest.js:367:16)
        at runTest (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-runner\build\runTest.js:444:34)
        at Object.worker (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 1551 |[39m       }[33m,[39m [35m2000[39m)[33m;[39m
     [90m 1552 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 1553 |[39m       console[33m.[39merror([32m"Failed to start game introduction:"[39m[33m,[39m error)[33m;[39m
     [90m      |[39m               [31m[1m^[22m[39m
     [90m 1554 |[39m       showStatus(
     [90m 1555 |[39m         [32m`Failed to start game: ${[39m
     [90m 1556 |[39m [32m          error instanceof Error ? error.message : "Unknown error"[39m[0m

      at handleStartGame (src/components/games/GameHostDashboard.tsx:1553:15)

  console.error
    An update to GameHostDashboard inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 476 |[39m           setConnectionStatus([32m"SLOW"[39m)[33m;[39m
     [90m 477 |[39m         } [36melse[39m {
    [31m[1m>[22m[39m[90m 478 |[39m           setConnectionStatus([32m"ACTIVE"[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 479 |[39m         }
     [90m 480 |[39m       } [36mcatch[39m (error) {
     [90m 481 |[39m         console[33m.[39merror([32m"Connection check failed:"[39m[33m,[39m error)[33m;[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at checkConnection (src/components/games/GameHostDashboard.tsx:478:11)

  console.log
    üîå Cleaning up broadcast channel for game: game-123

      at src/components/games/GameHostDashboard.tsx:728:15
          at Array.forEach (<anonymous>)

  console.log
    üì° Setting up broadcast channel for game: game-123

      at src/components/games/GameHostDashboard.tsx:706:13

  console.log
    üéÆ Initial players loaded: [
      {
        game_id: 'game-123',
        user_id: 'user-456',
        nickname: 'Player One',
        score: 1000,
        joined_at: '2023-01-01T00:00:00Z'
      },
      {
        game_id: 'game-123',
        user_id: 'user-789',
        nickname: 'Player Two',
        score: 500,
        joined_at: '2023-01-01T00:01:00Z'
      }
    ]

      at loadGameData (src/components/games/GameHostDashboard.tsx:558:17)

  console.log
    üîç Render state: { user: true, roleLoading: false, userRole: null, mode: 'clue-sets' }

      at src/app/App.tsx:811:25

  console.log
    üéÆ renderPlayerInterface called: { userRole: null, mode: 'clue-sets' }

      at renderPlayerInterface (src/app/App.tsx:486:13)

  console.log
    ‚ùå Not rendering player interface - userRole is not player: null

      at renderPlayerInterface (src/app/App.tsx:490:15)

  console.log
    üîç Starting role detection for user: user-123

      at detectUserRole (src/app/App.tsx:258:15)

  console.log
    üîç Render state: { user: true, roleLoading: true, userRole: null, mode: 'clue-sets' }

      at src/app/App.tsx:811:25

  console.log
    üìä Profile query result: { profile: { role: 'host' }, error: null }

      at src/app/App.tsx:169:13

  console.log
    üéÆ No active game, going to game creation

      at src/app/App.tsx:226:17

  console.log
    üîç Render state: { user: true, roleLoading: false, userRole: 'host', mode: 'clue-sets' }

      at src/app/App.tsx:811:25

  console.log
    üéÆ renderPlayerInterface called: { userRole: 'host', mode: 'clue-sets' }

      at renderPlayerInterface (src/app/App.tsx:486:13)

  console.log
    ‚ùå Not rendering player interface - userRole is not player: host

      at renderPlayerInterface (src/app/App.tsx:490:15)

  console.error
    An update to AuthProvider inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 240 |[39m       }
     [90m 241 |[39m
    [31m[1m>[22m[39m[90m 242 |[39m       setLoading([36mfalse[39m) [90m// Authentication state is now determined (after profile creation)[39m
     [90m     |[39m       [31m[1m^[22m[39m
     [90m 243 |[39m     })
     [90m 244 |[39m
     [90m 245 |[39m     [90m// Set up real-time authentication state listener[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at src/contexts/AuthContext.tsx:242:7

  console.log
    üîç Render state: { user: true, roleLoading: false, userRole: null, mode: 'clue-sets' }

      at src/app/App.tsx:811:25

  console.log
    üéÆ renderPlayerInterface called: { userRole: null, mode: 'clue-sets' }

      at renderPlayerInterface (src/app/App.tsx:486:13)

  console.log
    ‚ùå Not rendering player interface - userRole is not player: null

      at renderPlayerInterface (src/app/App.tsx:490:15)

  console.log
    üîç Starting role detection for user: user-123

      at detectUserRole (src/app/App.tsx:258:15)

  console.log
    üîç Render state: { user: true, roleLoading: true, userRole: null, mode: 'clue-sets' }

      at src/app/App.tsx:811:25

  console.log
    üìä Profile query result: { profile: { role: 'host' }, error: null }

      at src/app/App.tsx:169:13

  console.log
    üéÆ No active game, going to game creation

      at src/app/App.tsx:226:17

  console.error
    An update to GameHostDashboard inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 476 |[39m           setConnectionStatus([32m"SLOW"[39m)[33m;[39m
     [90m 477 |[39m         } [36melse[39m {
    [31m[1m>[22m[39m[90m 478 |[39m           setConnectionStatus([32m"ACTIVE"[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 479 |[39m         }
     [90m 480 |[39m       } [36mcatch[39m (error) {
     [90m 481 |[39m         console[33m.[39merror([32m"Connection check failed:"[39m[33m,[39m error)[33m;[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at checkConnection (src/components/games/GameHostDashboard.tsx:478:11)

  console.log
    üîå Cleaning up broadcast channel for game: game-123

      at src/components/games/GameHostDashboard.tsx:728:15
          at Array.forEach (<anonymous>)

  console.log
    üì° Setting up broadcast channel for game: game-123

      at src/components/games/GameHostDashboard.tsx:706:13

  console.log
    üéÆ Initial players loaded: [
      {
        game_id: 'game-123',
        user_id: 'user-456',
        nickname: 'Player One',
        score: 1000,
        joined_at: '2023-01-01T00:00:00Z'
      },
      {
        game_id: 'game-123',
        user_id: 'user-789',
        nickname: 'Player Two',
        score: 500,
        joined_at: '2023-01-01T00:01:00Z'
      }
    ]

      at loadGameData (src/components/games/GameHostDashboard.tsx:558:17)

  console.error
    An update to GameHostDashboard inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 476 |[39m           setConnectionStatus([32m"SLOW"[39m)[33m;[39m
     [90m 477 |[39m         } [36melse[39m {
    [31m[1m>[22m[39m[90m 478 |[39m           setConnectionStatus([32m"ACTIVE"[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 479 |[39m         }
     [90m 480 |[39m       } [36mcatch[39m (error) {
     [90m 481 |[39m         console[33m.[39merror([32m"Connection check failed:"[39m[33m,[39m error)[33m;[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at checkConnection (src/components/games/GameHostDashboard.tsx:478:11)

  console.log
    üîå Cleaning up broadcast channel for game: game-123

      at src/components/games/GameHostDashboard.tsx:728:15
          at Array.forEach (<anonymous>)

  console.log
    üì° Setting up broadcast channel for game: game-123

      at src/components/games/GameHostDashboard.tsx:706:13

  console.log
    üéÆ Initial players loaded: [
      {
        game_id: 'game-123',
        user_id: 'user-456',
        nickname: 'Player One',
        score: 1000,
        joined_at: '2023-01-01T00:00:00Z'
      },
      {
        game_id: 'game-123',
        user_id: 'user-789',
        nickname: 'Player Two',
        score: 500,
        joined_at: '2023-01-01T00:01:00Z'
      }
    ]

      at loadGameData (src/components/games/GameHostDashboard.tsx:558:17)

  console.log
    üîç Render state: { user: true, roleLoading: false, userRole: 'host', mode: 'clue-sets' }

      at src/app/App.tsx:811:25

  console.log
    üéÆ renderPlayerInterface called: { userRole: 'host', mode: 'clue-sets' }

      at renderPlayerInterface (src/app/App.tsx:486:13)

  console.log
    ‚ùå Not rendering player interface - userRole is not player: host

      at renderPlayerInterface (src/app/App.tsx:490:15)

  console.error
    An update to PlayerJoin inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 68 |[39m         [90m// Set nickname to profile display_name or default to email prefix[39m
     [90m 69 |[39m         [36mconst[39m currentNickname [33m=[39m profile[33m?[39m[33m.[39mdisplay_name [33m?[39m[33m?[39m getDefaultNicknameFromEmail(user[33m.[39memail [33m?[39m[33m?[39m [32m''[39m)
    [31m[1m>[22m[39m[90m 70 |[39m         setNickname(currentNickname)
     [90m    |[39m         [31m[1m^[22m[39m
     [90m 71 |[39m       } [36mcatch[39m (err) {
     [90m 72 |[39m         console[33m.[39mwarn([32m'Error loading user nickname:'[39m[33m,[39m err)
     [90m 73 |[39m         [90m// Fallback to email prefix[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at loadUserNickname (src/components/players/PlayerJoin.tsx:70:9)

  console.log
    üîç Render state: { user: true, roleLoading: false, userRole: 'host', mode: 'clue-sets' }

      at src/app/App.tsx:811:25

  console.error
    An update to PlayerJoin inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m  98 |[39m           [90m// Only set if foundGame is not undefined (exactOptionalPropertyTypes compliance)[39m
     [90m  99 |[39m           [36mif[39m (foundGame [33m!==[39m undefined) {
    [31m[1m>[22m[39m[90m 100 |[39m             setAvailableGame(foundGame)[33m;[39m
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 101 |[39m           }
     [90m 102 |[39m         }
     [90m 103 |[39m       } [36mcatch[39m (err) {[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at checkForAvailableGame (src/components/players/PlayerJoin.tsx:100:13)

  console.error
    An update to PlayerJoin inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 106 |[39m         setAvailableGame([36mnull[39m)
     [90m 107 |[39m       } [36mfinally[39m {
    [31m[1m>[22m[39m[90m 108 |[39m         setCheckingForGame([36mfalse[39m)
     [90m     |[39m         [31m[1m^[22m[39m
     [90m 109 |[39m       }
     [90m 110 |[39m     }
     [90m 111 |[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at checkForAvailableGame (src/components/players/PlayerJoin.tsx:108:9)

  console.log
    üéÆ renderPlayerInterface called: { userRole: 'host', mode: 'clue-sets' }

      at renderPlayerInterface (src/app/App.tsx:486:13)

  console.log
    ‚ùå Not rendering player interface - userRole is not player: host

      at renderPlayerInterface (src/app/App.tsx:490:15)

  console.error
    Failed to end game: Error: Database error
        at Object.<anonymous> (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\components\games\GameHostDashboard.test.tsx:430:23)
        at Promise.then.completed (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\utils.js:298:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\utils.js:231:10)
        at _callCircusTest (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:316:40)
        at _runTest (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:252:3)
        at _runTestsForDescribeBlock (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:126:9)
        at _runTestsForDescribeBlock (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:121:9)
        at _runTestsForDescribeBlock (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:121:9)
        at _runTestsForDescribeBlock (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:121:9)
        at run (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:71:3)
        at runAndTransformResultsToJestFormat (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
        at jestAdapter (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
        at runTestInternal (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-runner\build\runTest.js:367:16)
        at runTest (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-runner\build\runTest.js:444:34)
        at Object.worker (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 1828 |[39m     } [36mcatch[39m (error) {
     [90m 1829 |[39m       [90m// Log error for debugging[39m
    [31m[1m>[22m[39m[90m 1830 |[39m       console[33m.[39merror([32m"Failed to end game:"[39m[33m,[39m error)[33m;[39m
     [90m      |[39m               [31m[1m^[22m[39m
     [90m 1831 |[39m
     [90m 1832 |[39m       [90m// Display user-friendly error message[39m
     [90m 1833 |[39m       showStatus([0m

      at handleEndGame (src/components/games/GameHostDashboard.tsx:1830:15)

  console.error
    An update to GameHostDashboard inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 476 |[39m           setConnectionStatus([32m"SLOW"[39m)[33m;[39m
     [90m 477 |[39m         } [36melse[39m {
    [31m[1m>[22m[39m[90m 478 |[39m           setConnectionStatus([32m"ACTIVE"[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 479 |[39m         }
     [90m 480 |[39m       } [36mcatch[39m (error) {
     [90m 481 |[39m         console[33m.[39merror([32m"Connection check failed:"[39m[33m,[39m error)[33m;[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at checkConnection (src/components/games/GameHostDashboard.tsx:478:11)

  console.log
    üîå Cleaning up broadcast channel for game: game-123

      at src/components/games/GameHostDashboard.tsx:728:15
          at Array.forEach (<anonymous>)

  console.log
    üì° Setting up broadcast channel for game: game-123

      at src/components/games/GameHostDashboard.tsx:706:13

  console.log
    üéÆ Initial players loaded: [
      {
        game_id: 'game-123',
        user_id: 'user-456',
        nickname: 'Player One',
        score: 1000,
        joined_at: '2023-01-01T00:00:00Z'
      },
      {
        game_id: 'game-123',
        user_id: 'user-789',
        nickname: 'Player Two',
        score: 500,
        joined_at: '2023-01-01T00:01:00Z'
      }
    ]

      at loadGameData (src/components/games/GameHostDashboard.tsx:558:17)

  console.log
    üîç Render state: { user: true, roleLoading: false, userRole: 'host', mode: 'dashboard' }

      at src/app/App.tsx:811:25

  console.log
    üéÆ renderPlayerInterface called: { userRole: 'host', mode: 'dashboard' }

      at renderPlayerInterface (src/app/App.tsx:486:13)

  console.log
    ‚ùå Not rendering player interface - userRole is not player: host

      at renderPlayerInterface (src/app/App.tsx:490:15)

  console.log
    üîå Cleaning up broadcast channel for game: game-123

      at src/components/games/GameHostDashboard.tsx:728:15
          at Array.forEach (<anonymous>)

  console.log
    üì° Setting up broadcast channel for game: game-123

      at src/components/games/GameHostDashboard.tsx:706:13

  console.log
    üéÆ Initial players loaded: [
      {
        game_id: 'game-123',
        user_id: 'user-456',
        nickname: 'Player One',
        score: 1000,
        joined_at: '2023-01-01T00:00:00Z'
      },
      {
        game_id: 'game-123',
        user_id: 'user-789',
        nickname: 'Player Two',
        score: 500,
        joined_at: '2023-01-01T00:01:00Z'
      }
    ]

      at loadGameData (src/components/games/GameHostDashboard.tsx:558:17)

  console.log
    üì° Setting up broadcast channel for game: game-123

      at src/components/games/GameHostDashboard.tsx:706:13

  console.log
    üéÆ Initial players loaded: []

      at loadGameData (src/components/games/GameHostDashboard.tsx:558:17)

  console.error
    Failed to load game data: TypeError: client_1.supabase.from(...).select(...).eq(...).eq is not a function
        at Function.getDailyDoublePositions (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\services\clues\ClueService.ts:208:8)
        at loadGameData (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\components\games\GameHostDashboard.tsx:566:51)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at runNextTicks (node:internal/process/task_queues:69:3)
        at listOnTimeout (node:internal/timers:555:9)
        at processTimers (node:internal/timers:529:7)

    [0m [90m 581 |[39m       } [36mcatch[39m (error) {
     [90m 582 |[39m         [90m// Log error for debugging and development[39m
    [31m[1m>[22m[39m[90m 583 |[39m         console[33m.[39merror([32m"Failed to load game data:"[39m[33m,[39m error)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 584 |[39m
     [90m 585 |[39m         [90m// Display user-friendly error message[39m
     [90m 586 |[39m         showStatus([0m

      at loadGameData (src/components/games/GameHostDashboard.tsx:583:17)

  console.log
    üîç Render state: { user: true, roleLoading: false, userRole: 'host', mode: 'clue-sets' }

      at src/app/App.tsx:811:25

  console.log
    üéÆ renderPlayerInterface called: { userRole: 'host', mode: 'clue-sets' }

      at renderPlayerInterface (src/app/App.tsx:486:13)

  console.error
    An update to PlayerJoin inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 68 |[39m         [90m// Set nickname to profile display_name or default to email prefix[39m
     [90m 69 |[39m         [36mconst[39m currentNickname [33m=[39m profile[33m?[39m[33m.[39mdisplay_name [33m?[39m[33m?[39m getDefaultNicknameFromEmail(user[33m.[39memail [33m?[39m[33m?[39m [32m''[39m)
    [31m[1m>[22m[39m[90m 70 |[39m         setNickname(currentNickname)
     [90m    |[39m         [31m[1m^[22m[39m
     [90m 71 |[39m       } [36mcatch[39m (err) {
     [90m 72 |[39m         console[33m.[39mwarn([32m'Error loading user nickname:'[39m[33m,[39m err)
     [90m 73 |[39m         [90m// Fallback to email prefix[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at loadUserNickname (src/components/players/PlayerJoin.tsx:70:9)

  console.log
    ‚ùå Not rendering player interface - userRole is not player: host

      at renderPlayerInterface (src/app/App.tsx:490:15)

  console.error
    An update to PlayerJoin inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m  98 |[39m           [90m// Only set if foundGame is not undefined (exactOptionalPropertyTypes compliance)[39m
     [90m  99 |[39m           [36mif[39m (foundGame [33m!==[39m undefined) {
    [31m[1m>[22m[39m[90m 100 |[39m             setAvailableGame(foundGame)[33m;[39m
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 101 |[39m           }
     [90m 102 |[39m         }
     [90m 103 |[39m       } [36mcatch[39m (err) {[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at checkForAvailableGame (src/components/players/PlayerJoin.tsx:100:13)

  console.error
    An update to PlayerJoin inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 106 |[39m         setAvailableGame([36mnull[39m)
     [90m 107 |[39m       } [36mfinally[39m {
    [31m[1m>[22m[39m[90m 108 |[39m         setCheckingForGame([36mfalse[39m)
     [90m     |[39m         [31m[1m^[22m[39m
     [90m 109 |[39m       }
     [90m 110 |[39m     }
     [90m 111 |[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at checkForAvailableGame (src/components/players/PlayerJoin.tsx:108:9)

  console.log
    üîå Cleaning up broadcast channel for game: game-123

      at src/components/games/GameHostDashboard.tsx:728:15

  console.log
    üîå Unsubscribed from buzzer channel: game-123

      at Object.unsubscribe (src/services/realtime/BroadcastService.ts:154:17)

  console.error
    An update to PlayerJoin inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 68 |[39m         [90m// Set nickname to profile display_name or default to email prefix[39m
     [90m 69 |[39m         [36mconst[39m currentNickname [33m=[39m profile[33m?[39m[33m.[39mdisplay_name [33m?[39m[33m?[39m getDefaultNicknameFromEmail(user[33m.[39memail [33m?[39m[33m?[39m [32m''[39m)
    [31m[1m>[22m[39m[90m 70 |[39m         setNickname(currentNickname)
     [90m    |[39m         [31m[1m^[22m[39m
     [90m 71 |[39m       } [36mcatch[39m (err) {
     [90m 72 |[39m         console[33m.[39mwarn([32m'Error loading user nickname:'[39m[33m,[39m err)
     [90m 73 |[39m         [90m// Fallback to email prefix[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at loadUserNickname (src/components/players/PlayerJoin.tsx:70:9)

  console.error
    An update to PlayerJoin inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m  98 |[39m           [90m// Only set if foundGame is not undefined (exactOptionalPropertyTypes compliance)[39m
     [90m  99 |[39m           [36mif[39m (foundGame [33m!==[39m undefined) {
    [31m[1m>[22m[39m[90m 100 |[39m             setAvailableGame(foundGame)[33m;[39m
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 101 |[39m           }
     [90m 102 |[39m         }
     [90m 103 |[39m       } [36mcatch[39m (err) {[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at checkForAvailableGame (src/components/players/PlayerJoin.tsx:100:13)

  console.error
    An update to PlayerJoin inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 106 |[39m         setAvailableGame([36mnull[39m)
     [90m 107 |[39m       } [36mfinally[39m {
    [31m[1m>[22m[39m[90m 108 |[39m         setCheckingForGame([36mfalse[39m)
     [90m     |[39m         [31m[1m^[22m[39m
     [90m 109 |[39m       }
     [90m 110 |[39m     }
     [90m 111 |[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at checkForAvailableGame (src/components/players/PlayerJoin.tsx:108:9)

  console.log
    üîå Cleaning up broadcast channel for game: game-123

      at src/components/games/GameHostDashboard.tsx:728:15
          at Array.forEach (<anonymous>)

  console.log
    üì° Setting up broadcast channel for game: game-123

      at src/components/games/GameHostDashboard.tsx:706:13

  console.log
    üéÆ Initial players loaded: [
      {
        game_id: 'game-123',
        user_id: 'user-456',
        nickname: 'Player One',
        score: 1000,
        joined_at: '2023-01-01T00:00:00Z'
      },
      {
        game_id: 'game-123',
        user_id: 'user-789',
        nickname: 'Player Two',
        score: 500,
        joined_at: '2023-01-01T00:01:00Z'
      }
    ]

      at loadGameData (src/components/games/GameHostDashboard.tsx:558:17)

  console.log
    üîç Render state: { user: true, roleLoading: false, userRole: null, mode: 'clue-sets' }

      at src/app/App.tsx:811:25

  console.log
    üéÆ renderPlayerInterface called: { userRole: null, mode: 'clue-sets' }

      at renderPlayerInterface (src/app/App.tsx:486:13)

  console.log
    ‚ùå Not rendering player interface - userRole is not player: null

      at renderPlayerInterface (src/app/App.tsx:490:15)

  console.error
    Error loading clue set: Error: Failed to fetch nonexistent.csv: 404 Not Found
        at loadClueSetFromCSV (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\services\clueSets\loader.ts:214:13)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at Object.<anonymous> (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\services\clueSets\loader.test.ts:54:7)

    [0m [90m 240 |[39m   } [36mcatch[39m (error) {
     [90m 241 |[39m     [90m// Log error for debugging while preserving original error for caller[39m
    [31m[1m>[22m[39m[90m 242 |[39m     console[33m.[39merror([32m'Error loading clue set:'[39m[33m,[39m error)
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 243 |[39m     [36mthrow[39m error
     [90m 244 |[39m   }
     [90m 245 |[39m }[0m

      at loadClueSetFromCSV (src/services/clueSets/loader.ts:242:13)
      at Object.<anonymous> (src/services/clueSets/loader.test.ts:54:7)

  console.log
    üîç Starting role detection for user: user-123

      at detectUserRole (src/app/App.tsx:258:15)

  console.log
    üîç Render state: { user: true, roleLoading: true, userRole: null, mode: 'clue-sets' }

      at src/app/App.tsx:811:25

  console.log
    üìä Profile query result: { profile: { role: 'host' }, error: null }

      at src/app/App.tsx:169:13

  console.log
    üéÆ No active game, going to game creation

      at src/app/App.tsx:226:17

  console.error
    Error loading clue set: Error: Network error
        at Object.<anonymous> (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\services\clueSets\loader.test.ts:58:54)
        at Promise.then.completed (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\utils.js:298:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\utils.js:231:10)
        at _callCircusTest (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:316:40)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at _runTest (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:252:3)
        at _runTestsForDescribeBlock (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:126:9)
        at _runTestsForDescribeBlock (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:121:9)
        at _runTestsForDescribeBlock (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:121:9)
        at run (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:71:3)
        at runAndTransformResultsToJestFormat (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
        at jestAdapter (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
        at runTestInternal (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-runner\build\runTest.js:367:16)
        at runTest (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-runner\build\runTest.js:444:34)
        at Object.worker (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 240 |[39m   } [36mcatch[39m (error) {
     [90m 241 |[39m     [90m// Log error for debugging while preserving original error for caller[39m
    [31m[1m>[22m[39m[90m 242 |[39m     console[33m.[39merror([32m'Error loading clue set:'[39m[33m,[39m error)
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 243 |[39m     [36mthrow[39m error
     [90m 244 |[39m   }
     [90m 245 |[39m }[0m

      at loadClueSetFromCSV (src/services/clueSets/loader.ts:242:13)
      at Object.<anonymous> (src/services/clueSets/loader.test.ts:60:7)

  console.log
    üì° Setting up broadcast channel for game: game-123

      at src/components/games/GameHostDashboard.tsx:706:13

  console.log
    üîç Render state: { user: true, roleLoading: false, userRole: 'host', mode: 'clue-sets' }

      at src/app/App.tsx:811:25

  console.log
    üéÆ renderPlayerInterface called: { userRole: 'host', mode: 'clue-sets' }

      at renderPlayerInterface (src/app/App.tsx:486:13)

  console.log
    ‚ùå Not rendering player interface - userRole is not player: host

      at renderPlayerInterface (src/app/App.tsx:490:15)

  console.log
    üéÆ Initial players loaded: []

      at loadGameData (src/components/games/GameHostDashboard.tsx:558:17)

  console.error
    Error loading clue set: Error: Row 2 has 3 fields, expected 5
        at parseCSV (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\utils\csvParser.ts:117:15)
        at loadClueSetFromCSV (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\services\clueSets\loader.ts:221:26)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at Object.<anonymous> (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\services\clueSets\loader.test.ts:70:7)

    [0m [90m 240 |[39m   } [36mcatch[39m (error) {
     [90m 241 |[39m     [90m// Log error for debugging while preserving original error for caller[39m
    [31m[1m>[22m[39m[90m 242 |[39m     console[33m.[39merror([32m'Error loading clue set:'[39m[33m,[39m error)
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 243 |[39m     [36mthrow[39m error
     [90m 244 |[39m   }
     [90m 245 |[39m }[0m

      at loadClueSetFromCSV (src/services/clueSets/loader.ts:242:13)
      at Object.<anonymous> (src/services/clueSets/loader.test.ts:70:7)

  console.error
    Error loading clue set: Error: Jeopardy round should have 30 clues, found 1
        at validateJeopardyStructure (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\utils\csvParser.ts:320:11)
        at loadClueSetFromCSV (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\services\clueSets\loader.ts:224:30)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at Object.<anonymous> (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\services\clueSets\loader.test.ts:84:7)

    [0m [90m 240 |[39m   } [36mcatch[39m (error) {
     [90m 241 |[39m     [90m// Log error for debugging while preserving original error for caller[39m
    [31m[1m>[22m[39m[90m 242 |[39m     console[33m.[39merror([32m'Error loading clue set:'[39m[33m,[39m error)
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 243 |[39m     [36mthrow[39m error
     [90m 244 |[39m   }
     [90m 245 |[39m }[0m

      at loadClueSetFromCSV (src/services/clueSets/loader.ts:242:13)
      at Object.<anonymous> (src/services/clueSets/loader.test.ts:84:7)

  console.log
    Generated Daily Double positions for jeopardy round: [ { category: 4, row: 2 } ]

      at createBoard (src/services/clueSets/loader.ts:557:13)

  console.log
    Generated Daily Double positions for double round: [ { category: 6, row: 4 }, { category: 3, row: 5 } ]

      at createBoard (src/services/clueSets/loader.ts:557:13)

  console.error
    Error saving clue set to database: Error: Database error
        at Object.<anonymous> (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\services\clueSets\loader.test.ts:175:23)
        at Promise.then.completed (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\utils.js:298:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\utils.js:231:10)
        at _callCircusTest (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:316:40)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at _runTest (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:252:3)
        at _runTestsForDescribeBlock (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:126:9)
        at _runTestsForDescribeBlock (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:121:9)
        at _runTestsForDescribeBlock (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:121:9)
        at run (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:71:3)
        at runAndTransformResultsToJestFormat (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
        at jestAdapter (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
        at runTestInternal (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-runner\build\runTest.js:367:16)
        at runTest (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-runner\build\runTest.js:444:34)
        at Object.worker (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 520 |[39m   } [36mcatch[39m (error) {
     [90m 521 |[39m     [90m// Log error for debugging while preserving original error for caller[39m
    [31m[1m>[22m[39m[90m 522 |[39m     console[33m.[39merror([32m'Error saving clue set to database:'[39m[33m,[39m error)
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 523 |[39m     [36mthrow[39m error
     [90m 524 |[39m   }
     [90m 525 |[39m }[0m

      at saveClueSetToDatabase (src/services/clueSets/loader.ts:522:13)
      at Object.<anonymous> (src/services/clueSets/loader.test.ts:187:7)

  console.error
    Error saving clue set to database: Error: Failed to create clue set: No data returned
        at saveClueSetToDatabase (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\services\clueSets\loader.ts:501:13)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at Object.<anonymous> (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\services\clueSets\loader.test.ts:203:7)

    [0m [90m 520 |[39m   } [36mcatch[39m (error) {
     [90m 521 |[39m     [90m// Log error for debugging while preserving original error for caller[39m
    [31m[1m>[22m[39m[90m 522 |[39m     console[33m.[39merror([32m'Error saving clue set to database:'[39m[33m,[39m error)
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 523 |[39m     [36mthrow[39m error
     [90m 524 |[39m   }
     [90m 525 |[39m }[0m

      at saveClueSetToDatabase (src/services/clueSets/loader.ts:522:13)
      at Object.<anonymous> (src/services/clueSets/loader.test.ts:203:7)

  console.log
    Generated Daily Double positions for jeopardy round: [ { category: 6, row: 3 } ]

      at createBoard (src/services/clueSets/loader.ts:557:13)

  console.log
    Generated Daily Double positions for double round: [ { category: 1, row: 3 }, { category: 5, row: 4 } ]

      at createBoard (src/services/clueSets/loader.ts:557:13)

  console.log
    Generated Daily Double positions for jeopardy round: [ { category: 4, row: 3 } ]

      at createBoard (src/services/clueSets/loader.ts:557:13)

  console.log
    Generated Daily Double positions for double round: [ { category: 4, row: 4 }, { category: 1, row: 5 } ]

      at createBoard (src/services/clueSets/loader.ts:557:13)

PASS src/services/clueSets/loader.test.ts
  clueSetLoader
    loadClueSetFromCSV
      ‚àö should successfully load and parse valid CSV file (89 ms)
      ‚àö should handle fetch error (391 ms)
      ‚àö should handle network error (13 ms)
      ‚àö should handle CSV parsing error with malformed CSV (24 ms)
      ‚àö should handle validation error with invalid structure (4 ms)
      ‚àö should call correct URL for CSV file (1 ms)
      ‚àö should structure round data correctly with multiple categories (2 ms)
    saveClueSetToDatabase
      ‚àö should save clue set to database successfully (9 ms)
      ‚àö should handle database error during clue set creation (5 ms)
      ‚àö should handle missing clue set ID in response (18 ms)
      ‚àö should create boards for each round (4 ms)
      ‚àö should create categories and clues for each board (7 ms)
    integration tests
      ‚àö should handle complete workflow from CSV to database

  console.log
    üîå Cleaning up broadcast channel for game: game-123

      at src/components/games/GameHostDashboard.tsx:728:15
          at Array.forEach (<anonymous>)

  console.log
    üîå Cleaning up broadcast channel for game: game-123

      at src/components/games/GameHostDashboard.tsx:728:15
          at Array.forEach (<anonymous>)

  console.log
    üì° Setting up broadcast channel for game: game-123

      at src/components/games/GameHostDashboard.tsx:706:13

  console.log
    üîç Render state: { user: true, roleLoading: false, userRole: null, mode: 'clue-sets' }

      at src/app/App.tsx:811:25

  console.log
    üéÆ Initial players loaded: [
      {
        game_id: 'game-123',
        user_id: 'user-456',
        nickname: 'Player One',
        score: 1000,
        joined_at: '2023-01-01T00:00:00Z'
      },
      {
        game_id: 'game-123',
        user_id: 'user-789',
        nickname: 'Player Two',
        score: 500,
        joined_at: '2023-01-01T00:01:00Z'
      }
    ]

      at loadGameData (src/components/games/GameHostDashboard.tsx:558:17)

  console.log
    üéÆ renderPlayerInterface called: { userRole: null, mode: 'clue-sets' }

      at renderPlayerInterface (src/app/App.tsx:486:13)

  console.log
    ‚ùå Not rendering player interface - userRole is not player: null

      at renderPlayerInterface (src/app/App.tsx:490:15)

  console.log
    üîç Starting role detection for user: user-123

      at detectUserRole (src/app/App.tsx:258:15)

  console.log
    üîç Render state: { user: true, roleLoading: true, userRole: null, mode: 'clue-sets' }

      at src/app/App.tsx:811:25

  console.log
    üìä Profile query result: { profile: { role: 'player' }, error: null }

      at src/app/App.tsx:169:13

  console.log
    üéÆ No active game, going to join screen

      at src/app/App.tsx:192:17

  console.warn
    Could not load user profile: { message: 'Profile error' }

    [0m [90m 63 |[39m
     [90m 64 |[39m         [36mif[39m (profileError) {
    [31m[1m>[22m[39m[90m 65 |[39m           console[33m.[39mwarn([32m'Could not load user profile:'[39m[33m,[39m profileError)
     [90m    |[39m                   [31m[1m^[22m[39m
     [90m 66 |[39m         }
     [90m 67 |[39m
     [90m 68 |[39m         [90m// Set nickname to profile display_name or default to email prefix[39m[0m

      at loadUserNickname (src/components/players/PlayerJoin.tsx:65:19)

  console.log
    üîç Render state: {
      user: true,
      roleLoading: false,
      userRole: 'player',
      mode: 'player-join'
    }

      at src/app/App.tsx:811:25

  console.log
    üéÆ renderPlayerInterface called: { userRole: 'player', mode: 'player-join' }

      at renderPlayerInterface (src/app/App.tsx:486:13)

  console.log
    ‚úÖ Rendering PlayerJoin component

      at renderPlayerInterface (src/app/App.tsx:495:15)

  console.log
    üîå Cleaning up broadcast channel for game: game-123

      at src/components/games/GameHostDashboard.tsx:728:15
          at Array.forEach (<anonymous>)

  console.log
    üì° Setting up broadcast channel for game: game-123

      at src/components/games/GameHostDashboard.tsx:706:13

  console.log
    üéÆ Initial players loaded: [
      {
        game_id: 'game-123',
        user_id: 'user-456',
        nickname: 'Player One',
        score: 1000,
        joined_at: '2023-01-01T00:00:00Z'
      },
      {
        game_id: 'game-123',
        user_id: 'user-789',
        nickname: 'Player Two',
        score: 500,
        joined_at: '2023-01-01T00:01:00Z'
      }
    ]

      at loadGameData (src/components/games/GameHostDashboard.tsx:558:17)

  console.error
    ‚ùå Error in checkForAvailableGame: TypeError: client_1.supabase.from(...).select(...).eq(...).limit is not a function
        at checkForAvailableGame (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\components\players\PlayerJoin.tsx:90:12)
        at D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\components\players\PlayerJoin.tsx:112:10
        at Object.react_stack_bottom_frame (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:25989:20)
        at runWithFiberInDEV (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:874:13)
        at commitHookEffectListMount (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:13249:29)
        at commitHookPassiveMountEffects (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:13336:11)
        at commitPassiveMountOnFiber (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15484:13)
        at recursivelyTraversePassiveMountEffects (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15439:11)
        at commitPassiveMountOnFiber (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15718:11)
        at recursivelyTraversePassiveMountEffects (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15439:11)
        at commitPassiveMountOnFiber (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15718:11)
        at recursivelyTraversePassiveMountEffects (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15439:11)
        at commitPassiveMountOnFiber (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15718:11)
        at recursivelyTraversePassiveMountEffects (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15439:11)
        at commitPassiveMountOnFiber (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15718:11)
        at recursivelyTraversePassiveMountEffects (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15439:11)
        at commitPassiveMountOnFiber (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15718:11)
        at recursivelyTraversePassiveMountEffects (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15439:11)
        at commitPassiveMountOnFiber (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15718:11)
        at recursivelyTraversePassiveMountEffects (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15439:11)
        at commitPassiveMountOnFiber (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15476:11)
        at recursivelyTraversePassiveMountEffects (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15439:11)
        at commitPassiveMountOnFiber (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15718:11)
        at recursivelyTraversePassiveMountEffects (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15439:11)
        at commitPassiveMountOnFiber (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15476:11)
        at recursivelyTraversePassiveMountEffects (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15439:11)
        at commitPassiveMountOnFiber (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15519:11)
        at flushPassiveEffects (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:18432:9)
        at D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:17923:15
        at performWorkUntilDeadline (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\scheduler\cjs\scheduler.development.js:45:48)
        at Timeout.task [as _onTimeout] (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jsdom\lib\jsdom\browser\Window.js:579:19)
        at listOnTimeout (node:internal/timers:594:17)
        at processTimers (node:internal/timers:529:7)

    [0m [90m 102 |[39m         }
     [90m 103 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 104 |[39m         console[33m.[39merror([32m'‚ùå Error in checkForAvailableGame:'[39m[33m,[39m err)
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 105 |[39m         setError([32m'Failed to check for available games'[39m)
     [90m 106 |[39m         setAvailableGame([36mnull[39m)
     [90m 107 |[39m       } [36mfinally[39m {[0m

      at checkForAvailableGame (src/components/players/PlayerJoin.tsx:104:17)
      at src/components/players/PlayerJoin.tsx:112:10
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at performWorkUntilDeadline (node_modules/scheduler/cjs/scheduler.development.js:45:48)
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

  console.log
    üîç Render state: { user: true, roleLoading: false, userRole: null, mode: 'clue-sets' }

      at src/app/App.tsx:811:25

  console.log
    üéÆ renderPlayerInterface called: { userRole: null, mode: 'clue-sets' }

      at renderPlayerInterface (src/app/App.tsx:486:13)

  console.log
    ‚ùå Not rendering player interface - userRole is not player: null

      at renderPlayerInterface (src/app/App.tsx:490:15)

  console.log
    üîç Starting role detection for user: user-123

      at detectUserRole (src/app/App.tsx:258:15)

  console.log
    üîç Render state: { user: true, roleLoading: true, userRole: null, mode: 'clue-sets' }

      at src/app/App.tsx:811:25

  console.log
    üìä Profile query result: { profile: { role: 'player' }, error: null }

      at src/app/App.tsx:169:13

  console.log
    üéÆ Active game exists but player not joined, going to join screen

      at src/app/App.tsx:205:17

  console.log
    üîç Render state: {
      user: true,
      roleLoading: false,
      userRole: 'player',
      mode: 'player-join'
    }

      at src/app/App.tsx:811:25

  console.log
    üéÆ renderPlayerInterface called: { userRole: 'player', mode: 'player-join' }

      at renderPlayerInterface (src/app/App.tsx:486:13)

  console.log
    ‚úÖ Rendering PlayerJoin component

      at renderPlayerInterface (src/app/App.tsx:495:15)

  console.log
    üîå Cleaning up broadcast channel for game: game-123

      at src/components/games/GameHostDashboard.tsx:728:15
          at Array.forEach (<anonymous>)

  console.error
    ‚ùå Error in checkForAvailableGame: TypeError: client_1.supabase.from(...).select(...).eq(...).limit is not a function
        at checkForAvailableGame (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\components\players\PlayerJoin.tsx:90:12)
        at D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\components\players\PlayerJoin.tsx:112:10
        at Object.react_stack_bottom_frame (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:25989:20)
        at runWithFiberInDEV (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:874:13)
        at commitHookEffectListMount (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:13249:29)
        at commitHookPassiveMountEffects (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:13336:11)
        at commitPassiveMountOnFiber (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15484:13)
        at recursivelyTraversePassiveMountEffects (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15439:11)
        at commitPassiveMountOnFiber (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15718:11)
        at recursivelyTraversePassiveMountEffects (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15439:11)
        at commitPassiveMountOnFiber (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15718:11)
        at recursivelyTraversePassiveMountEffects (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15439:11)
        at commitPassiveMountOnFiber (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15718:11)
        at recursivelyTraversePassiveMountEffects (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15439:11)
        at commitPassiveMountOnFiber (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15718:11)
        at recursivelyTraversePassiveMountEffects (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15439:11)
        at commitPassiveMountOnFiber (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15718:11)
        at recursivelyTraversePassiveMountEffects (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15439:11)
        at commitPassiveMountOnFiber (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15718:11)
        at recursivelyTraversePassiveMountEffects (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15439:11)
        at commitPassiveMountOnFiber (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15476:11)
        at recursivelyTraversePassiveMountEffects (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15439:11)
        at commitPassiveMountOnFiber (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15718:11)
        at recursivelyTraversePassiveMountEffects (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15439:11)
        at commitPassiveMountOnFiber (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15476:11)
        at recursivelyTraversePassiveMountEffects (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15439:11)
        at commitPassiveMountOnFiber (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15519:11)
        at flushPassiveEffects (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:18432:9)
        at D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:17923:15
        at performWorkUntilDeadline (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\scheduler\cjs\scheduler.development.js:45:48)
        at Timeout.task [as _onTimeout] (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jsdom\lib\jsdom\browser\Window.js:579:19)
        at listOnTimeout (node:internal/timers:594:17)
        at processTimers (node:internal/timers:529:7)

    [0m [90m 102 |[39m         }
     [90m 103 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 104 |[39m         console[33m.[39merror([32m'‚ùå Error in checkForAvailableGame:'[39m[33m,[39m err)
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 105 |[39m         setError([32m'Failed to check for available games'[39m)
     [90m 106 |[39m         setAvailableGame([36mnull[39m)
     [90m 107 |[39m       } [36mfinally[39m {[0m

      at checkForAvailableGame (src/components/players/PlayerJoin.tsx:104:17)
      at src/components/players/PlayerJoin.tsx:112:10
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at performWorkUntilDeadline (node_modules/scheduler/cjs/scheduler.development.js:45:48)
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

  console.log
    üì° Setting up broadcast channel for game: game-123

      at src/components/games/GameHostDashboard.tsx:706:13

  console.log
    üîç Render state: { user: true, roleLoading: false, userRole: null, mode: 'clue-sets' }

      at src/app/App.tsx:811:25

  console.log
    üéÆ renderPlayerInterface called: { userRole: null, mode: 'clue-sets' }

      at renderPlayerInterface (src/app/App.tsx:486:13)

  console.log
    üéÆ Initial players loaded: [
      {
        game_id: 'game-123',
        user_id: 'user-456',
        nickname: 'Player One',
        score: 1000,
        joined_at: '2023-01-01T00:00:00Z'
      },
      {
        game_id: 'game-123',
        user_id: 'user-789',
        nickname: 'Player Two',
        score: 500,
        joined_at: '2023-01-01T00:01:00Z'
      }
    ]

      at loadGameData (src/components/games/GameHostDashboard.tsx:558:17)

  console.log
    ‚ùå Not rendering player interface - userRole is not player: null

      at renderPlayerInterface (src/app/App.tsx:490:15)

  console.log
    üîç Starting role detection for user: user-123

      at detectUserRole (src/app/App.tsx:258:15)

  console.log
    üîç Render state: { user: true, roleLoading: true, userRole: null, mode: 'clue-sets' }

      at src/app/App.tsx:811:25

  console.log
    üìä Profile query result: { profile: { role: 'player' }, error: null }

      at src/app/App.tsx:169:13

  console.log
    üéØ Player already in active game, redirecting to lobby: game-123

      at src/app/App.tsx:201:17

  console.error
    ‚ùå Error checking for games: { message: 'Database error' }

    [0m [90m 91 |[39m
     [90m 92 |[39m         [36mif[39m (gameError) {
    [31m[1m>[22m[39m[90m 93 |[39m           console[33m.[39merror([32m'‚ùå Error checking for games:'[39m[33m,[39m gameError)
     [90m    |[39m                   [31m[1m^[22m[39m
     [90m 94 |[39m           setError([32m'Failed to check for available games'[39m)
     [90m 95 |[39m           setAvailableGame([36mnull[39m)
     [90m 96 |[39m         } [36melse[39m {[0m

      at checkForAvailableGame (src/components/players/PlayerJoin.tsx:93:19)

  console.log
    üîç Render state: {
      user: true,
      roleLoading: false,
      userRole: 'player',
      mode: 'player-lobby'
    }

      at src/app/App.tsx:811:25

  console.log
    üéÆ renderPlayerInterface called: { userRole: 'player', mode: 'player-lobby' }

      at renderPlayerInterface (src/app/App.tsx:486:13)

  console.log
    üé¨ [App] Setting up animation intent subscription for player game

      at src/app/App.tsx:318:13

  console.log
    üé¨ [AnimationEvents] Subscriber added (total: 1)

      at Function.subscribe (src/services/animations/AnimationEvents.ts:21:13)

  console.error
    Failed to load initial game data: { code: 'PGRST116' }

    [0m [90m 304 |[39m
     [90m 305 |[39m         [36mif[39m (error) {
    [31m[1m>[22m[39m[90m 306 |[39m           console[33m.[39merror([32m'Failed to load initial game data:'[39m[33m,[39m error)
     [90m     |[39m                   [31m[1m^[22m[39m
     [90m 307 |[39m         } [36melse[39m {
     [90m 308 |[39m           setPlayerGameData(gameData)
     [90m 309 |[39m         }[0m

      at loadInitialGameData (src/app/App.tsx:306:19)

  console.log
    üîå Cleaning up broadcast channel for game: game-123

      at src/components/games/GameHostDashboard.tsx:728:15
          at Array.forEach (<anonymous>)

  console.log
    üì° Setting up broadcast channel for game: game-123

      at src/components/games/GameHostDashboard.tsx:706:13

  console.log
    üéÆ Initial players loaded: [
      {
        game_id: 'game-123',
        user_id: 'user-456',
        nickname: 'Player One',
        score: 1000,
        joined_at: '2023-01-01T00:00:00Z'
      },
      {
        game_id: 'game-123',
        user_id: 'user-789',
        nickname: 'Player Two',
        score: 500,
        joined_at: '2023-01-01T00:01:00Z'
      }
    ]

      at loadGameData (src/components/games/GameHostDashboard.tsx:558:17)

  console.log
    üé¨ [AnimationEvents] Subscriber removed (total: 0)

      at src/services/animations/AnimationEvents.ts:24:15
          at Array.forEach (<anonymous>)

  console.log
    üîç Render state: { user: true, roleLoading: false, userRole: null, mode: 'clue-sets' }

      at src/app/App.tsx:811:25

  console.log
    üéÆ renderPlayerInterface called: { userRole: null, mode: 'clue-sets' }

      at renderPlayerInterface (src/app/App.tsx:486:13)

  console.log
    üîå Cleaning up broadcast channel for game: game-123

      at src/components/games/GameHostDashboard.tsx:728:15
          at Array.forEach (<anonymous>)

  console.log
    ‚ùå Not rendering player interface - userRole is not player: null

      at renderPlayerInterface (src/app/App.tsx:490:15)

  console.log
    üîç Starting role detection for user: user-123

      at detectUserRole (src/app/App.tsx:258:15)

  console.log
    üîç Render state: { user: true, roleLoading: true, userRole: null, mode: 'clue-sets' }

      at src/app/App.tsx:811:25

  console.log
    üì° Setting up broadcast channel for game: game-123

      at src/components/games/GameHostDashboard.tsx:706:13

  console.error
    An update to PlayerJoin inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 68 |[39m         [90m// Set nickname to profile display_name or default to email prefix[39m
     [90m 69 |[39m         [36mconst[39m currentNickname [33m=[39m profile[33m?[39m[33m.[39mdisplay_name [33m?[39m[33m?[39m getDefaultNicknameFromEmail(user[33m.[39memail [33m?[39m[33m?[39m [32m''[39m)
    [31m[1m>[22m[39m[90m 70 |[39m         setNickname(currentNickname)
     [90m    |[39m         [31m[1m^[22m[39m
     [90m 71 |[39m       } [36mcatch[39m (err) {
     [90m 72 |[39m         console[33m.[39mwarn([32m'Error loading user nickname:'[39m[33m,[39m err)
     [90m 73 |[39m         [90m// Fallback to email prefix[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at loadUserNickname (src/components/players/PlayerJoin.tsx:70:9)

  console.log
    üéÆ Initial players loaded: [
      {
        game_id: 'game-123',
        user_id: 'user-456',
        nickname: 'Player One',
        score: 1000,
        joined_at: '2023-01-01T00:00:00Z'
      },
      {
        game_id: 'game-123',
        user_id: 'user-789',
        nickname: 'Player Two',
        score: 500,
        joined_at: '2023-01-01T00:01:00Z'
      }
    ]

      at loadGameData (src/components/games/GameHostDashboard.tsx:558:17)

  console.error
    An update to PlayerJoin inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m  98 |[39m           [90m// Only set if foundGame is not undefined (exactOptionalPropertyTypes compliance)[39m
     [90m  99 |[39m           [36mif[39m (foundGame [33m!==[39m undefined) {
    [31m[1m>[22m[39m[90m 100 |[39m             setAvailableGame(foundGame)[33m;[39m
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 101 |[39m           }
     [90m 102 |[39m         }
     [90m 103 |[39m       } [36mcatch[39m (err) {[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at checkForAvailableGame (src/components/players/PlayerJoin.tsx:100:13)

  console.error
    An update to PlayerJoin inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 106 |[39m         setAvailableGame([36mnull[39m)
     [90m 107 |[39m       } [36mfinally[39m {
    [31m[1m>[22m[39m[90m 108 |[39m         setCheckingForGame([36mfalse[39m)
     [90m     |[39m         [31m[1m^[22m[39m
     [90m 109 |[39m       }
     [90m 110 |[39m     }
     [90m 111 |[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at checkForAvailableGame (src/components/players/PlayerJoin.tsx:108:9)

  console.log
    üìä Profile query result: { profile: { role: 'player' }, error: null }

      at src/app/App.tsx:169:13

  console.log
    üéØ Player already in active game, redirecting to lobby: game-123

      at src/app/App.tsx:201:17

  console.log
    üîç Render state: {
      user: true,
      roleLoading: false,
      userRole: 'player',
      mode: 'player-game'
    }

      at src/app/App.tsx:811:25

  console.log
    üì° Setting up broadcast channel for game: game-123

      at src/components/games/GameHostDashboard.tsx:706:13

  console.log
    üéÆ renderPlayerInterface called: { userRole: 'player', mode: 'player-game' }

      at renderPlayerInterface (src/app/App.tsx:486:13)

  console.log
    üì° [Player] Setting up broadcast channel for game: game-123

      at src/components/players/PlayerDashboard.tsx:756:13

  console.log
    üé¨ [App] Setting up animation intent subscription for player game

      at src/app/App.tsx:318:13

  console.log
    üé¨ [AnimationEvents] Subscriber added (total: 1)

      at Function.subscribe (src/services/animations/AnimationEvents.ts:21:13)

  console.error
    Failed to load initial game data: { code: 'PGRST116' }

    [0m [90m 304 |[39m
     [90m 305 |[39m         [36mif[39m (error) {
    [31m[1m>[22m[39m[90m 306 |[39m           console[33m.[39merror([32m'Failed to load initial game data:'[39m[33m,[39m error)
     [90m     |[39m                   [31m[1m^[22m[39m
     [90m 307 |[39m         } [36melse[39m {
     [90m 308 |[39m           setPlayerGameData(gameData)
     [90m 309 |[39m         }[0m

      at loadInitialGameData (src/app/App.tsx:306:19)

  console.log
    üéÆ Initial players loaded: [
      {
        game_id: 'game-123',
        user_id: 'user-456',
        nickname: 'Player One',
        score: 1000,
        joined_at: '2023-01-01T00:00:00Z'
      },
      {
        game_id: 'game-123',
        user_id: 'user-789',
        nickname: 'Player Two',
        score: 500,
        joined_at: '2023-01-01T00:01:00Z'
      }
    ]

      at loadGameData (src/components/games/GameHostDashboard.tsx:558:17)

  console.error
    Failed to load game board data: { code: 'PGRST116' }

    [0m [90m 441 |[39m       [90m// Players don't need Daily Double positions - they discover them when clues are revealed[39m
     [90m 442 |[39m     } [36mcatch[39m (loadError) {
    [31m[1m>[22m[39m[90m 443 |[39m       console[33m.[39merror([32m"Failed to load game board data:"[39m[33m,[39m loadError)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 444 |[39m       setError([32m"Failed to load game data"[39m)[33m;[39m
     [90m 445 |[39m     }
     [90m 446 |[39m   }[33m,[39m [gameId])[33m;[39m[0m

      at src/components/players/PlayerDashboard.tsx:443:15

  console.error
    ‚ùå Error in getPlayerFont: TypeError: client_1.supabase.from(...).select(...).not is not a function
        at Function.getFontAssignmentCounts (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\services\fonts\FontAssignmentService.ts:164:8)
        at Function.assignPermanentFont (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\services\fonts\FontAssignmentService.ts:123:35)
        at Function.getPlayerFont (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\services\fonts\FontAssignmentService.ts:68:36)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\components\players\PlayerDashboard.tsx:304:20
        at async Promise.all (index 0)
        at D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\components\players\PlayerDashboard.tsx:298:32

    [0m [90m 89 |[39m       [36mreturn[39m userProfile[33m.[39mhandwritten_font
     [90m 90 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 91 |[39m       console[33m.[39merror([32m'‚ùå Error in getPlayerFont:'[39m[33m,[39m error)
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 92 |[39m       [90m// Fallback to first available font[39m
     [90m 93 |[39m       [36mreturn[39m [36mthis[39m[33m.[39m[33mAVAILABLE_FONTS[39m[[35m0[39m]
     [90m 94 |[39m     }[0m

      at Function.getPlayerFont (src/services/fonts/FontAssignmentService.ts:91:15)
      at src/components/players/PlayerDashboard.tsx:304:20
          at async Promise.all (index 0)
      at src/components/players/PlayerDashboard.tsx:298:32

  console.log
    üé¨ [AnimationEvents] Subscriber removed (total: 0)

      at src/services/animations/AnimationEvents.ts:24:15
          at Array.forEach (<anonymous>)

  console.log
    üîå [Player] Cleaning up broadcast channel for game: game-123

      at src/components/players/PlayerDashboard.tsx:849:15
          at Array.forEach (<anonymous>)

  console.log
    üîå Unsubscribed from buzzer channel: game-123

      at Object.unsubscribe (src/services/realtime/BroadcastService.ts:154:17)
          at Array.forEach (<anonymous>)

  console.log
    üîç Render state: { user: true, roleLoading: false, userRole: null, mode: 'clue-sets' }

      at src/app/App.tsx:811:25

  console.log
    üéÆ renderPlayerInterface called: { userRole: null, mode: 'clue-sets' }

      at renderPlayerInterface (src/app/App.tsx:486:13)

  console.log
    ‚ùå Not rendering player interface - userRole is not player: null

      at renderPlayerInterface (src/app/App.tsx:490:15)

  console.log
    üîç Starting role detection for user: user-123

      at detectUserRole (src/app/App.tsx:258:15)

  console.log
    üîç Render state: { user: true, roleLoading: true, userRole: null, mode: 'clue-sets' }

      at src/app/App.tsx:811:25

  console.log
    üìä Profile query result: { profile: { role: 'player' }, error: null }

      at src/app/App.tsx:169:13

  console.error
    ‚ùå Error checking player game status: Error: Network error
        at Object.<anonymous> (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\app\App.test.tsx:522:67)
        at Promise.then.completed (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\utils.js:298:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\utils.js:231:10)
        at _callCircusTest (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:316:40)
        at _runTest (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:252:3)
        at _runTestsForDescribeBlock (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:126:9)
        at _runTestsForDescribeBlock (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:121:9)
        at _runTestsForDescribeBlock (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:121:9)
        at run (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:71:3)
        at runAndTransformResultsToJestFormat (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
        at jestAdapter (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
        at runTestInternal (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-runner\build\runTest.js:367:16)
        at runTest (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-runner\build\runTest.js:444:34)
        at Object.worker (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 207 |[39m       }
     [90m 208 |[39m     } [36mcatch[39m (gameError) {
    [31m[1m>[22m[39m[90m 209 |[39m       console[33m.[39merror([32m'‚ùå Error checking player game status:'[39m[33m,[39m gameError)
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 210 |[39m       setMode([32m'player-join'[39m)
     [90m 211 |[39m     }
     [90m 212 |[39m   }[33m,[39m [user])[0m

      at src/app/App.tsx:209:15
      at detectUserRole (src/app/App.tsx:265:11)

  console.log
    üîç Render state: {
      user: true,
      roleLoading: false,
      userRole: 'player',
      mode: 'player-join'
    }

      at src/app/App.tsx:811:25

  console.log
    üéÆ renderPlayerInterface called: { userRole: 'player', mode: 'player-join' }

      at renderPlayerInterface (src/app/App.tsx:486:13)

  console.log
    ‚úÖ Rendering PlayerJoin component

      at renderPlayerInterface (src/app/App.tsx:495:15)

  console.warn
    Failed to ensure Daily Double positions: TypeError: client_1.supabase.from(...).select is not a function
        at Function.ensureDailyDoublePositions (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\services\games\GameService.ts:352:10)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at Function.createGame (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\services\games\GameService.ts:314:7)
        at Object.<anonymous> (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\services\games\GameService.test.ts:114:22)

    [0m [90m 315 |[39m     } [36mcatch[39m (ddError) {
     [90m 316 |[39m       [90m// Log error but don't fail game creation - Daily Doubles can be added manually[39m
    [31m[1m>[22m[39m[90m 317 |[39m       console[33m.[39mwarn([32m'Failed to ensure Daily Double positions:'[39m[33m,[39m ddError)
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 318 |[39m     }
     [90m 319 |[39m
     [90m 320 |[39m     [36mreturn[39m data[0m

      at Function.createGame (src/services/games/GameService.ts:317:15)
      at Object.<anonymous> (src/services/games/GameService.test.ts:114:22)

  console.error
    ‚ùå Error in checkForAvailableGame: TypeError: client_1.supabase.from(...).select(...).eq(...).limit is not a function
        at checkForAvailableGame (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\components\players\PlayerJoin.tsx:90:12)
        at D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\components\players\PlayerJoin.tsx:112:10
        at Object.react_stack_bottom_frame (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:25989:20)
        at runWithFiberInDEV (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:874:13)
        at commitHookEffectListMount (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:13249:29)
        at commitHookPassiveMountEffects (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:13336:11)
        at commitPassiveMountOnFiber (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15484:13)
        at recursivelyTraversePassiveMountEffects (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15439:11)
        at commitPassiveMountOnFiber (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15718:11)
        at recursivelyTraversePassiveMountEffects (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15439:11)
        at commitPassiveMountOnFiber (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15718:11)
        at recursivelyTraversePassiveMountEffects (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15439:11)
        at commitPassiveMountOnFiber (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15718:11)
        at recursivelyTraversePassiveMountEffects (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15439:11)
        at commitPassiveMountOnFiber (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15718:11)
        at recursivelyTraversePassiveMountEffects (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15439:11)
        at commitPassiveMountOnFiber (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15718:11)
        at recursivelyTraversePassiveMountEffects (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15439:11)
        at commitPassiveMountOnFiber (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15718:11)
        at recursivelyTraversePassiveMountEffects (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15439:11)
        at commitPassiveMountOnFiber (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15476:11)
        at recursivelyTraversePassiveMountEffects (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15439:11)
        at commitPassiveMountOnFiber (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15718:11)
        at recursivelyTraversePassiveMountEffects (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15439:11)
        at commitPassiveMountOnFiber (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15476:11)
        at recursivelyTraversePassiveMountEffects (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15439:11)
        at commitPassiveMountOnFiber (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15519:11)
        at flushPassiveEffects (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:18432:9)
        at D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:17923:15
        at performWorkUntilDeadline (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\scheduler\cjs\scheduler.development.js:45:48)
        at Timeout.task [as _onTimeout] (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jsdom\lib\jsdom\browser\Window.js:579:19)
        at listOnTimeout (node:internal/timers:594:17)
        at processTimers (node:internal/timers:529:7)

    [0m [90m 102 |[39m         }
     [90m 103 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 104 |[39m         console[33m.[39merror([32m'‚ùå Error in checkForAvailableGame:'[39m[33m,[39m err)
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 105 |[39m         setError([32m'Failed to check for available games'[39m)
     [90m 106 |[39m         setAvailableGame([36mnull[39m)
     [90m 107 |[39m       } [36mfinally[39m {[0m

      at checkForAvailableGame (src/components/players/PlayerJoin.tsx:104:17)
      at src/components/players/PlayerJoin.tsx:112:10
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at performWorkUntilDeadline (node_modules/scheduler/cjs/scheduler.development.js:45:48)
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

  console.log
    üîç Render state: { user: true, roleLoading: false, userRole: null, mode: 'clue-sets' }

      at src/app/App.tsx:811:25

  console.log
    üéÆ renderPlayerInterface called: { userRole: null, mode: 'clue-sets' }

      at renderPlayerInterface (src/app/App.tsx:486:13)

  console.log
    ‚ùå Not rendering player interface - userRole is not player: null

      at renderPlayerInterface (src/app/App.tsx:490:15)

  console.log
    üîç Starting role detection for user: user-123

      at detectUserRole (src/app/App.tsx:258:15)

  console.log
    üîç Render state: { user: true, roleLoading: true, userRole: null, mode: 'clue-sets' }

      at src/app/App.tsx:811:25

  console.log
    üìä Profile query result: { profile: null, error: { message: 'Profile not found' } }

      at src/app/App.tsx:169:13

  console.error
    ‚ùå Error fetching user profile: { message: 'Profile not found' }

    [0m [90m 170 |[39m
     [90m 171 |[39m     [36mif[39m (profileError) {
    [31m[1m>[22m[39m[90m 172 |[39m       console[33m.[39merror([32m'‚ùå Error fetching user profile:'[39m[33m,[39m profileError)
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 173 |[39m       console[33m.[39mlog([32m'‚ùå Set to player mode (error fallback)'[39m)
     [90m 174 |[39m       [36mreturn[39m [32m'player'[39m
     [90m 175 |[39m     }[0m

      at src/app/App.tsx:172:15
      at detectUserRole (src/app/App.tsx:261:22)

  console.log
    ‚ùå Set to player mode (error fallback)

      at src/app/App.tsx:173:15

  console.error
    ‚ùå Error checking player game status: Error: Network error
        at Object.<anonymous> (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\app\App.test.tsx:522:67)
        at Promise.then.completed (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\utils.js:298:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\utils.js:231:10)
        at _callCircusTest (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:316:40)
        at _runTest (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:252:3)
        at _runTestsForDescribeBlock (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:126:9)
        at _runTestsForDescribeBlock (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:121:9)
        at _runTestsForDescribeBlock (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:121:9)
        at run (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:71:3)
        at runAndTransformResultsToJestFormat (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
        at jestAdapter (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
        at runTestInternal (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-runner\build\runTest.js:367:16)
        at runTest (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-runner\build\runTest.js:444:34)
        at Object.worker (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 207 |[39m       }
     [90m 208 |[39m     } [36mcatch[39m (gameError) {
    [31m[1m>[22m[39m[90m 209 |[39m       console[33m.[39merror([32m'‚ùå Error checking player game status:'[39m[33m,[39m gameError)
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 210 |[39m       setMode([32m'player-join'[39m)
     [90m 211 |[39m     }
     [90m 212 |[39m   }[33m,[39m [user])[0m

      at src/app/App.tsx:209:15
      at detectUserRole (src/app/App.tsx:265:11)

  console.log
    üîç Render state: {
      user: true,
      roleLoading: false,
      userRole: 'player',
      mode: 'player-join'
    }

      at src/app/App.tsx:811:25

  console.log
    üéÆ renderPlayerInterface called: { userRole: 'player', mode: 'player-join' }

      at renderPlayerInterface (src/app/App.tsx:486:13)

  console.log
    ‚úÖ Rendering PlayerJoin component

      at renderPlayerInterface (src/app/App.tsx:495:15)

  console.error
    ‚ùå Error in checkForAvailableGame: TypeError: client_1.supabase.from(...).select(...).eq(...).limit is not a function
        at checkForAvailableGame (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\components\players\PlayerJoin.tsx:90:12)
        at D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\components\players\PlayerJoin.tsx:112:10
        at Object.react_stack_bottom_frame (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:25989:20)
        at runWithFiberInDEV (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:874:13)
        at commitHookEffectListMount (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:13249:29)
        at commitHookPassiveMountEffects (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:13336:11)
        at commitPassiveMountOnFiber (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15484:13)
        at recursivelyTraversePassiveMountEffects (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15439:11)
        at commitPassiveMountOnFiber (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15718:11)
        at recursivelyTraversePassiveMountEffects (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15439:11)
        at commitPassiveMountOnFiber (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15718:11)
        at recursivelyTraversePassiveMountEffects (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15439:11)
        at commitPassiveMountOnFiber (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15718:11)
        at recursivelyTraversePassiveMountEffects (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15439:11)
        at commitPassiveMountOnFiber (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15718:11)
        at recursivelyTraversePassiveMountEffects (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15439:11)
        at commitPassiveMountOnFiber (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15718:11)
        at recursivelyTraversePassiveMountEffects (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15439:11)
        at commitPassiveMountOnFiber (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15718:11)
        at recursivelyTraversePassiveMountEffects (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15439:11)
        at commitPassiveMountOnFiber (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15476:11)
        at recursivelyTraversePassiveMountEffects (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15439:11)
        at commitPassiveMountOnFiber (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15718:11)
        at recursivelyTraversePassiveMountEffects (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15439:11)
        at commitPassiveMountOnFiber (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15476:11)
        at recursivelyTraversePassiveMountEffects (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15439:11)
        at commitPassiveMountOnFiber (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15519:11)
        at flushPassiveEffects (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:18432:9)
        at D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:17923:15
        at performWorkUntilDeadline (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\scheduler\cjs\scheduler.development.js:45:48)
        at Timeout.task [as _onTimeout] (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jsdom\lib\jsdom\browser\Window.js:579:19)
        at listOnTimeout (node:internal/timers:594:17)
        at processTimers (node:internal/timers:529:7)

    [0m [90m 102 |[39m         }
     [90m 103 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 104 |[39m         console[33m.[39merror([32m'‚ùå Error in checkForAvailableGame:'[39m[33m,[39m err)
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 105 |[39m         setError([32m'Failed to check for available games'[39m)
     [90m 106 |[39m         setAvailableGame([36mnull[39m)
     [90m 107 |[39m       } [36mfinally[39m {[0m

      at checkForAvailableGame (src/components/players/PlayerJoin.tsx:104:17)
      at src/components/players/PlayerJoin.tsx:112:10
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at performWorkUntilDeadline (node_modules/scheduler/cjs/scheduler.development.js:45:48)
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

  console.warn
    Could not load user profile: { message: 'Profile not found' }

    [0m [90m 63 |[39m
     [90m 64 |[39m         [36mif[39m (profileError) {
    [31m[1m>[22m[39m[90m 65 |[39m           console[33m.[39mwarn([32m'Could not load user profile:'[39m[33m,[39m profileError)
     [90m    |[39m                   [31m[1m^[22m[39m
     [90m 66 |[39m         }
     [90m 67 |[39m
     [90m 68 |[39m         [90m// Set nickname to profile display_name or default to email prefix[39m[0m

      at loadUserNickname (src/components/players/PlayerJoin.tsx:65:19)

  console.log
    üîç Render state: { user: true, roleLoading: false, userRole: null, mode: 'clue-sets' }

      at src/app/App.tsx:811:25

  console.log
    üéÆ renderPlayerInterface called: { userRole: null, mode: 'clue-sets' }

      at renderPlayerInterface (src/app/App.tsx:486:13)

  console.log
    ‚ùå Not rendering player interface - userRole is not player: null

      at renderPlayerInterface (src/app/App.tsx:490:15)

  console.log
    üîç Starting role detection for user: user-123

      at detectUserRole (src/app/App.tsx:258:15)

  console.log
    üîç Render state: { user: true, roleLoading: true, userRole: null, mode: 'clue-sets' }

      at src/app/App.tsx:811:25

  console.log
    üìä Profile query result: { profile: { role: 'host' }, error: null }

      at src/app/App.tsx:169:13

  console.error
    ‚ùå Error checking for active game: Error: Network error
        at Object.<anonymous> (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\app\App.test.tsx:522:67)
        at Promise.then.completed (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\utils.js:298:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\utils.js:231:10)
        at _callCircusTest (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:316:40)
        at _runTest (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:252:3)
        at _runTestsForDescribeBlock (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:126:9)
        at _runTestsForDescribeBlock (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:121:9)
        at _runTestsForDescribeBlock (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:121:9)
        at run (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:71:3)
        at runAndTransformResultsToJestFormat (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
        at jestAdapter (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
        at runTestInternal (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-runner\build\runTest.js:367:16)
        at runTest (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-runner\build\runTest.js:444:34)
        at Object.worker (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 228 |[39m       }
     [90m 229 |[39m     } [36mcatch[39m (gameError) {
    [31m[1m>[22m[39m[90m 230 |[39m       console[33m.[39merror([32m'‚ùå Error checking for active game:'[39m[33m,[39m gameError)
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 231 |[39m       setMode([32m'clue-sets'[39m)
     [90m 232 |[39m     }
     [90m 233 |[39m   }[33m,[39m [])[0m

      at src/app/App.tsx:230:15
      at detectUserRole (src/app/App.tsx:267:11)

  console.log
    üé¨ GameService.startGameIntroduction called: { gameId: 'game-123', hostId: 'host-123' }

      at Function.startGameIntroduction (src/services/games/GameService.ts:1449:13)

  console.log
    üé¨ Current game status: lobby

      at Function.startGameIntroduction (src/services/games/GameService.ts:1453:13)

  console.log
    üé¨ Updating game status to game_intro...

      at Function.startGameIntroduction (src/services/games/GameService.ts:1462:13)

  console.log
    üé¨ GameService.startGameIntroduction result: { id: 'game-123', host_id: 'host-123', status: 'game_intro' }

      at Function.startGameIntroduction (src/services/games/GameService.ts:1467:13)

  console.log
    üé¨ GameService.startGameIntroduction called: { gameId: 'game-123', hostId: 'host-123' }

      at Function.startGameIntroduction (src/services/games/GameService.ts:1449:13)

  console.log
    üé¨ Current game status: in_progress

      at Function.startGameIntroduction (src/services/games/GameService.ts:1453:13)

  console.log
    üîç Render state: { user: true, roleLoading: false, userRole: 'host', mode: 'clue-sets' }

      at src/app/App.tsx:811:25

  console.log
    üéÆ renderPlayerInterface called: { userRole: 'host', mode: 'clue-sets' }

      at renderPlayerInterface (src/app/App.tsx:486:13)

  console.log
    ‚ùå Not rendering player interface - userRole is not player: host

      at renderPlayerInterface (src/app/App.tsx:490:15)

  console.log
    üîç Render state: { user: true, roleLoading: false, userRole: null, mode: 'clue-sets' }

      at src/app/App.tsx:811:25

  console.log
    üéÆ renderPlayerInterface called: { userRole: null, mode: 'clue-sets' }

      at renderPlayerInterface (src/app/App.tsx:486:13)

  console.log
    ‚ùå Not rendering player interface - userRole is not player: null

      at renderPlayerInterface (src/app/App.tsx:490:15)

  console.error
    üé¨ Cannot start game introduction - wrong status: in_progress

    [0m [90m 1455 |[39m     [90m// Ensure game is in lobby status[39m
     [90m 1456 |[39m     [36mif[39m (currentGame[33m.[39mstatus [33m!==[39m [32m'lobby'[39m) {
    [31m[1m>[22m[39m[90m 1457 |[39m       console[33m.[39merror([32m'üé¨ Cannot start game introduction - wrong status:'[39m[33m,[39m currentGame[33m.[39mstatus)[33m;[39m
     [90m      |[39m               [31m[1m^[22m[39m
     [90m 1458 |[39m       [36mthrow[39m [36mnew[39m [33mError[39m([32m`Cannot start game introduction: Game is not in lobby status (current: ${currentGame.status})`[39m)
     [90m 1459 |[39m     }
     [90m 1460 |[39m[0m

      at Function.startGameIntroduction (src/services/games/GameService.ts:1457:15)
      at Object.<anonymous> (src/services/games/GameService.test.ts:1735:7)

  console.log
    üîç Starting role detection for user: user-123

      at detectUserRole (src/app/App.tsx:258:15)

  console.log
    üîç Render state: { user: true, roleLoading: true, userRole: null, mode: 'clue-sets' }

      at src/app/App.tsx:811:25

PASS src/services/games/GameService.test.ts
  GameService
    getActiveGame
      ‚àö should return active game when one exists (38 ms)
      ‚àö should return null when no active game exists (6 ms)
      ‚àö should throw error when database query fails (102 ms)
    createGame
      ‚àö should create a new game successfully (359 ms)
      ‚àö should handle database error (2 ms)
      ‚àö should handle missing data (1 ms)
    getGame
      ‚àö should get game successfully for host (1 ms)
      ‚àö should reject non-host users (7 ms)
      ‚àö should handle game not found (1 ms)
    toggleBuzzerLock
      ‚àö should toggle buzzer lock successfully (13 ms)
    getAvailableClueSets
      ‚àö should get clue sets for user
      ‚àö should handle empty clue sets (4 ms)
    updateGame
      ‚àö should update game successfully (1 ms)
      ‚àö should handle update error (1 ms)
      ‚àö should handle missing data in update response (1 ms)
    getPlayers
      ‚àö should get players successfully (2 ms)
      ‚àö should handle players fetch error (1 ms)
      ‚àö should handle profiles fetch error gracefully
      ‚àö should return empty array when no players
    updatePlayerScore
      ‚àö should update player score successfully (1 ms)
    addPlayer
      ‚àö should add player successfully
      ‚àö should add player without nickname (1 ms)
      ‚àö should handle add player error (1 ms)
      ‚àö should handle missing player data in response
    getBuzzesForClue
      ‚àö should get buzzes successfully (1 ms)
      ‚àö should handle buzzes fetch error (4 ms)
      ‚àö should return empty array when no buzzes (1 ms)
    recordBuzz
      ‚àö should record buzz successfully (1 ms)
      ‚àö should handle record buzz error (1 ms)
      ‚àö should handle missing buzz data in response (2 ms)
    clearBuzzesForClue
      ‚àö should clear buzzes successfully
      ‚àö should handle clear buzzes error (1 ms)
    transitionToNextRound
      ‚àö should transition from jeopardy to double when round is complete (2 ms)
      ‚àö should transition from double to final when round is complete (1 ms)
      ‚àö should throw error when trying to transition beyond final round
      ‚àö should throw error when game is not in progress
      ‚àö should throw error when round is incomplete without force flag
      ‚àö should allow transition with incomplete round when force=true (5 ms)
    endGame
      ‚àö should end game with completed status when Final Jeopardy is completed (1 ms)
      ‚àö should end game with cancelled status when Final Jeopardy is not completed (1 ms)
    isFinalJeopardyCompleted
      ‚àö should return true when Final Jeopardy clue is revealed and completed (1 ms)
      ‚àö should return false when Final Jeopardy clue is not completed (1 ms)
      ‚àö should return false when game clue set query fails
      ‚àö should return false when Final Jeopardy board query fails (1 ms)
    startGame
      ‚àö should start game successfully when in lobby status (2 ms)
      ‚àö should throw error when game is not in lobby status (1 ms)
    setFocusedClue
      ‚àö should set focused clue successfully (1 ms)
      ‚àö should clear focused clue when clueId is null (1 ms)
    setFocusedPlayer
      ‚àö should set focused player successfully
      ‚àö should clear focused player when playerId is null (1 ms)
    markPlayerCorrect
      ‚àö should mark player answer as correct and update game state (1 ms)
      ‚àö should handle answer insert error (1 ms)
    markPlayerWrong
      ‚àö should mark player answer as wrong and lock out player (1 ms)
      ‚àö should handle answer insert error (1 ms)
    startGameIntroduction
      ‚àö should start game introduction from lobby status (31 ms)
      ‚àö should throw error when game is not in lobby status (27 ms)
    startCategoryIntroductions
      ‚àö should start category introductions from game_intro status
      ‚àö should throw error when game is not in game_intro status (1 ms)

  console.log
    üîå Cleaning up broadcast channel for game: game-123

      at src/components/games/GameHostDashboard.tsx:728:15
          at Array.forEach (<anonymous>)

  console.error
    Error in detectUserRole: Error: Database error
        at Object.<anonymous> (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\app\App.test.tsx:630:53)
        at D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-mock\build\index.js:305:39
        at Object.<anonymous> (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-mock\build\index.js:312:13)
        at Object.mockConstructor [as from] (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-mock\build\index.js:102:19)
        at D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\app\App.tsx:164:8
        at detectUserRole (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\app\App.tsx:261:28)
        at D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\app\App.tsx:279:10
        at Object.react_stack_bottom_frame (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:25989:20)
        at runWithFiberInDEV (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:874:13)
        at commitHookEffectListMount (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:13249:29)
        at commitHookPassiveMountEffects (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:13336:11)
        at commitPassiveMountOnFiber (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15484:13)
        at recursivelyTraversePassiveMountEffects (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15439:11)
        at commitPassiveMountOnFiber (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15718:11)
        at recursivelyTraversePassiveMountEffects (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15439:11)
        at commitPassiveMountOnFiber (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15476:11)
        at recursivelyTraversePassiveMountEffects (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15439:11)
        at commitPassiveMountOnFiber (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15519:11)
        at flushPassiveEffects (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:18432:9)
        at D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:17923:15
        at flushActQueue (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react\cjs\react.development.js:590:34)
        at Object.<anonymous>.process.env.NODE_ENV.exports.act (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react\cjs\react.development.js:884:10)
        at D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\@testing-library\react\dist\act-compat.js:47:25
        at renderRoot (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\@testing-library\react\dist\pure.js:190:26)
        at render (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\@testing-library\react\dist\pure.js:292:10)
        at renderWithAuth (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\app\App.test.tsx:98:16)
        at Object.<anonymous> (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\app\App.test.tsx:638:7)
        at Promise.then.completed (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\utils.js:298:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\utils.js:231:10)
        at _callCircusTest (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:316:40)
        at _runTest (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:252:3)
        at _runTestsForDescribeBlock (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:126:9)
        at _runTestsForDescribeBlock (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:121:9)
        at _runTestsForDescribeBlock (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:121:9)
        at run (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:71:3)
        at runAndTransformResultsToJestFormat (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
        at jestAdapter (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
        at runTestInternal (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-runner\build\runTest.js:367:16)
        at runTest (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-runner\build\runTest.js:444:34)
        at Object.worker (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 268 |[39m         }
     [90m 269 |[39m       } [36mcatch[39m (roleError) {
    [31m[1m>[22m[39m[90m 270 |[39m         console[33m.[39merror([32m'Error in detectUserRole:'[39m[33m,[39m roleError)
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 271 |[39m         setUserRole([32m'player'[39m)
     [90m 272 |[39m         setMode([32m'player-join'[39m)
     [90m 273 |[39m       } [36mfinally[39m {[0m

      at detectUserRole (src/app/App.tsx:270:17)

  console.log
    üîç Render state: {
      user: true,
      roleLoading: false,
      userRole: 'player',
      mode: 'player-join'
    }

      at src/app/App.tsx:811:25

  console.log
    üéÆ renderPlayerInterface called: { userRole: 'player', mode: 'player-join' }

      at renderPlayerInterface (src/app/App.tsx:486:13)

  console.log
    ‚úÖ Rendering PlayerJoin component

      at renderPlayerInterface (src/app/App.tsx:495:15)

  console.error
    ‚ùå Error in checkForAvailableGame: TypeError: client_1.supabase.from(...).select(...).eq(...).limit is not a function
        at checkForAvailableGame (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\components\players\PlayerJoin.tsx:90:12)
        at D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\components\players\PlayerJoin.tsx:112:10
        at Object.react_stack_bottom_frame (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:25989:20)
        at runWithFiberInDEV (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:874:13)
        at commitHookEffectListMount (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:13249:29)
        at commitHookPassiveMountEffects (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:13336:11)
        at commitPassiveMountOnFiber (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15484:13)
        at recursivelyTraversePassiveMountEffects (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15439:11)
        at commitPassiveMountOnFiber (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15718:11)
        at recursivelyTraversePassiveMountEffects (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15439:11)
        at commitPassiveMountOnFiber (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15718:11)
        at recursivelyTraversePassiveMountEffects (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15439:11)
        at commitPassiveMountOnFiber (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15718:11)
        at recursivelyTraversePassiveMountEffects (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15439:11)
        at commitPassiveMountOnFiber (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15718:11)
        at recursivelyTraversePassiveMountEffects (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15439:11)
        at commitPassiveMountOnFiber (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15718:11)
        at recursivelyTraversePassiveMountEffects (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15439:11)
        at commitPassiveMountOnFiber (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15718:11)
        at recursivelyTraversePassiveMountEffects (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15439:11)
        at commitPassiveMountOnFiber (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15476:11)
        at recursivelyTraversePassiveMountEffects (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15439:11)
        at commitPassiveMountOnFiber (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15718:11)
        at recursivelyTraversePassiveMountEffects (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15439:11)
        at commitPassiveMountOnFiber (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15476:11)
        at recursivelyTraversePassiveMountEffects (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15439:11)
        at commitPassiveMountOnFiber (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15519:11)
        at flushPassiveEffects (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:18432:9)
        at D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:17923:15
        at performWorkUntilDeadline (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\scheduler\cjs\scheduler.development.js:45:48)
        at Timeout.task [as _onTimeout] (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jsdom\lib\jsdom\browser\Window.js:579:19)
        at listOnTimeout (node:internal/timers:594:17)
        at processTimers (node:internal/timers:529:7)

    [0m [90m 102 |[39m         }
     [90m 103 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 104 |[39m         console[33m.[39merror([32m'‚ùå Error in checkForAvailableGame:'[39m[33m,[39m err)
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 105 |[39m         setError([32m'Failed to check for available games'[39m)
     [90m 106 |[39m         setAvailableGame([36mnull[39m)
     [90m 107 |[39m       } [36mfinally[39m {[0m

      at checkForAvailableGame (src/components/players/PlayerJoin.tsx:104:17)
      at src/components/players/PlayerJoin.tsx:112:10
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at performWorkUntilDeadline (node_modules/scheduler/cjs/scheduler.development.js:45:48)
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

  console.log
    üîå Cleaning up broadcast channel for game: game-123

      at src/components/games/GameHostDashboard.tsx:728:15
          at Array.forEach (<anonymous>)

  console.warn
    Error loading user nickname: Error: Database error
        at Object.<anonymous> (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\app\App.test.tsx:630:53)
        at D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-mock\build\index.js:305:39
        at Object.<anonymous> (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-mock\build\index.js:312:13)
        at Object.mockConstructor [as from] (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-mock\build\index.js:102:19)
        at loadUserNickname (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\components\players\PlayerJoin.tsx:59:12)
        at D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\components\players\PlayerJoin.tsx:78:10
        at Object.react_stack_bottom_frame (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:25989:20)
        at runWithFiberInDEV (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:874:13)
        at commitHookEffectListMount (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:13249:29)
        at commitHookPassiveMountEffects (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:13336:11)
        at commitPassiveMountOnFiber (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15484:13)
        at recursivelyTraversePassiveMountEffects (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15439:11)
        at commitPassiveMountOnFiber (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15718:11)
        at recursivelyTraversePassiveMountEffects (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15439:11)
        at commitPassiveMountOnFiber (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15718:11)
        at recursivelyTraversePassiveMountEffects (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15439:11)
        at commitPassiveMountOnFiber (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15718:11)
        at recursivelyTraversePassiveMountEffects (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15439:11)
        at commitPassiveMountOnFiber (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15718:11)
        at recursivelyTraversePassiveMountEffects (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15439:11)
        at commitPassiveMountOnFiber (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15718:11)
        at recursivelyTraversePassiveMountEffects (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15439:11)
        at commitPassiveMountOnFiber (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15718:11)
        at recursivelyTraversePassiveMountEffects (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15439:11)
        at commitPassiveMountOnFiber (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15476:11)
        at recursivelyTraversePassiveMountEffects (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15439:11)
        at commitPassiveMountOnFiber (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15718:11)
        at recursivelyTraversePassiveMountEffects (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15439:11)
        at commitPassiveMountOnFiber (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15476:11)
        at recursivelyTraversePassiveMountEffects (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15439:11)
        at commitPassiveMountOnFiber (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15519:11)
        at flushPassiveEffects (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:18432:9)
        at D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:17923:15
        at performWorkUntilDeadline (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\scheduler\cjs\scheduler.development.js:45:48)
        at Timeout.task [as _onTimeout] (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jsdom\lib\jsdom\browser\Window.js:579:19)
        at listOnTimeout (node:internal/timers:594:17)
        at processTimers (node:internal/timers:529:7)

    [0m [90m 70 |[39m         setNickname(currentNickname)
     [90m 71 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 72 |[39m         console[33m.[39mwarn([32m'Error loading user nickname:'[39m[33m,[39m err)
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 73 |[39m         [90m// Fallback to email prefix[39m
     [90m 74 |[39m         setNickname(getDefaultNicknameFromEmail(user[33m.[39memail [33m?[39m[33m?[39m [32m''[39m))
     [90m 75 |[39m       }[0m

      at loadUserNickname (src/components/players/PlayerJoin.tsx:72:17)

  console.log
    üì° Setting up broadcast channel for game: game-123

      at src/components/games/GameHostDashboard.tsx:706:13

  console.log
    üéÆ Initial players loaded: [
      {
        game_id: 'game-123',
        user_id: 'user-456',
        nickname: 'Player One',
        score: 1000,
        joined_at: '2023-01-01T00:00:00Z'
      },
      {
        game_id: 'game-123',
        user_id: 'user-789',
        nickname: 'Player Two',
        score: 500,
        joined_at: '2023-01-01T00:01:00Z'
      }
    ]

      at loadGameData (src/components/games/GameHostDashboard.tsx:558:17)

  console.log
    üîç Render state: { user: true, roleLoading: false, userRole: null, mode: 'clue-sets' }

      at src/app/App.tsx:811:25

  console.log
    üéÆ renderPlayerInterface called: { userRole: null, mode: 'clue-sets' }

      at renderPlayerInterface (src/app/App.tsx:486:13)

  console.log
    ‚ùå Not rendering player interface - userRole is not player: null

      at renderPlayerInterface (src/app/App.tsx:490:15)

  console.log
    üîç Starting role detection for user: user-123

      at detectUserRole (src/app/App.tsx:258:15)

  console.log
    üîç Render state: { user: true, roleLoading: true, userRole: null, mode: 'clue-sets' }

      at src/app/App.tsx:811:25

  console.log
    üìä Profile query result: { profile: { role: 'host' }, error: null }

      at src/app/App.tsx:169:13

  console.log
    üéØ Active game found, redirecting to dashboard: game-123

      at src/app/App.tsx:222:17

  console.log
    üîç Render state: { user: true, roleLoading: false, userRole: 'host', mode: 'dashboard' }

      at src/app/App.tsx:811:25

  console.log
    üéÆ renderPlayerInterface called: { userRole: 'host', mode: 'dashboard' }

      at renderPlayerInterface (src/app/App.tsx:486:13)

  console.log
    ‚ùå Not rendering player interface - userRole is not player: host

      at renderPlayerInterface (src/app/App.tsx:490:15)

  console.log
    üì° Setting up broadcast channel for game: game-123

      at src/components/games/GameHostDashboard.tsx:706:13

  console.log
    üéÆ Initial players loaded: []

      at loadGameData (src/components/games/GameHostDashboard.tsx:558:17)

  console.log
    üîå Cleaning up broadcast channel for game: game-123

      at src/components/games/GameHostDashboard.tsx:728:15
          at Array.forEach (<anonymous>)

  console.error
    Failed to load game data: TypeError: client_1.supabase.from(...).select(...).eq(...).eq is not a function
        at Function.getDailyDoublePositions (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\services\clues\ClueService.ts:208:8)
        at loadGameData (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\components\games\GameHostDashboard.tsx:566:51)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at runNextTicks (node:internal/process/task_queues:69:3)
        at listOnTimeout (node:internal/timers:555:9)
        at processTimers (node:internal/timers:529:7)

    [0m [90m 581 |[39m       } [36mcatch[39m (error) {
     [90m 582 |[39m         [90m// Log error for debugging and development[39m
    [31m[1m>[22m[39m[90m 583 |[39m         console[33m.[39merror([32m"Failed to load game data:"[39m[33m,[39m error)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 584 |[39m
     [90m 585 |[39m         [90m// Display user-friendly error message[39m
     [90m 586 |[39m         showStatus([0m

      at loadGameData (src/components/games/GameHostDashboard.tsx:583:17)

  console.log
    üîå Cleaning up broadcast channel for game: game-123

      at src/components/games/GameHostDashboard.tsx:728:15
          at Array.forEach (<anonymous>)

  console.log
    üîå Unsubscribed from buzzer channel: game-123

      at Object.unsubscribe (src/services/realtime/BroadcastService.ts:154:17)
          at Array.forEach (<anonymous>)

  console.log
    üì° Setting up broadcast channel for game: game-123

      at src/components/games/GameHostDashboard.tsx:706:13

  console.log
    üîç Render state: { user: true, roleLoading: false, userRole: null, mode: 'clue-sets' }

      at src/app/App.tsx:811:25

  console.log
    üéÆ renderPlayerInterface called: { userRole: null, mode: 'clue-sets' }

      at renderPlayerInterface (src/app/App.tsx:486:13)

  console.log
    üéÆ Initial players loaded: [
      {
        game_id: 'game-123',
        user_id: 'user-456',
        nickname: 'Player One',
        score: 1000,
        joined_at: '2023-01-01T00:00:00Z'
      },
      {
        game_id: 'game-123',
        user_id: 'user-789',
        nickname: 'Player Two',
        score: 500,
        joined_at: '2023-01-01T00:01:00Z'
      }
    ]

      at loadGameData (src/components/games/GameHostDashboard.tsx:558:17)

  console.log
    ‚ùå Not rendering player interface - userRole is not player: null

      at renderPlayerInterface (src/app/App.tsx:490:15)

  console.log
    üîç Starting role detection for user: user-123

      at detectUserRole (src/app/App.tsx:258:15)

  console.log
    üîç Render state: { user: true, roleLoading: true, userRole: null, mode: 'clue-sets' }

      at src/app/App.tsx:811:25

  console.log
    üìä Profile query result: { profile: { role: 'host' }, error: null }

      at src/app/App.tsx:169:13

  console.error
    ‚ùå Error checking for active game: Error: Network error
        at Object.<anonymous> (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\app\App.test.tsx:700:67)
        at Promise.then.completed (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\utils.js:298:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\utils.js:231:10)
        at _callCircusTest (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:316:40)
        at _runTest (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:252:3)
        at _runTestsForDescribeBlock (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:126:9)
        at _runTestsForDescribeBlock (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:121:9)
        at _runTestsForDescribeBlock (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:121:9)
        at run (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:71:3)
        at runAndTransformResultsToJestFormat (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
        at jestAdapter (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
        at runTestInternal (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-runner\build\runTest.js:367:16)
        at runTest (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-runner\build\runTest.js:444:34)
        at Object.worker (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 228 |[39m       }
     [90m 229 |[39m     } [36mcatch[39m (gameError) {
    [31m[1m>[22m[39m[90m 230 |[39m       console[33m.[39merror([32m'‚ùå Error checking for active game:'[39m[33m,[39m gameError)
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 231 |[39m       setMode([32m'clue-sets'[39m)
     [90m 232 |[39m     }
     [90m 233 |[39m   }[33m,[39m [])[0m

      at src/app/App.tsx:230:15
      at detectUserRole (src/app/App.tsx:267:11)

  console.log
    üì° Setting up broadcast channel for game: game-123

      at src/components/games/GameHostDashboard.tsx:706:13

  console.log
    üîç Render state: { user: true, roleLoading: false, userRole: 'host', mode: 'clue-sets' }

      at src/app/App.tsx:811:25

  console.log
    üéÆ Initial players loaded: [
      {
        game_id: 'game-123',
        user_id: 'user-456',
        nickname: 'Player One',
        score: 1000,
        joined_at: '2023-01-01T00:00:00Z'
      },
      {
        game_id: 'game-123',
        user_id: 'user-789',
        nickname: 'Player Two',
        score: 500,
        joined_at: '2023-01-01T00:01:00Z'
      }
    ]

      at loadGameData (src/components/games/GameHostDashboard.tsx:558:17)

  console.log
    üéÆ renderPlayerInterface called: { userRole: 'host', mode: 'clue-sets' }

      at renderPlayerInterface (src/app/App.tsx:486:13)

  console.log
    ‚ùå Not rendering player interface - userRole is not player: host

      at renderPlayerInterface (src/app/App.tsx:490:15)

  console.log
    üîç Render state: { user: true, roleLoading: false, userRole: null, mode: 'clue-sets' }

      at src/app/App.tsx:811:25

  console.log
    üéÆ renderPlayerInterface called: { userRole: null, mode: 'clue-sets' }

      at renderPlayerInterface (src/app/App.tsx:486:13)

  console.log
    ‚ùå Not rendering player interface - userRole is not player: null

      at renderPlayerInterface (src/app/App.tsx:490:15)

  console.log
    üîç Starting role detection for user: user-123

      at detectUserRole (src/app/App.tsx:258:15)

  console.log
    üîç Render state: { user: true, roleLoading: true, userRole: null, mode: 'clue-sets' }

      at src/app/App.tsx:811:25

  console.log
    üìä Profile query result: { profile: { role: 'host' }, error: null }

      at src/app/App.tsx:169:13

  console.log
    üîí Locking buzzer - broadcasting first

      at handleToggleBuzzer (src/components/games/GameHostDashboard.tsx:1494:17)

  console.error
    ‚ùå Error checking for active game: Error: Network error
        at Object.<anonymous> (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\app\App.test.tsx:700:67)
        at Promise.then.completed (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\utils.js:298:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\utils.js:231:10)
        at _callCircusTest (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:316:40)
        at _runTest (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:252:3)
        at _runTestsForDescribeBlock (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:126:9)
        at _runTestsForDescribeBlock (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:121:9)
        at _runTestsForDescribeBlock (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:121:9)
        at run (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:71:3)
        at runAndTransformResultsToJestFormat (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
        at jestAdapter (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
        at runTestInternal (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-runner\build\runTest.js:367:16)
        at runTest (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-runner\build\runTest.js:444:34)
        at Object.worker (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 228 |[39m       }
     [90m 229 |[39m     } [36mcatch[39m (gameError) {
    [31m[1m>[22m[39m[90m 230 |[39m       console[33m.[39merror([32m'‚ùå Error checking for active game:'[39m[33m,[39m gameError)
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 231 |[39m       setMode([32m'clue-sets'[39m)
     [90m 232 |[39m     }
     [90m 233 |[39m   }[33m,[39m [])[0m

      at src/app/App.tsx:230:15
      at detectUserRole (src/app/App.tsx:267:11)

  console.log
    üîç Render state: { user: true, roleLoading: false, userRole: 'host', mode: 'clue-sets' }

      at src/app/App.tsx:811:25

  console.log
    üéÆ renderPlayerInterface called: { userRole: 'host', mode: 'clue-sets' }

      at renderPlayerInterface (src/app/App.tsx:486:13)

  console.log
    ‚ùå Not rendering player interface - userRole is not player: host

      at renderPlayerInterface (src/app/App.tsx:490:15)

  console.warn
    Error loading user nickname: TypeError: client_1.supabase.from(...).select(...).eq(...).single is not a function
        at loadUserNickname (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\components\players\PlayerJoin.tsx:62:12)
        at D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\components\players\PlayerJoin.tsx:78:10
        at Object.react_stack_bottom_frame (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:25989:20)
        at runWithFiberInDEV (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:874:13)
        at commitHookEffectListMount (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:13249:29)
        at commitHookPassiveMountEffects (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:13336:11)
        at commitPassiveMountOnFiber (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15484:13)
        at recursivelyTraversePassiveMountEffects (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15439:11)
        at commitPassiveMountOnFiber (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15519:11)
        at flushPassiveEffects (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:18432:9)
        at D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:17923:15
        at flushActQueue (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react\cjs\react.development.js:590:34)
        at Object.<anonymous>.process.env.NODE_ENV.exports.act (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react\cjs\react.development.js:884:10)
        at D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\@testing-library\react\dist\act-compat.js:47:25
        at renderRoot (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\@testing-library\react\dist\pure.js:190:26)
        at render (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\@testing-library\react\dist\pure.js:292:10)
        at Object.<anonymous> (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\components\players\PlayerJoin.test.tsx:399:13)
        at Promise.then.completed (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\utils.js:298:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\utils.js:231:10)
        at _callCircusTest (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:316:40)
        at _runTest (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:252:3)
        at _runTestsForDescribeBlock (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:126:9)
        at _runTestsForDescribeBlock (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:121:9)
        at _runTestsForDescribeBlock (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:121:9)
        at run (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:71:3)
        at runAndTransformResultsToJestFormat (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
        at jestAdapter (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
        at runTestInternal (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-runner\build\runTest.js:367:16)
        at runTest (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-runner\build\runTest.js:444:34)
        at Object.worker (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 70 |[39m         setNickname(currentNickname)
     [90m 71 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 72 |[39m         console[33m.[39mwarn([32m'Error loading user nickname:'[39m[33m,[39m err)
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 73 |[39m         [90m// Fallback to email prefix[39m
     [90m 74 |[39m         setNickname(getDefaultNicknameFromEmail(user[33m.[39memail [33m?[39m[33m?[39m [32m''[39m))
     [90m 75 |[39m       }[0m

      at loadUserNickname (src/components/players/PlayerJoin.tsx:72:17)
      at src/components/players/PlayerJoin.tsx:78:10
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/players/PlayerJoin.test.tsx:399:13)

  console.log
    üîç Render state: { user: true, roleLoading: false, userRole: 'host', mode: 'clue-sets' }

      at src/app/App.tsx:811:25

  console.log
    üéÆ renderPlayerInterface called: { userRole: 'host', mode: 'clue-sets' }

      at renderPlayerInterface (src/app/App.tsx:486:13)

  console.log
    ‚ùå Not rendering player interface - userRole is not player: host

      at renderPlayerInterface (src/app/App.tsx:490:15)

  console.log
    üîå Cleaning up broadcast channel for game: game-123

      at src/components/games/GameHostDashboard.tsx:728:15
          at Array.forEach (<anonymous>)

  console.log
    üîå Cleaning up broadcast channel for game: game-123

      at src/components/games/GameHostDashboard.tsx:728:15
          at Array.forEach (<anonymous>)

  console.log
    üîç Render state: { user: true, roleLoading: false, userRole: null, mode: 'clue-sets' }

      at src/app/App.tsx:811:25

  console.log
    üéÆ renderPlayerInterface called: { userRole: null, mode: 'clue-sets' }

      at renderPlayerInterface (src/app/App.tsx:486:13)

  console.log
    üì° Setting up broadcast channel for game: game-123

      at src/components/games/GameHostDashboard.tsx:706:13

  console.log
    ‚ùå Not rendering player interface - userRole is not player: null

      at renderPlayerInterface (src/app/App.tsx:490:15)

  console.log
    üéÆ Initial players loaded: [
      {
        game_id: 'game-123',
        user_id: 'user-456',
        nickname: 'Player One',
        score: 1000,
        joined_at: '2023-01-01T00:00:00Z'
      },
      {
        game_id: 'game-123',
        user_id: 'user-789',
        nickname: 'Player Two',
        score: 500,
        joined_at: '2023-01-01T00:01:00Z'
      }
    ]

      at loadGameData (src/components/games/GameHostDashboard.tsx:558:17)

  console.log
    üîç Starting role detection for user: user-123

      at detectUserRole (src/app/App.tsx:258:15)

  console.log
    üîç Render state: { user: true, roleLoading: true, userRole: null, mode: 'clue-sets' }

      at src/app/App.tsx:811:25

  console.log
    üìä Profile query result: { profile: { role: 'host' }, error: null }

      at src/app/App.tsx:169:13

  console.error
    ‚ùå Error checking for active game: Error: Network error
        at Object.<anonymous> (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\app\App.test.tsx:700:67)
        at Promise.then.completed (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\utils.js:298:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\utils.js:231:10)
        at _callCircusTest (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:316:40)
        at _runTest (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:252:3)
        at _runTestsForDescribeBlock (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:126:9)
        at _runTestsForDescribeBlock (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:121:9)
        at _runTestsForDescribeBlock (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:121:9)
        at run (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:71:3)
        at runAndTransformResultsToJestFormat (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
        at jestAdapter (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
        at runTestInternal (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-runner\build\runTest.js:367:16)
        at runTest (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-runner\build\runTest.js:444:34)
        at Object.worker (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 228 |[39m       }
     [90m 229 |[39m     } [36mcatch[39m (gameError) {
    [31m[1m>[22m[39m[90m 230 |[39m       console[33m.[39merror([32m'‚ùå Error checking for active game:'[39m[33m,[39m gameError)
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 231 |[39m       setMode([32m'clue-sets'[39m)
     [90m 232 |[39m     }
     [90m 233 |[39m   }[33m,[39m [])[0m

      at src/app/App.tsx:230:15
      at detectUserRole (src/app/App.tsx:267:11)

  console.log
    üîç Render state: { user: true, roleLoading: false, userRole: 'host', mode: 'clue-sets' }

      at src/app/App.tsx:811:25

  console.log
    üéÆ renderPlayerInterface called: { userRole: 'host', mode: 'clue-sets' }

      at renderPlayerInterface (src/app/App.tsx:486:13)

  console.log
    ‚ùå Not rendering player interface - userRole is not player: host

      at renderPlayerInterface (src/app/App.tsx:490:15)

  console.warn
    Error loading user nickname: TypeError: client_1.supabase.from(...).select(...).eq(...).single is not a function
        at loadUserNickname (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\components\players\PlayerJoin.tsx:62:12)
        at D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\components\players\PlayerJoin.tsx:78:10
        at Object.react_stack_bottom_frame (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:25989:20)
        at runWithFiberInDEV (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:874:13)
        at commitHookEffectListMount (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:13249:29)
        at commitHookPassiveMountEffects (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:13336:11)
        at commitPassiveMountOnFiber (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15484:13)
        at recursivelyTraversePassiveMountEffects (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15439:11)
        at commitPassiveMountOnFiber (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:15519:11)
        at flushPassiveEffects (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:18432:9)
        at D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react-dom\cjs\react-dom-client.development.js:17923:15
        at flushActQueue (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react\cjs\react.development.js:590:34)
        at Object.<anonymous>.process.env.NODE_ENV.exports.act (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\react\cjs\react.development.js:884:10)
        at D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\@testing-library\react\dist\act-compat.js:47:25
        at renderRoot (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\@testing-library\react\dist\pure.js:190:26)
        at render (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\@testing-library\react\dist\pure.js:292:10)
        at Object.<anonymous> (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\components\players\PlayerJoin.test.tsx:438:13)
        at Promise.then.completed (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\utils.js:298:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\utils.js:231:10)
        at _callCircusTest (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:316:40)
        at runNextTicks (node:internal/process/task_queues:65:5)
        at listOnTimeout (node:internal/timers:555:9)
        at processTimers (node:internal/timers:529:7)
        at _runTest (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:252:3)
        at _runTestsForDescribeBlock (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:126:9)
        at _runTestsForDescribeBlock (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:121:9)
        at _runTestsForDescribeBlock (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:121:9)
        at run (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:71:3)
        at runAndTransformResultsToJestFormat (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
        at jestAdapter (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
        at runTestInternal (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-runner\build\runTest.js:367:16)
        at runTest (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-runner\build\runTest.js:444:34)
        at Object.worker (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 70 |[39m         setNickname(currentNickname)
     [90m 71 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 72 |[39m         console[33m.[39mwarn([32m'Error loading user nickname:'[39m[33m,[39m err)
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 73 |[39m         [90m// Fallback to email prefix[39m
     [90m 74 |[39m         setNickname(getDefaultNicknameFromEmail(user[33m.[39memail [33m?[39m[33m?[39m [32m''[39m))
     [90m 75 |[39m       }[0m

      at loadUserNickname (src/components/players/PlayerJoin.tsx:72:17)
      at src/components/players/PlayerJoin.tsx:78:10
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/components/players/PlayerJoin.test.tsx:438:13)

  console.log
    üì° Setting up broadcast channel for game: game-123

      at src/components/games/GameHostDashboard.tsx:706:13

  console.log
    üéÆ Initial players loaded: [
      {
        game_id: 'game-123',
        user_id: 'user-456',
        nickname: 'Player One',
        score: 1000,
        joined_at: '2023-01-01T00:00:00Z'
      },
      {
        game_id: 'game-123',
        user_id: 'user-789',
        nickname: 'Player Two',
        score: 500,
        joined_at: '2023-01-01T00:01:00Z'
      }
    ]

      at loadGameData (src/components/games/GameHostDashboard.tsx:558:17)

  console.warn
    Could not update user profile nickname: { message: 'Profile update failed' }

    [0m [90m 168 |[39m
     [90m 169 |[39m       [36mif[39m (profileError) {
    [31m[1m>[22m[39m[90m 170 |[39m         console[33m.[39mwarn([32m'Could not update user profile nickname:'[39m[33m,[39m profileError)
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 171 |[39m         [90m// Continue anyway - this is not a critical failure[39m
     [90m 172 |[39m       }
     [90m 173 |[39m[0m

      at handleJoinGame (src/components/players/PlayerJoin.tsx:170:17)

  console.log
    üîç Render state: { user: true, roleLoading: false, userRole: null, mode: 'clue-sets' }

      at src/app/App.tsx:811:25

  console.log
    üéÆ renderPlayerInterface called: { userRole: null, mode: 'clue-sets' }

      at renderPlayerInterface (src/app/App.tsx:486:13)

  console.log
    ‚ùå Not rendering player interface - userRole is not player: null

      at renderPlayerInterface (src/app/App.tsx:490:15)

  console.log
    üîç Starting role detection for user: user-123

      at detectUserRole (src/app/App.tsx:258:15)

  console.log
    üîç Render state: { user: true, roleLoading: true, userRole: null, mode: 'clue-sets' }

      at src/app/App.tsx:811:25

  console.log
    üìä Profile query result: { profile: { role: 'host' }, error: null }

      at src/app/App.tsx:169:13

  console.error
    ‚ùå Error checking for active game: Error: Network error
        at Object.<anonymous> (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\app\App.test.tsx:700:67)
        at Promise.then.completed (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\utils.js:298:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\utils.js:231:10)
        at _callCircusTest (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:316:40)
        at _runTest (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:252:3)
        at _runTestsForDescribeBlock (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:126:9)
        at _runTestsForDescribeBlock (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:121:9)
        at _runTestsForDescribeBlock (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:121:9)
        at run (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:71:3)
        at runAndTransformResultsToJestFormat (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
        at jestAdapter (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
        at runTestInternal (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-runner\build\runTest.js:367:16)
        at runTest (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-runner\build\runTest.js:444:34)
        at Object.worker (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 228 |[39m       }
     [90m 229 |[39m     } [36mcatch[39m (gameError) {
    [31m[1m>[22m[39m[90m 230 |[39m       console[33m.[39merror([32m'‚ùå Error checking for active game:'[39m[33m,[39m gameError)
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 231 |[39m       setMode([32m'clue-sets'[39m)
     [90m 232 |[39m     }
     [90m 233 |[39m   }[33m,[39m [])[0m

      at src/app/App.tsx:230:15
      at detectUserRole (src/app/App.tsx:267:11)

  console.log
    üîí Locking buzzer - broadcasting first

      at handleToggleBuzzer (src/components/games/GameHostDashboard.tsx:1494:17)

  console.log
    üîç Render state: { user: true, roleLoading: false, userRole: 'host', mode: 'clue-sets' }

      at src/app/App.tsx:811:25

  console.log
    üéÆ renderPlayerInterface called: { userRole: 'host', mode: 'clue-sets' }

      at renderPlayerInterface (src/app/App.tsx:486:13)

  console.log
    ‚ùå Not rendering player interface - userRole is not player: host

      at renderPlayerInterface (src/app/App.tsx:490:15)

  console.log
    üîç Render state: { user: true, roleLoading: false, userRole: 'host', mode: 'clue-sets' }

      at src/app/App.tsx:811:25

  console.log
    üéÆ renderPlayerInterface called: { userRole: 'host', mode: 'clue-sets' }

      at renderPlayerInterface (src/app/App.tsx:486:13)

  console.log
    ‚ùå Not rendering player interface - userRole is not player: host

      at renderPlayerInterface (src/app/App.tsx:490:15)

  console.log
    üîç Render state: { user: true, roleLoading: false, userRole: 'host', mode: 'clue-sets' }

      at src/app/App.tsx:811:25

  console.log
    üéÆ renderPlayerInterface called: { userRole: 'host', mode: 'clue-sets' }

      at renderPlayerInterface (src/app/App.tsx:486:13)

  console.log
    ‚ùå Not rendering player interface - userRole is not player: host

      at renderPlayerInterface (src/app/App.tsx:490:15)

  console.log
    üîç Render state: { user: true, roleLoading: false, userRole: 'host', mode: 'clue-sets' }

      at src/app/App.tsx:811:25

  console.log
    üéÆ renderPlayerInterface called: { userRole: 'host', mode: 'clue-sets' }

      at renderPlayerInterface (src/app/App.tsx:486:13)

  console.error
    Failed to toggle buzzer: Error: Test error
        at Object.<anonymous> (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\components\games\GameHostDashboard.test.tsx:637:21)
        at Promise.then.completed (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\utils.js:298:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\utils.js:231:10)
        at _callCircusTest (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:316:40)
        at _runTest (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:252:3)
        at _runTestsForDescribeBlock (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:126:9)
        at _runTestsForDescribeBlock (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:121:9)
        at _runTestsForDescribeBlock (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:121:9)
        at run (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:71:3)
        at runAndTransformResultsToJestFormat (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
        at jestAdapter (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
        at runTestInternal (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-runner\build\runTest.js:367:16)
        at runTest (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-runner\build\runTest.js:444:34)
        at Object.worker (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 1507 |[39m     } [36mcatch[39m (error) {
     [90m 1508 |[39m       [90m// Log error for debugging[39m
    [31m[1m>[22m[39m[90m 1509 |[39m       console[33m.[39merror([32m"Failed to toggle buzzer:"[39m[33m,[39m error)[33m;[39m
     [90m      |[39m               [31m[1m^[22m[39m
     [90m 1510 |[39m
     [90m 1511 |[39m       [90m// Display user-friendly error message[39m
     [90m 1512 |[39m       showStatus([0m

      at handleToggleBuzzer (src/components/games/GameHostDashboard.tsx:1509:15)
      at handleRevealBuzzerButton (src/components/games/GameHostDashboard.tsx:952:9)

  console.log
    ‚ùå Not rendering player interface - userRole is not player: host

      at renderPlayerInterface (src/app/App.tsx:490:15)

  console.error
    Failed to join game: Error: Failed to join
        at Object.<anonymous> (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\components\players\PlayerJoin.test.tsx:465:51)
        at Promise.then.completed (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\utils.js:298:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\utils.js:231:10)
        at _callCircusTest (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:316:40)
        at _runTest (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:252:3)
        at _runTestsForDescribeBlock (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:126:9)
        at _runTestsForDescribeBlock (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:121:9)
        at _runTestsForDescribeBlock (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:121:9)
        at run (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:71:3)
        at runAndTransformResultsToJestFormat (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
        at jestAdapter (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
        at runTestInternal (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-runner\build\runTest.js:367:16)
        at runTest (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-runner\build\runTest.js:444:34)
        at Object.worker (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 178 |[39m       onGameJoined(availableGame[33m.[39mid)
     [90m 179 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 180 |[39m       console[33m.[39merror([32m'Failed to join game:'[39m[33m,[39m err)
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 181 |[39m       setError(err [36minstanceof[39m [33mError[39m [33m?[39m err[33m.[39mmessage [33m:[39m [32m'Failed to join game'[39m)
     [90m 182 |[39m     } [36mfinally[39m {
     [90m 183 |[39m       setLoading([36mfalse[39m)[0m

      at handleJoinGame (src/components/players/PlayerJoin.tsx:180:15)

  console.error
    An update to GameHostDashboard inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 476 |[39m           setConnectionStatus([32m"SLOW"[39m)[33m;[39m
     [90m 477 |[39m         } [36melse[39m {
    [31m[1m>[22m[39m[90m 478 |[39m           setConnectionStatus([32m"ACTIVE"[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 479 |[39m         }
     [90m 480 |[39m       } [36mcatch[39m (error) {
     [90m 481 |[39m         console[33m.[39merror([32m"Connection check failed:"[39m[33m,[39m error)[33m;[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at checkConnection (src/components/games/GameHostDashboard.tsx:478:11)

  console.log
    üîå Cleaning up broadcast channel for game: game-123

      at src/components/games/GameHostDashboard.tsx:728:15
          at Array.forEach (<anonymous>)

  console.error
    An update to AuthProvider inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 240 |[39m       }
     [90m 241 |[39m
    [31m[1m>[22m[39m[90m 242 |[39m       setLoading([36mfalse[39m) [90m// Authentication state is now determined (after profile creation)[39m
     [90m     |[39m       [31m[1m^[22m[39m
     [90m 243 |[39m     })
     [90m 244 |[39m
     [90m 245 |[39m     [90m// Set up real-time authentication state listener[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at src/contexts/AuthContext.tsx:242:7

  console.log
    üîç Render state: { user: true, roleLoading: false, userRole: null, mode: 'clue-sets' }

      at src/app/App.tsx:811:25

  console.log
    üîå Cleaning up broadcast channel for game: game-123

      at src/components/games/GameHostDashboard.tsx:728:15
          at Array.forEach (<anonymous>)

  console.log
    üéÆ renderPlayerInterface called: { userRole: null, mode: 'clue-sets' }

      at renderPlayerInterface (src/app/App.tsx:486:13)

  console.log
    ‚ùå Not rendering player interface - userRole is not player: null

      at renderPlayerInterface (src/app/App.tsx:490:15)

PASS src/components/games/GameHostDashboard.test.tsx (5.586 s)
  GameHostDashboard
    Loading States
      ‚àö should show loading state initially (347 ms)
      ‚àö should load game data on mount (190 ms)
    Authentication States
      ‚àö should show login message when user is not authenticated (2 ms)
    Error States
      ‚àö should handle game loading error (92 ms)
      ‚àö should show game not found when game is null (48 ms)
    Game Controls
      ‚àö should not display buzzer controls when no clue is focused (99 ms)
      ‚àö should display buzzer controls when clue is focused (296 ms)
      ‚àö should toggle buzzer lock successfully (174 ms)
      ‚àö should handle buzzer toggle error (273 ms)
    Game Management
      ‚àö should start game successfully from lobby state (60 ms)
      ‚àö should handle start game error (70 ms)
      ‚àö should disable end game button when game is completed (35 ms)
      with rendered dashboard
        ‚àö should end game successfully with confirmation (434 ms)
        ‚àö should not end game when confirmation is cancelled (174 ms)
        ‚àö should handle end game error (344 ms)
    Player List
      ‚àö should display players with nicknames and scores (208 ms)
      ‚àö should display empty state when no players (140 ms)
    Game Information
      ‚àö should display game information correctly (43 ms)
      ‚àö should display placeholder content (138 ms)
    Navigation
      ‚àö should call onBackToCreator when back button is clicked (104 ms)
      ‚àö should display game ID in header (36 ms)
    Board Interaction
      ‚àö should display daily double indicators (399 ms)
      ‚àö should display board control panel (118 ms)
    Message Display
      ‚àö should show success messages with correct styling (144 ms)
      ‚àö should show error messages with correct styling (151 ms)

  console.log
    üîç Starting role detection for user: user-123

      at detectUserRole (src/app/App.tsx:258:15)

  console.log
    üîç Render state: { user: true, roleLoading: true, userRole: null, mode: 'clue-sets' }

      at src/app/App.tsx:811:25

  console.log
    üìä Profile query result: { profile: { role: 'host' }, error: null }

      at src/app/App.tsx:169:13

  console.error
    ‚ùå Error checking for active game: Error: Network error
        at Object.<anonymous> (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\app\App.test.tsx:700:67)
        at Promise.then.completed (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\utils.js:298:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\utils.js:231:10)
        at _callCircusTest (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:316:40)
        at _runTest (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:252:3)
        at _runTestsForDescribeBlock (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:126:9)
        at _runTestsForDescribeBlock (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:121:9)
        at _runTestsForDescribeBlock (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:121:9)
        at run (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:71:3)
        at runAndTransformResultsToJestFormat (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
        at jestAdapter (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
        at runTestInternal (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-runner\build\runTest.js:367:16)
        at runTest (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-runner\build\runTest.js:444:34)
        at Object.worker (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 228 |[39m       }
     [90m 229 |[39m     } [36mcatch[39m (gameError) {
    [31m[1m>[22m[39m[90m 230 |[39m       console[33m.[39merror([32m'‚ùå Error checking for active game:'[39m[33m,[39m gameError)
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 231 |[39m       setMode([32m'clue-sets'[39m)
     [90m 232 |[39m     }
     [90m 233 |[39m   }[33m,[39m [])[0m

      at src/app/App.tsx:230:15
      at detectUserRole (src/app/App.tsx:267:11)

  console.log
    üîç Render state: { user: true, roleLoading: false, userRole: 'host', mode: 'clue-sets' }

      at src/app/App.tsx:811:25

  console.log
    üéÆ renderPlayerInterface called: { userRole: 'host', mode: 'clue-sets' }

      at renderPlayerInterface (src/app/App.tsx:486:13)

  console.log
    ‚ùå Not rendering player interface - userRole is not player: host

      at renderPlayerInterface (src/app/App.tsx:490:15)

  console.log
    üîç Render state: { user: true, roleLoading: false, userRole: 'host', mode: 'clue-sets' }

      at src/app/App.tsx:811:25

  console.log
    üéÆ renderPlayerInterface called: { userRole: 'host', mode: 'clue-sets' }

      at renderPlayerInterface (src/app/App.tsx:486:13)

  console.log
    ‚ùå Not rendering player interface - userRole is not player: host

      at renderPlayerInterface (src/app/App.tsx:490:15)

  console.log
    üîç Render state: { user: true, roleLoading: false, userRole: null, mode: 'clue-sets' }

      at src/app/App.tsx:811:25

  console.log
    üéÆ renderPlayerInterface called: { userRole: null, mode: 'clue-sets' }

      at renderPlayerInterface (src/app/App.tsx:486:13)

  console.log
    ‚ùå Not rendering player interface - userRole is not player: null

      at renderPlayerInterface (src/app/App.tsx:490:15)

  console.log
    üîç Starting role detection for user: user-123

      at detectUserRole (src/app/App.tsx:258:15)

  console.log
    üîç Render state: { user: true, roleLoading: true, userRole: null, mode: 'clue-sets' }

      at src/app/App.tsx:811:25

  console.error
    Failed to join game: String error

    [0m [90m 178 |[39m       onGameJoined(availableGame[33m.[39mid)
     [90m 179 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 180 |[39m       console[33m.[39merror([32m'Failed to join game:'[39m[33m,[39m err)
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 181 |[39m       setError(err [36minstanceof[39m [33mError[39m [33m?[39m err[33m.[39mmessage [33m:[39m [32m'Failed to join game'[39m)
     [90m 182 |[39m     } [36mfinally[39m {
     [90m 183 |[39m       setLoading([36mfalse[39m)[0m

      at handleJoinGame (src/components/players/PlayerJoin.tsx:180:15)

  console.log
    üìä Profile query result: { profile: { role: 'host' }, error: null }

      at src/app/App.tsx:169:13

  console.error
    ‚ùå Error checking for active game: Error: Network error
        at Object.<anonymous> (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\app\App.test.tsx:700:67)
        at Promise.then.completed (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\utils.js:298:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\utils.js:231:10)
        at _callCircusTest (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:316:40)
        at _runTest (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:252:3)
        at _runTestsForDescribeBlock (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:126:9)
        at _runTestsForDescribeBlock (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:121:9)
        at _runTestsForDescribeBlock (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:121:9)
        at run (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:71:3)
        at runAndTransformResultsToJestFormat (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
        at jestAdapter (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
        at runTestInternal (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-runner\build\runTest.js:367:16)
        at runTest (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-runner\build\runTest.js:444:34)
        at Object.worker (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 228 |[39m       }
     [90m 229 |[39m     } [36mcatch[39m (gameError) {
    [31m[1m>[22m[39m[90m 230 |[39m       console[33m.[39merror([32m'‚ùå Error checking for active game:'[39m[33m,[39m gameError)
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 231 |[39m       setMode([32m'clue-sets'[39m)
     [90m 232 |[39m     }
     [90m 233 |[39m   }[33m,[39m [])[0m

      at src/app/App.tsx:230:15
      at detectUserRole (src/app/App.tsx:267:11)

  console.log
    üîç Render state: { user: true, roleLoading: false, userRole: 'host', mode: 'clue-sets' }

      at src/app/App.tsx:811:25

  console.log
    üéÆ renderPlayerInterface called: { userRole: 'host', mode: 'clue-sets' }

      at renderPlayerInterface (src/app/App.tsx:486:13)

  console.log
    ‚ùå Not rendering player interface - userRole is not player: host

      at renderPlayerInterface (src/app/App.tsx:490:15)

  console.log
    üîç Render state: { user: true, roleLoading: false, userRole: 'host', mode: 'clue-sets' }

      at src/app/App.tsx:811:25

  console.log
    üéÆ renderPlayerInterface called: { userRole: 'host', mode: 'clue-sets' }

      at renderPlayerInterface (src/app/App.tsx:486:13)

  console.log
    ‚ùå Not rendering player interface - userRole is not player: host

      at renderPlayerInterface (src/app/App.tsx:490:15)

  console.log
    üîç Render state: { user: true, roleLoading: false, userRole: null, mode: 'clue-sets' }

      at src/app/App.tsx:811:25

  console.log
    üéÆ renderPlayerInterface called: { userRole: null, mode: 'clue-sets' }

      at renderPlayerInterface (src/app/App.tsx:486:13)

  console.log
    ‚ùå Not rendering player interface - userRole is not player: null

      at renderPlayerInterface (src/app/App.tsx:490:15)

  console.log
    üîç Starting role detection for user: user-123

      at detectUserRole (src/app/App.tsx:258:15)

  console.log
    üîç Render state: { user: true, roleLoading: true, userRole: null, mode: 'clue-sets' }

      at src/app/App.tsx:811:25

  console.log
    üìä Profile query result: { profile: { role: 'player' }, error: null }

      at src/app/App.tsx:169:13

  console.log
    üéØ Player already in active game, redirecting to lobby: game-123

      at src/app/App.tsx:201:17

  console.log
    üîç Render state: {
      user: true,
      roleLoading: false,
      userRole: 'player',
      mode: 'player-lobby'
    }

      at src/app/App.tsx:811:25

  console.log
    üéÆ renderPlayerInterface called: { userRole: 'player', mode: 'player-lobby' }

      at renderPlayerInterface (src/app/App.tsx:486:13)

  console.log
    üé¨ [App] Setting up animation intent subscription for player game

      at src/app/App.tsx:318:13

  console.log
    üé¨ [AnimationEvents] Subscriber added (total: 1)

      at Function.subscribe (src/services/animations/AnimationEvents.ts:21:13)

  console.log
    üîç Render state: {
      user: true,
      roleLoading: false,
      userRole: 'player',
      mode: 'player-lobby'
    }

      at src/app/App.tsx:811:25

  console.log
    üéÆ renderPlayerInterface called: { userRole: 'player', mode: 'player-lobby' }

      at renderPlayerInterface (src/app/App.tsx:486:13)

  console.log
    üé¨ [AnimationEvents] Subscriber removed (total: 0)

      at src/services/animations/AnimationEvents.ts:24:15
          at Array.forEach (<anonymous>)

  console.error
    An update to PlayerJoin inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 68 |[39m         [90m// Set nickname to profile display_name or default to email prefix[39m
     [90m 69 |[39m         [36mconst[39m currentNickname [33m=[39m profile[33m?[39m[33m.[39mdisplay_name [33m?[39m[33m?[39m getDefaultNicknameFromEmail(user[33m.[39memail [33m?[39m[33m?[39m [32m''[39m)
    [31m[1m>[22m[39m[90m 70 |[39m         setNickname(currentNickname)
     [90m    |[39m         [31m[1m^[22m[39m
     [90m 71 |[39m       } [36mcatch[39m (err) {
     [90m 72 |[39m         console[33m.[39mwarn([32m'Error loading user nickname:'[39m[33m,[39m err)
     [90m 73 |[39m         [90m// Fallback to email prefix[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at loadUserNickname (src/components/players/PlayerJoin.tsx:70:9)

  console.log
    üîç Render state: { user: true, roleLoading: false, userRole: null, mode: 'clue-sets' }

      at src/app/App.tsx:811:25

  console.error
    An update to PlayerJoin inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m  98 |[39m           [90m// Only set if foundGame is not undefined (exactOptionalPropertyTypes compliance)[39m
     [90m  99 |[39m           [36mif[39m (foundGame [33m!==[39m undefined) {
    [31m[1m>[22m[39m[90m 100 |[39m             setAvailableGame(foundGame)[33m;[39m
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 101 |[39m           }
     [90m 102 |[39m         }
     [90m 103 |[39m       } [36mcatch[39m (err) {[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at checkForAvailableGame (src/components/players/PlayerJoin.tsx:100:13)

  console.log
    üéÆ renderPlayerInterface called: { userRole: null, mode: 'clue-sets' }

      at renderPlayerInterface (src/app/App.tsx:486:13)

  console.error
    An update to PlayerJoin inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 106 |[39m         setAvailableGame([36mnull[39m)
     [90m 107 |[39m       } [36mfinally[39m {
    [31m[1m>[22m[39m[90m 108 |[39m         setCheckingForGame([36mfalse[39m)
     [90m     |[39m         [31m[1m^[22m[39m
     [90m 109 |[39m       }
     [90m 110 |[39m     }
     [90m 111 |[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at checkForAvailableGame (src/components/players/PlayerJoin.tsx:108:9)

  console.log
    ‚ùå Not rendering player interface - userRole is not player: null

      at renderPlayerInterface (src/app/App.tsx:490:15)

  console.log
    üîç Starting role detection for user: user-123

      at detectUserRole (src/app/App.tsx:258:15)

  console.log
    üîç Render state: { user: true, roleLoading: true, userRole: null, mode: 'clue-sets' }

      at src/app/App.tsx:811:25

  console.error
    An update to PlayerJoin inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 68 |[39m         [90m// Set nickname to profile display_name or default to email prefix[39m
     [90m 69 |[39m         [36mconst[39m currentNickname [33m=[39m profile[33m?[39m[33m.[39mdisplay_name [33m?[39m[33m?[39m getDefaultNicknameFromEmail(user[33m.[39memail [33m?[39m[33m?[39m [32m''[39m)
    [31m[1m>[22m[39m[90m 70 |[39m         setNickname(currentNickname)
     [90m    |[39m         [31m[1m^[22m[39m
     [90m 71 |[39m       } [36mcatch[39m (err) {
     [90m 72 |[39m         console[33m.[39mwarn([32m'Error loading user nickname:'[39m[33m,[39m err)
     [90m 73 |[39m         [90m// Fallback to email prefix[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at loadUserNickname (src/components/players/PlayerJoin.tsx:70:9)

  console.error
    An update to PlayerJoin inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m  98 |[39m           [90m// Only set if foundGame is not undefined (exactOptionalPropertyTypes compliance)[39m
     [90m  99 |[39m           [36mif[39m (foundGame [33m!==[39m undefined) {
    [31m[1m>[22m[39m[90m 100 |[39m             setAvailableGame(foundGame)[33m;[39m
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 101 |[39m           }
     [90m 102 |[39m         }
     [90m 103 |[39m       } [36mcatch[39m (err) {[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at checkForAvailableGame (src/components/players/PlayerJoin.tsx:100:13)

  console.log
    üìä Profile query result: { profile: { role: 'host' }, error: null }

      at src/app/App.tsx:169:13

  console.error
    An update to PlayerJoin inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 106 |[39m         setAvailableGame([36mnull[39m)
     [90m 107 |[39m       } [36mfinally[39m {
    [31m[1m>[22m[39m[90m 108 |[39m         setCheckingForGame([36mfalse[39m)
     [90m     |[39m         [31m[1m^[22m[39m
     [90m 109 |[39m       }
     [90m 110 |[39m     }
     [90m 111 |[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at checkForAvailableGame (src/components/players/PlayerJoin.tsx:108:9)

  console.log
    üéØ Active game found, redirecting to dashboard: game-123

      at src/app/App.tsx:222:17

  console.log
    üîç Render state: { user: true, roleLoading: false, userRole: 'host', mode: 'dashboard' }

      at src/app/App.tsx:811:25

  console.log
    üéÆ renderPlayerInterface called: { userRole: 'host', mode: 'dashboard' }

      at renderPlayerInterface (src/app/App.tsx:486:13)

  console.log
    ‚ùå Not rendering player interface - userRole is not player: host

      at renderPlayerInterface (src/app/App.tsx:490:15)

  console.error
    An update to PlayerJoin inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 68 |[39m         [90m// Set nickname to profile display_name or default to email prefix[39m
     [90m 69 |[39m         [36mconst[39m currentNickname [33m=[39m profile[33m?[39m[33m.[39mdisplay_name [33m?[39m[33m?[39m getDefaultNicknameFromEmail(user[33m.[39memail [33m?[39m[33m?[39m [32m''[39m)
    [31m[1m>[22m[39m[90m 70 |[39m         setNickname(currentNickname)
     [90m    |[39m         [31m[1m^[22m[39m
     [90m 71 |[39m       } [36mcatch[39m (err) {
     [90m 72 |[39m         console[33m.[39mwarn([32m'Error loading user nickname:'[39m[33m,[39m err)
     [90m 73 |[39m         [90m// Fallback to email prefix[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at loadUserNickname (src/components/players/PlayerJoin.tsx:70:9)

  console.error
    An update to PlayerJoin inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m  98 |[39m           [90m// Only set if foundGame is not undefined (exactOptionalPropertyTypes compliance)[39m
     [90m  99 |[39m           [36mif[39m (foundGame [33m!==[39m undefined) {
    [31m[1m>[22m[39m[90m 100 |[39m             setAvailableGame(foundGame)[33m;[39m
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 101 |[39m           }
     [90m 102 |[39m         }
     [90m 103 |[39m       } [36mcatch[39m (err) {[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at checkForAvailableGame (src/components/players/PlayerJoin.tsx:100:13)

  console.error
    An update to PlayerJoin inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 106 |[39m         setAvailableGame([36mnull[39m)
     [90m 107 |[39m       } [36mfinally[39m {
    [31m[1m>[22m[39m[90m 108 |[39m         setCheckingForGame([36mfalse[39m)
     [90m     |[39m         [31m[1m^[22m[39m
     [90m 109 |[39m       }
     [90m 110 |[39m     }
     [90m 111 |[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at checkForAvailableGame (src/components/players/PlayerJoin.tsx:108:9)

  console.log
    üì° Setting up broadcast channel for game: game-123

      at src/components/games/GameHostDashboard.tsx:706:13

  console.log
    üéÆ Initial players loaded: []

      at loadGameData (src/components/games/GameHostDashboard.tsx:558:17)

  console.error
    Failed to load game data: TypeError: client_1.supabase.from(...).select(...).eq(...).eq is not a function
        at Function.getDailyDoublePositions (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\services\clues\ClueService.ts:208:8)
        at loadGameData (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\components\games\GameHostDashboard.tsx:566:51)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)

    [0m [90m 581 |[39m       } [36mcatch[39m (error) {
     [90m 582 |[39m         [90m// Log error for debugging and development[39m
    [31m[1m>[22m[39m[90m 583 |[39m         console[33m.[39merror([32m"Failed to load game data:"[39m[33m,[39m error)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 584 |[39m
     [90m 585 |[39m         [90m// Display user-friendly error message[39m
     [90m 586 |[39m         showStatus([0m

      at loadGameData (src/components/games/GameHostDashboard.tsx:583:17)

  console.error
    ‚ùå Error in checkForAvailableGame: TypeError: Cannot read properties of null (reading 'length')
        at checkForAvailableGame (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\components\players\PlayerJoin.tsx:97:35)

    [0m [90m 102 |[39m         }
     [90m 103 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 104 |[39m         console[33m.[39merror([32m'‚ùå Error in checkForAvailableGame:'[39m[33m,[39m err)
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 105 |[39m         setError([32m'Failed to check for available games'[39m)
     [90m 106 |[39m         setAvailableGame([36mnull[39m)
     [90m 107 |[39m       } [36mfinally[39m {[0m

      at checkForAvailableGame (src/components/players/PlayerJoin.tsx:104:17)

  console.error
    ‚ùå Error in checkForAvailableGame: TypeError: Cannot read properties of null (reading 'length')
        at checkForAvailableGame (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\components\players\PlayerJoin.tsx:97:35)

    [0m [90m 102 |[39m         }
     [90m 103 |[39m       } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 104 |[39m         console[33m.[39merror([32m'‚ùå Error in checkForAvailableGame:'[39m[33m,[39m err)
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 105 |[39m         setError([32m'Failed to check for available games'[39m)
     [90m 106 |[39m         setAvailableGame([36mnull[39m)
     [90m 107 |[39m       } [36mfinally[39m {[0m

      at checkForAvailableGame (src/components/players/PlayerJoin.tsx:104:17)

  console.log
    üîç Render state: { user: true, roleLoading: false, userRole: 'host', mode: 'dashboard' }

      at src/app/App.tsx:811:25

  console.log
    üéÆ renderPlayerInterface called: { userRole: 'host', mode: 'dashboard' }

      at renderPlayerInterface (src/app/App.tsx:486:13)

  console.log
    ‚ùå Not rendering player interface - userRole is not player: host

      at renderPlayerInterface (src/app/App.tsx:490:15)

PASS src/components/players/PlayerJoin.test.tsx
  PlayerJoin
    Basic Rendering
      ‚àö should render player join component (208 ms)
      ‚àö should show correct initial state when checking for games (246 ms)
      ‚àö should have correct form elements (22 ms)
    Authentication States
      ‚àö should handle no user logged in (17 ms)
      ‚àö should load user nickname from profile (65 ms)
      ‚àö should fallback to email prefix when no profile display name (62 ms)
      ‚àö should handle profile loading error gracefully (86 ms)
    Game Availability
      ‚àö should show available game state (34 ms)
      ‚àö should show waiting state when no games available (96 ms)
      ‚àö should handle game check error (68 ms)
    Form Handling
      ‚àö should update nickname input (74 ms)
      ‚àö should disable form during loading states (12 ms)
      ‚àö should handle form submission (135 ms)
      ‚àö should use custom nickname when provided (152 ms)
      ‚àö should trim whitespace from nickname (161 ms)
    Join Game Process
      ‚àö should show loading state during join process (83 ms)
      ‚àö should update user profile with nickname (129 ms)
      ‚àö should handle profile update error gracefully (48 ms)
      ‚àö should handle join game errors (81 ms)
      ‚àö should handle non-Error exceptions during join (111 ms)
      ‚àö should prevent join when no user authenticated (27 ms)
      ‚àö should prevent join when no game available (15 ms)
    Real-time Subscriptions
      ‚àö should set up real-time subscription for game changes (11 ms)
      ‚àö should unsubscribe on component unmount (4 ms)
      ‚àö should handle subscription errors gracefully (19 ms)
      ‚àö should log successful subscription (12 ms)
    Utility Functions
      ‚àö should extract username from email correctly (30 ms)
      ‚àö should handle empty email gracefully (30 ms)

  console.log
    üîç Render state: { user: true, roleLoading: false, userRole: 'host', mode: 'dashboard' }

      at src/app/App.tsx:811:25

  console.log
    üéÆ renderPlayerInterface called: { userRole: 'host', mode: 'dashboard' }

      at renderPlayerInterface (src/app/App.tsx:486:13)

  console.log
    ‚ùå Not rendering player interface - userRole is not player: host

      at renderPlayerInterface (src/app/App.tsx:490:15)

  console.error
    An update to ClueSetSummary inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 70 |[39m         setError([36mnull[39m)
     [90m 71 |[39m         [36mconst[39m summaryData [33m=[39m [36mawait[39m [33mClueSetService[39m[33m.[39mgetClueSetSummary(clueSetId)
    [31m[1m>[22m[39m[90m 72 |[39m         setSummary(summaryData)
     [90m    |[39m         [31m[1m^[22m[39m
     [90m 73 |[39m       } [36mcatch[39m (err) {
     [90m 74 |[39m         setError(err [36minstanceof[39m [33mError[39m [33m?[39m err[33m.[39mmessage [33m:[39m [32m'Failed to load clue set summary'[39m)
     [90m 75 |[39m         setSummary([36mnull[39m)[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at loadSummary (src/components/clueSets/ClueSetSummary.tsx:72:9)

  console.error
    An update to ClueSetSummary inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 75 |[39m         setSummary([36mnull[39m)
     [90m 76 |[39m       } [36mfinally[39m {
    [31m[1m>[22m[39m[90m 77 |[39m         setIsLoading([36mfalse[39m)
     [90m    |[39m         [31m[1m^[22m[39m
     [90m 78 |[39m       }
     [90m 79 |[39m     }
     [90m 80 |[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at loadSummary (src/components/clueSets/ClueSetSummary.tsx:77:9)

  console.log
    üîå Cleaning up broadcast channel for game: game-123

      at src/components/games/GameHostDashboard.tsx:728:15
          at Array.forEach (<anonymous>)

  console.log
    üîå Unsubscribed from buzzer channel: game-123

      at Object.unsubscribe (src/services/realtime/BroadcastService.ts:154:17)
          at Array.forEach (<anonymous>)

PASS src/app/App.test.tsx (5.89 s)
  App
    ‚àö renders the project name (88 ms)
    ‚àö renders login form when user is not authenticated (125 ms)
    ‚àö displays clue set selector when authenticated (49 ms)
    ‚àö renders footer with copyright (50 ms)
    ‚àö shows user email when authenticated (91 ms)
    Game Creation Workflow
      ‚àö should handle successful game creation and switch to dashboard mode (372 ms)
      ‚àö should handle game creation error gracefully (644 ms)
      ‚àö should not create game when no clue set is selected (239 ms)
      ‚àö should not create game when user is not authenticated (27 ms)
    Navigation and State Management
      ‚àö should handle back to creator navigation from dashboard (806 ms)
      ‚àö should clear state when user logs out (111 ms)
    Player Interface
      ‚àö should show player join interface for player role (128 ms)
      ‚àö should handle player joining a game (76 ms)
      ‚àö should redirect player to lobby when already in active game (131 ms)
      ‚àö should redirect player to game dashboard when in active game (175 ms)
      ‚àö should handle player role setup errors gracefully (44 ms)
    Role Detection
      ‚àö should handle profile fetch errors gracefully (56 ms)
      ‚àö should show loading screen while determining role (90 ms)
      ‚àö should handle role detection errors (50 ms)
    Host Role Setup
      ‚àö should redirect host to dashboard when active game exists (120 ms)
      ‚àö should handle host role setup errors gracefully (60 ms)
    Drag and Drop File Upload
      ‚àö should handle drag enter events (69 ms)
      ‚àö should handle drag over events (43 ms)
      ‚àö should handle drag leave events (89 ms)
      ‚àö should handle file drop with unauthenticated user (10 ms)
      ‚àö should handle non-CSV file drop (43 ms)
      ‚àö should handle multiple file drop (50 ms)
    Real-time Subscriptions
      ‚àö should handle player game state changes (74 ms)
    Error Handling
      ‚àö should handle clue set deletion errors (128 ms)

PASS src/components/clueSets/ClueSetSummary.test.tsx
  ClueSetSummary
    Rendering
      ‚àö should render clue set summary component (184 ms)
      ‚àö should not render when no clue set ID provided (3 ms)
      ‚àö should have correct CSS classes (21 ms)
    Loading States
      ‚àö should show loading state initially (57 ms)
      ‚àö should hide loading state after data loads (52 ms)
    Error States
      ‚àö should display error message when service fails (55 ms)
      ‚àö should handle non-Error exceptions (44 ms)
      ‚àö should clear error when clue set ID changes (70 ms)
    Data Display
      ‚àö should display clue set name and creation date (26 ms)
      ‚àö should display all Jeopardy round categories (25 ms)
      ‚àö should display all Double Jeopardy round categories (38 ms)
      ‚àö should display Final Jeopardy category (49 ms)
      ‚àö should handle empty categories gracefully (28 ms)
    Delete Integration
      ‚àö should render delete button with correct props (90 ms)
      ‚àö should handle missing onDeleted callback (49 ms)
      ‚àö should handle missing onError callback (32 ms)
    Component Lifecycle
      ‚àö should reload data when clue set ID changes (50 ms)
      ‚àö should handle empty clue set ID gracefully (19 ms)

  console.error
    Failed to load game data: Error: Failed to load players
        at Object.<anonymous> (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\components\players\PlayerLobby.test.tsx:112:52)
        at Promise.then.completed (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\utils.js:298:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\utils.js:231:10)
        at _callCircusTest (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:316:40)
        at _runTest (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:252:3)
        at _runTestsForDescribeBlock (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:126:9)
        at _runTestsForDescribeBlock (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:121:9)
        at _runTestsForDescribeBlock (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:121:9)
        at run (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:71:3)
        at runAndTransformResultsToJestFormat (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
        at jestAdapter (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
        at runTestInternal (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-runner\build\runTest.js:367:16)
        at runTest (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-runner\build\runTest.js:444:34)
        at Object.worker (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 46 |[39m       setLoading([36mfalse[39m)
     [90m 47 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 48 |[39m       console[33m.[39merror([32m'Failed to load game data:'[39m[33m,[39m err)
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 49 |[39m       setError([32m'Failed to load game information'[39m)
     [90m 50 |[39m       setLoading([36mfalse[39m)
     [90m 51 |[39m     }[0m

      at src/components/players/PlayerLobby.tsx:48:15

  console.error
    Failed to load game data: Error: Network error
        at Object.<anonymous> (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\components\players\PlayerLobby.test.tsx:126:52)
        at Promise.then.completed (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\utils.js:298:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\utils.js:231:10)
        at _callCircusTest (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:316:40)
        at _runTest (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:252:3)
        at _runTestsForDescribeBlock (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:126:9)
        at _runTestsForDescribeBlock (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:121:9)
        at _runTestsForDescribeBlock (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:121:9)
        at run (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:71:3)
        at runAndTransformResultsToJestFormat (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
        at jestAdapter (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
        at runTestInternal (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-runner\build\runTest.js:367:16)
        at runTest (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-runner\build\runTest.js:444:34)
        at Object.worker (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 46 |[39m       setLoading([36mfalse[39m)
     [90m 47 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 48 |[39m       console[33m.[39merror([32m'Failed to load game data:'[39m[33m,[39m err)
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 49 |[39m       setError([32m'Failed to load game information'[39m)
     [90m 50 |[39m       setLoading([36mfalse[39m)
     [90m 51 |[39m     }[0m

      at src/components/players/PlayerLobby.tsx:48:15

PASS src/components/clueSets/DeleteClueSetButton.test.tsx
  DeleteClueSetButton
    Rendering
      ‚àö should render delete button with correct text (31 ms)
      ‚àö should have correct CSS class (6 ms)
      ‚àö should have correct title attribute (5 ms)
      ‚àö should have correct aria-label (12 ms)
    Authentication Requirements
      ‚àö should call onError when user is not authenticated (5 ms)
      ‚àö should not call onError when onError prop is not provided and user is not authenticated (5 ms)
    Confirmation Dialog
      ‚àö should show confirmation dialog with correct message (4 ms)
      ‚àö should not proceed with deletion when user cancels confirmation (5 ms)
      ‚àö should proceed with deletion when user confirms (14 ms)
    Deletion Process
      ‚àö should show loading state during deletion (28 ms)
      ‚àö should call onDeleted on successful deletion (33 ms)
      ‚àö should call onError when deletion fails with error message (32 ms)
      ‚àö should call onError with default message when deletion fails without error message (33 ms)
      ‚àö should handle service throwing Error (45 ms)
      ‚àö should handle service throwing non-Error exception (31 ms)
      ‚àö should not call onError when onError prop is not provided and deletion fails (17 ms)
    Edge Cases
      ‚àö should handle special characters in clue set name (3 ms)
      ‚àö should handle empty clue set name (3 ms)

  console.log
    üîç ensureProfileExists called for user: user-123 test@example.com

      at ensureProfileExists (src/contexts/AuthContext.tsx:102:13)

  console.log
    üìã Profile check result: { existingProfile: null, fetchError: { code: 'PGRST116' } }

      at ensureProfileExists (src/contexts/AuthContext.tsx:112:13)

  console.log
    üÜï Creating new profile for: test@example.com

      at ensureProfileExists (src/contexts/AuthContext.tsx:133:13)

  console.error
    ‚ùå Error in ensureProfileExists: TypeError: client_1.supabase.from(...).insert(...).select is not a function
        at ensureProfileExists (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\contexts\AuthContext.tsx:153:8)
        at D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\contexts\AuthContext.tsx:239:9

    [0m [90m 162 |[39m   } [36mcatch[39m (error) {
     [90m 163 |[39m     [90m// Catch any unexpected errors and log them without blocking authentication[39m
    [31m[1m>[22m[39m[90m 164 |[39m     console[33m.[39merror([32m'‚ùå Error in ensureProfileExists:'[39m[33m,[39m error)
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 165 |[39m   }
     [90m 166 |[39m }
     [90m 167 |[39m[0m

      at ensureProfileExists (src/contexts/AuthContext.tsx:164:13)
      at src/contexts/AuthContext.tsx:239:9

PASS src/utils/csvParser.test.ts
  csvParser
    parseCSV
      ‚àö should parse valid CSV data correctly (3 ms)
      ‚àö should handle quoted fields with commas (1 ms)
      ‚àö should handle escaped quotes in fields (1 ms)
      ‚àö should trim whitespace from fields (1 ms)
      ‚àö should skip empty lines
      ‚àö should handle empty CSV gracefully (1 ms)
      ‚àö should throw error for wrong number of fields (9 ms)
      ‚àö should throw error for invalid round type (3 ms)
      ‚àö should throw error for invalid value (1 ms)
      ‚àö should handle zero values correctly
      ‚àö should handle negative values correctly (1 ms)
    validateJeopardyStructure
      ‚àö should validate correct Jeopardy structure
      ‚àö should throw error for incorrect Jeopardy round count (2 ms)
      ‚àö should throw error for incorrect Double Jeopardy round count (1 ms)
      ‚àö should throw error for incorrect Final Jeopardy count
      ‚àö should throw error for missing Final Jeopardy (11 ms)
      ‚àö should throw error for wrong category count in Jeopardy (1 ms)
      ‚àö should throw error for wrong clue count per category in Double Jeopardy (1 ms)

PASS src/components/auth/SimpleLogin.test.tsx
  SimpleLogin
    ‚àö should render login form when user is not authenticated (42 ms)
    ‚àö should render loading state (2 ms)
    ‚àö should render user info and logout button when authenticated (8 ms)
    ‚àö should handle form input changes (9 ms)
    ‚àö should call login function on form submission (17 ms)
    ‚àö should clear form on successful login (27 ms)
    ‚àö should handle login error (91 ms)
    ‚àö should call logout function when logout button is clicked (7 ms)
    ‚àö should prevent form submission with empty fields (8 ms)
    ‚àö should handle form submission via Enter key (16 ms)
    ‚àö should have proper form accessibility (8 ms)
    ‚àö should display test account information (5 ms)
    ‚àö should have proper CSS classes (7 ms)
    ‚àö should render authenticated state with proper CSS classes (5 ms)

  console.log
    üîç ensureProfileExists called for user: user-123 test@example.com

      at ensureProfileExists (src/contexts/AuthContext.tsx:102:13)

  console.log
    üìã Profile check result: { existingProfile: null, fetchError: { code: 'PGRST116' } }

      at ensureProfileExists (src/contexts/AuthContext.tsx:112:13)

  console.log
    üÜï Creating new profile for: test@example.com

      at ensureProfileExists (src/contexts/AuthContext.tsx:133:13)

  console.error
    ‚ùå Error in ensureProfileExists: TypeError: client_1.supabase.from(...).insert(...).select is not a function
        at ensureProfileExists (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\contexts\AuthContext.tsx:153:8)
        at D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\contexts\AuthContext.tsx:257:9

    [0m [90m 162 |[39m   } [36mcatch[39m (error) {
     [90m 163 |[39m     [90m// Catch any unexpected errors and log them without blocking authentication[39m
    [31m[1m>[22m[39m[90m 164 |[39m     console[33m.[39merror([32m'‚ùå Error in ensureProfileExists:'[39m[33m,[39m error)
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 165 |[39m   }
     [90m 166 |[39m }
     [90m 167 |[39m[0m

      at ensureProfileExists (src/contexts/AuthContext.tsx:164:13)
      at src/contexts/AuthContext.tsx:257:9

  console.log
    üîç ensureProfileExists called for user: user-123 test@example.com

      at ensureProfileExists (src/contexts/AuthContext.tsx:102:13)

  console.log
    üìã Profile check result: { existingProfile: null, fetchError: { code: 'PGRST116' } }

      at ensureProfileExists (src/contexts/AuthContext.tsx:112:13)

  console.log
    üÜï Creating new profile for: test@example.com

      at ensureProfileExists (src/contexts/AuthContext.tsx:133:13)

  console.error
    ‚ùå Error in ensureProfileExists: TypeError: client_1.supabase.from(...).insert(...).select is not a function
        at ensureProfileExists (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\contexts\AuthContext.tsx:153:8)
        at D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\contexts\AuthContext.tsx:239:9

    [0m [90m 162 |[39m   } [36mcatch[39m (error) {
     [90m 163 |[39m     [90m// Catch any unexpected errors and log them without blocking authentication[39m
    [31m[1m>[22m[39m[90m 164 |[39m     console[33m.[39merror([32m'‚ùå Error in ensureProfileExists:'[39m[33m,[39m error)
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 165 |[39m   }
     [90m 166 |[39m }
     [90m 167 |[39m[0m

      at ensureProfileExists (src/contexts/AuthContext.tsx:164:13)
      at src/contexts/AuthContext.tsx:239:9

  console.log
    üîç ensureProfileExists called for user: user-123 test@example.com

      at ensureProfileExists (src/contexts/AuthContext.tsx:102:13)

  console.log
    üìã Profile check result: {
      existingProfile: null,
      fetchError: { code: 'SOME_ERROR', message: 'Database error' }
    }

      at ensureProfileExists (src/contexts/AuthContext.tsx:112:13)

  console.error
    ‚ùå Error checking profile: { code: 'SOME_ERROR', message: 'Database error' }

    [0m [90m 116 |[39m       [90m// PGRST116 = "not found" error code, which is expected for new users[39m
     [90m 117 |[39m       [90m// Any other error indicates a real problem that should be logged[39m
    [31m[1m>[22m[39m[90m 118 |[39m       console[33m.[39merror([32m'‚ùå Error checking profile:'[39m[33m,[39m fetchError)
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 119 |[39m       [36mreturn[39m
     [90m 120 |[39m     }
     [90m 121 |[39m[0m

      at ensureProfileExists (src/contexts/AuthContext.tsx:118:15)
      at src/contexts/AuthContext.tsx:239:9

PASS src/contexts/AuthContext.test.tsx
  AuthContext
    ‚àö should throw error when useAuth is used outside AuthProvider (38 ms)
    ‚àö should provide initial loading state (25 ms)
    ‚àö should handle no initial session (25 ms)
    ‚àö should handle initial session with user (33 ms)
    ‚àö should handle successful login (34 ms)
    ‚àö should handle login error (34 ms)
    ‚àö should handle logout (28 ms)
    ‚àö should handle logout error (33 ms)
    ‚àö should handle auth state changes (45 ms)
    ‚àö should create profile for new user (18 ms)
    ‚àö should handle profile creation error gracefully (27 ms)
    ‚àö should unsubscribe from auth changes on unmount (8 ms)

  console.error
    Failed to leave game: Error: Failed to remove player
        at Object.<anonymous> (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\components\players\PlayerLobby.test.tsx:277:54)
        at Promise.then.completed (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\utils.js:298:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\utils.js:231:10)
        at _callCircusTest (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:316:40)
        at _runTest (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:252:3)
        at _runTestsForDescribeBlock (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:126:9)
        at _runTestsForDescribeBlock (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:121:9)
        at _runTestsForDescribeBlock (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:121:9)
        at run (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:71:3)
        at runAndTransformResultsToJestFormat (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
        at jestAdapter (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
        at runTestInternal (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-runner\build\runTest.js:367:16)
        at runTest (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-runner\build\runTest.js:444:34)
        at Object.worker (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m  96 |[39m       onLeaveGame()
     [90m  97 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m  98 |[39m       console[33m.[39merror([32m'Failed to leave game:'[39m[33m,[39m err)
     [90m     |[39m               [31m[1m^[22m[39m
     [90m  99 |[39m       setError(err [36minstanceof[39m [33mError[39m [33m?[39m err[33m.[39mmessage [33m:[39m [32m'Failed to leave game'[39m)
     [90m 100 |[39m       setLoading([36mfalse[39m)
     [90m 101 |[39m     }[0m

      at handleLeaveGame (src/components/players/PlayerLobby.tsx:98:15)

FAIL src/services/clueSets/clueSetService.test.ts
  ClueSetService
    getUserClueSets
      ‚àö should return user clue sets (16 ms)
      ‚àö should handle database errors (41 ms)
      ‚àö should return empty array when no clue sets found (2 ms)
    deleteClueSet
      ‚àö should delete clue set (2 ms)
      ‚àö should handle ownership verification errors (1 ms)
      ‚àö should reject unauthorized deletion attempts (2 ms)
      ‚àö should handle clue set not found during ownership check (1 ms)
      ‚àö should handle deletion database errors (1 ms)
      ‚àö should handle unexpected exceptions
      ‚àö should handle non-Error exceptions (1 ms)
    checkDuplicateName
      ‚àö should return false for unique name (1 ms)
      ‚àö should return true for duplicate name
      ‚àö should handle database errors in duplicate check (1 ms)
    getClueSetSummary
      ‚àö should return clue set summary with all rounds (2 ms)
      ‚àö should handle clue set not found (1 ms)
      ‚àö should handle boards query error (2 ms)
      ‚àö should handle missing categories gracefully (2 ms)
    loadClueSetFromDatabase
      ‚àö should load complete clue set data (2 ms)
      ‚àö should handle clue set not found (1 ms)
      ‚àö should handle boards query error (1 ms)
      √ó should handle missing boards data (3 ms)
      ‚àö should handle missing categories gracefully (1 ms)

  ‚óè ClueSetService ‚Ä∫ loadClueSetFromDatabase ‚Ä∫ should handle missing boards data

    expect(received).rejects.toThrow()

    Received promise resolved instead of rejected
    Resolved to value: {"filename": "Test Clue Set.csv", "name": "Test Clue Set", "rounds": {"double": [], "final": {"clues": [], "name": "Final Jeopardy"}, "jeopardy": []}}

    [0m [90m 577 |[39m         )
     [90m 578 |[39m
    [31m[1m>[22m[39m[90m 579 |[39m       [36mawait[39m expect([33mClueSetService[39m[33m.[39mloadClueSetFromDatabase(clueSetId))[33m.[39mrejects[33m.[39mtoThrow([32m'No board data found for clue set'[39m)
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 580 |[39m     })
     [90m 581 |[39m
     [90m 582 |[39m     it([32m'should handle missing categories gracefully'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at expect (node_modules/jest-circus/node_modules/expect/build/index.js:113:15)
      at Object.<anonymous> (src/services/clueSets/clueSetService.test.ts:579:13)

PASS src/components/players/PlayerLobby.test.tsx
  PlayerLobby
    Loading States
      ‚àö should show loading state initially (164 ms)
      ‚àö should load game data on mount (34 ms)
    Error States
      ‚àö should handle game loading error (92 ms)
      ‚àö should call onLeaveGame when back button clicked in error state (46 ms)
    Player List Display
      ‚àö should display players with nicknames (15 ms)
      ‚àö should highlight current player (26 ms)
      ‚àö should show empty state when no players (38 ms)
      ‚àö should show default player names when nickname is missing (27 ms)
    Game Information
      ‚àö should display game code and lobby status (38 ms)
      ‚àö should show current player info when available (27 ms)
      ‚àö should not show player info when current user not in game (13 ms)
    Leave Game Functionality
      ‚àö should handle successful leave game (117 ms)
      ‚àö should handle leave game error (74 ms)
      ‚àö should not attempt leave game when user is not authenticated (31 ms)
    Real-time Subscriptions
      ‚àö should set up real-time subscriptions for player changes (43 ms)

  console.log
    üìä Buzzer queue updated: Alice(450ms)

      at BuzzerQueueManager.addBuzz (src/services/buzzer/BuzzerQueueManager.ts:121:13)

  console.log
    üìä Buzzer queue updated: Alice(450ms)

      at BuzzerQueueManager.addBuzz (src/services/buzzer/BuzzerQueueManager.ts:121:13)

  console.log
    üìä Buzzer queue updated: Bob(380ms), Alice(450ms)

      at BuzzerQueueManager.addBuzz (src/services/buzzer/BuzzerQueueManager.ts:121:13)

  console.log
    üìä Buzzer queue updated: Bob(380ms), Alice(450ms), Charlie(520ms)

      at BuzzerQueueManager.addBuzz (src/services/buzzer/BuzzerQueueManager.ts:121:13)

  console.log
    üìä Buzzer queue updated: Alice(450ms)

      at BuzzerQueueManager.addBuzz (src/services/buzzer/BuzzerQueueManager.ts:121:13)

  console.log
    üìä Buzzer queue updated: Bob(380ms), Alice(450ms)

      at BuzzerQueueManager.addBuzz (src/services/buzzer/BuzzerQueueManager.ts:121:13)

  console.log
    üìä Buzzer queue updated: Alice(380ms)

      at BuzzerQueueManager.addBuzz (src/services/buzzer/BuzzerQueueManager.ts:121:13)

  console.log
    üìä Buzzer queue updated: Alice(380ms), Bob(450ms)

      at BuzzerQueueManager.addBuzz (src/services/buzzer/BuzzerQueueManager.ts:121:13)

  console.log
    üìä Buzzer queue updated: Alice(450ms)

      at BuzzerQueueManager.addBuzz (src/services/buzzer/BuzzerQueueManager.ts:121:13)

  console.log
    ‚ö†Ô∏è Duplicate buzz from Alice ignored

      at BuzzerQueueManager.addBuzz (src/services/buzzer/BuzzerQueueManager.ts:90:15)

  console.log
    üìä Buzzer queue updated: Alice(450ms)

      at BuzzerQueueManager.addBuzz (src/services/buzzer/BuzzerQueueManager.ts:121:13)

  console.log
    üìä Buzzer queue updated: Bob(380ms), Alice(450ms)

      at BuzzerQueueManager.addBuzz (src/services/buzzer/BuzzerQueueManager.ts:121:13)

  console.log
    üìä Buzzer queue updated: Alice(450ms)

      at BuzzerQueueManager.addBuzz (src/services/buzzer/BuzzerQueueManager.ts:121:13)

  console.log
    üìä Buzzer queue updated: Bob(380ms), Alice(450ms)

      at BuzzerQueueManager.addBuzz (src/services/buzzer/BuzzerQueueManager.ts:121:13)

  console.log
    üìä Buzzer queue updated: Alice(450ms)

      at BuzzerQueueManager.addBuzz (src/services/buzzer/BuzzerQueueManager.ts:121:13)

  console.log
    üìä Buzzer queue updated: Bob(380ms), Alice(450ms)

      at BuzzerQueueManager.addBuzz (src/services/buzzer/BuzzerQueueManager.ts:121:13)

  console.log
    üìä Buzzer queue updated: Alice(450ms)

      at BuzzerQueueManager.addBuzz (src/services/buzzer/BuzzerQueueManager.ts:121:13)

  console.log
    üìä Buzzer queue updated: Alice(450ms)

      at BuzzerQueueManager.addBuzz (src/services/buzzer/BuzzerQueueManager.ts:121:13)

  console.log
    üìä Buzzer queue updated: Bob(380ms), Alice(450ms)

      at BuzzerQueueManager.addBuzz (src/services/buzzer/BuzzerQueueManager.ts:121:13)

  console.log
    üßπ Buzzer queue cleared

      at BuzzerQueueManager.clear (src/services/buzzer/BuzzerQueueManager.ts:209:13)

  console.log
    üìä Buzzer queue updated: Alice(450ms)

      at BuzzerQueueManager.addBuzz (src/services/buzzer/BuzzerQueueManager.ts:121:13)

  console.log
    üßπ Buzzer queue cleared

      at BuzzerQueueManager.clear (src/services/buzzer/BuzzerQueueManager.ts:209:13)

  console.log
    üìä Buzzer queue updated: Alice(380ms)

      at BuzzerQueueManager.addBuzz (src/services/buzzer/BuzzerQueueManager.ts:121:13)

  console.log
    üìä Buzzer queue updated: Alice(450ms)

      at BuzzerQueueManager.addBuzz (src/services/buzzer/BuzzerQueueManager.ts:121:13)

  console.log
    üìä Buzzer queue updated: Bob(380ms), Alice(450ms)

      at BuzzerQueueManager.addBuzz (src/services/buzzer/BuzzerQueueManager.ts:121:13)

  console.log
    üìä Buzzer queue updated: Bob(380ms), Alice(450ms), Charlie(520ms)

      at BuzzerQueueManager.addBuzz (src/services/buzzer/BuzzerQueueManager.ts:121:13)

  console.log
    üìä Buzzer queue updated: Alice(450ms)

      at BuzzerQueueManager.addBuzz (src/services/buzzer/BuzzerQueueManager.ts:121:13)

  console.log
    üìä Buzzer queue updated: Bob(380ms), Alice(450ms)

      at BuzzerQueueManager.addBuzz (src/services/buzzer/BuzzerQueueManager.ts:121:13)

PASS src/services/buzzer/BuzzerQueueManager.test.ts
  BuzzerQueueManager
    addBuzz
      ‚àö should add a buzz to the queue (4 ms)
      ‚àö should maintain sorted order by reaction time (3 ms)
      ‚àö should return true when adding new fastest buzz (11 ms)
      ‚àö should return false when adding slower buzz (2 ms)
      ‚àö should ignore duplicate buzzes from same player (9 ms)
    getFastestPlayer
      ‚àö should return null when queue is empty (2 ms)
      ‚àö should return fastest player ID (2 ms)
    getFastestPlayerNickname
      ‚àö should return null when queue is empty (1 ms)
      ‚àö should return fastest player nickname (3 ms)
    getFastestReactionTime
      ‚àö should return null when queue is empty
      ‚àö should return fastest reaction time (3 ms)
    hasBuzz
      ‚àö should return false when player has not buzzed (1 ms)
      ‚àö should return true when player has buzzed (2 ms)
    clear
      ‚àö should clear all buzzes (9 ms)
      ‚àö should allow adding buzzes after clear (4 ms)
    getStats
      ‚àö should return null stats when queue is empty (1 ms)
      ‚àö should calculate correct statistics (4 ms)
    late buzz correction
      ‚àö should handle late faster buzz correctly (2 ms)

PASS src/components/clueSets/ClueSetSelector.test.tsx
  ClueSetSelector
    ‚àö should render clue set selector with title (49 ms)
    ‚àö should render dropdown with available clue sets (35 ms)
    ‚àö should call onClueSetSelected when selection changes (23 ms)
    ‚àö should display selected clue set (39 ms)
    ‚àö should handle empty clue sets list (57 ms)
    ‚àö should load clue sets from database (56 ms)

PASS src/services/animations/BuzzerStateService.test.ts
  BuzzerStateService
    getInstance
      ‚àö should return singleton instance (1 ms)
    determineState
      ‚àö should return HIDDEN when game is in lobby
      ‚àö should return INACTIVE when introducing categories
      ‚àö should return FROZEN when player is frozen
      ‚àö should return BUZZED when player has buzzed
      ‚àö should return INACTIVE when no clue is selected
      ‚àö should return LOCKED when clue is selected but buzzer is locked (12 ms)
      ‚àö should return UNLOCKED when clue is selected and buzzer is unlocked (1 ms)
      ‚àö should prioritize frozen state over buzzed state
    validateTransition
      ‚àö should allow HIDDEN to INACTIVE transition (1 ms)
      ‚àö should allow INACTIVE to LOCKED transition
      ‚àö should allow LOCKED to UNLOCKED transition (1 ms)
      ‚àö should allow UNLOCKED to BUZZED transition (1 ms)
      ‚àö should allow BUZZED to INACTIVE transition (1 ms)
      ‚àö should allow FROZEN to INACTIVE transition (1 ms)
      ‚àö should reject invalid HIDDEN to LOCKED transition (1 ms)
      ‚àö should reject invalid UNLOCKED to FROZEN direct transition (2 ms)
    getStateClassName
      ‚àö should return correct CSS class for each state (6 ms)
    getStateDisplayText
      ‚àö should return correct display text for each state (1 ms)
      ‚àö should return Unknown for invalid state (1 ms)
    isInteractive
      ‚àö should return true only for UNLOCKED state (1 ms)
    getPostBuzzState
      ‚àö should return FROZEN for early buzz (1 ms)
      ‚àö should return BUZZED for valid buzz from UNLOCKED
      ‚àö should return current state for invalid buzz attempt (1 ms)
    getAllStates
      ‚àö should return all buzzer states (1 ms)
    isActiveState
      ‚àö should return false for HIDDEN and INACTIVE (2 ms)
      ‚àö should return true for active states
    getStatePriority
      ‚àö should return correct priority for each state
      ‚àö should return 0 for invalid state (1 ms)
      ‚àö should have BUZZED as highest priority

  console.log
    üé¨ [AnimationRegistry] Registered animation: BoardIntro

      at Function.register (src/services/animations/AnimationDefinitions.ts:775:13)

  console.log
    üé¨ [AnimationRegistry] Registered animation: CategoryIntro

      at Function.register (src/services/animations/AnimationDefinitions.ts:775:13)

  console.log
    üé¨ [AnimationRegistry] Registered animation: ClueReveal

      at Function.register (src/services/animations/AnimationDefinitions.ts:775:13)

  console.log
    üé¨ [AnimationRegistry] Registered animation: DailyDoubleReveal

      at Function.register (src/services/animations/AnimationDefinitions.ts:775:13)

  console.log
    üé¨ [AnimationRegistry] Registered animation: DailyDoubleClueReveal

      at Function.register (src/services/animations/AnimationDefinitions.ts:775:13)

  console.log
    üé¨ [AnimationRegistry] Registered animation: RoundTransition

      at Function.register (src/services/animations/AnimationDefinitions.ts:775:13)

  console.log
    üé¨ AnimationDefinitions exposed to window for console testing

      at Object.<anonymous> (src/services/animations/AnimationDefinitions.ts:851:11)

  console.log
    üé¨ Try: AnimationDefinitions.BoardIntroAnimation.execute({ round: "jeopardy", gameId: "test" })

      at Object.<anonymous> (src/services/animations/AnimationDefinitions.ts:852:11)

  console.log
    üé¨ [PlayerDashboard] Setting up animation system for game game-123

      at src/components/players/PlayerDashboard.tsx:143:13

  console.log
    üé¨ [AnimationEvents] Subscriber added (total: 1)

      at Function.subscribe (src/services/animations/AnimationEvents.ts:21:13)

  console.log
    üì° [Player] Setting up broadcast channel for game: game-123

      at src/components/players/PlayerDashboard.tsx:756:13

  console.error
    An update to PlayerDashboard inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 355 |[39m         [36mthrow[39m statesError[33m;[39m
     [90m 356 |[39m       }
    [31m[1m>[22m[39m[90m 357 |[39m       setClueStates(states)[33m;[39m
     [90m     |[39m       [31m[1m^[22m[39m
     [90m 358 |[39m
     [90m 359 |[39m       [90m// Load boards and categories for the game's clue set[39m
     [90m 360 |[39m       [90m// First get the game to find the clue set ID[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at src/components/players/PlayerDashboard.tsx:357:7

  console.error
    An update to PlayerDashboard inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 406 |[39m       [36mconst[39m finalBoard [33m=[39m boards[33m.[39mfind((board) [33m=>[39m board[33m.[39mround [33m===[39m [32m"final"[39m)[33m;[39m
     [90m 407 |[39m
    [31m[1m>[22m[39m[90m 408 |[39m       setClueSetData({
     [90m     |[39m       [31m[1m^[22m[39m
     [90m 409 |[39m         name[33m:[39m [32m"Game Board"[39m[33m,[39m [90m// Players don't need the actual clue set name[39m
     [90m 410 |[39m         filename[33m:[39m [32m"game-board.csv"[39m[33m,[39m [90m// Players don't need the actual filename[39m
     [90m 411 |[39m         rounds[33m:[39m {[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at src/components/players/PlayerDashboard.tsx:408:7

PASS src/types/game.test.ts
  game types
    isValidRoundType
      ‚àö should return true for valid round types
      ‚àö should return false for invalid round types
      ‚àö should return false for non-string values (1 ms)
      ‚àö should handle edge cases
      ‚àö should be case sensitive (1 ms)
      ‚àö should work as type guard
    isValidGameStatus
      ‚àö should return true for valid game statuses (1 ms)
      ‚àö should return false for invalid game statuses (1 ms)
      ‚àö should return false for non-string values (1 ms)
      ‚àö should handle edge cases
      ‚àö should be case sensitive (14 ms)
      ‚àö should work as type guard (1 ms)
      ‚àö should handle underscore variations correctly (1 ms)
    type guard integration
      ‚àö should work together for validation (1 ms)
      ‚àö should handle mixed type validation (1 ms)
    performance and edge cases
      ‚àö should handle large number of validations efficiently (5 ms)
      ‚àö should handle very long strings
      ‚àö should handle special characters (1 ms)
      ‚àö should handle unicode characters (1 ms)

  console.log
    üé¨ [PlayerDashboard] Cleaning up animation system for game game-123

      at src/components/players/PlayerDashboard.tsx:271:15
          at Array.forEach (<anonymous>)

  console.log
    üé¨ [AnimationEvents] Subscriber removed (total: 0)

      at src/services/animations/AnimationEvents.ts:24:15
          at Array.forEach (<anonymous>)

  console.log
    üîå [Player] Cleaning up broadcast channel for game: game-123

      at src/components/players/PlayerDashboard.tsx:849:15
          at Array.forEach (<anonymous>)

  console.log
    üîå Unsubscribed from buzzer channel: game-123

      at Object.unsubscribe (src/services/realtime/BroadcastService.ts:154:17)
          at Array.forEach (<anonymous>)

  console.log
    üé¨ [PlayerDashboard] Setting up animation system for game game-123

      at src/components/players/PlayerDashboard.tsx:143:13

  console.log
    üé¨ [AnimationEvents] Subscriber added (total: 1)

      at Function.subscribe (src/services/animations/AnimationEvents.ts:21:13)

  console.log
    üì° [Player] Setting up broadcast channel for game: game-123

      at src/components/players/PlayerDashboard.tsx:756:13

PASS src/services/animations/GameStateClassService.test.ts
  GameStateClassService
    getInstance
      ‚àö should return singleton instance (1 ms)
    getCategoryClasses
      ‚àö should return focused class when category is focused (1 ms)
      ‚àö should return empty class when category is empty
      ‚àö should return partial class when category has some completed clues
      ‚àö should return complete class when all clues are completed (1 ms)
      ‚àö should return multiple classes when applicable
      ‚àö should return empty array when no special states apply
    getPodiumClasses
      ‚àö should return buzzed class when player has buzzed (1 ms)
      ‚àö should return frozen class when player is frozen (18 ms)
      ‚àö should return focused class when player is focused (1 ms)
      ‚àö should return multiple classes when applicable
      ‚àö should return only buzzer state class when no special states apply
    getClassNames
      ‚àö should return all class name constants (2 ms)
    podium classes with buzzer states
      ‚àö should add active class for UNLOCKED buzzer state (1 ms)
      ‚àö should add active class for BUZZED buzzer state (1 ms)
      ‚àö should add inactive class for HIDDEN buzzer state
      ‚àö should add inactive class for INACTIVE buzzer state (1 ms)
      ‚àö should add frozen class for FROZEN buzzer state
      ‚àö should add inactive class for LOCKED buzzer state

PASS src/services/clueSets/uploadService.test.ts
  UploadService
    validateFile
      ‚àö should validate CSV file successfully (3 ms)
      ‚àö should validate CSV file with .csv extension but no MIME type
      ‚àö should reject non-CSV file by MIME type (1 ms)
      ‚àö should reject non-CSV file by extension (2 ms)
      ‚àö should reject file that is too large (546 ms)
      ‚àö should reject empty file
      ‚àö should clean filename for suggested name (1 ms)
      ‚àö should handle filename with multiple spaces (1 ms)
      ‚àö should provide default name for empty filename (1 ms)
      ‚àö should handle case-insensitive CSV extension
    checkDuplicateName
      ‚àö should detect duplicate name (case insensitive)
      ‚àö should return false for non-duplicate name (1 ms)
      ‚àö should handle empty clue sets list
      ‚àö should handle database error gracefully (1 ms)
    processFileUpload
      ‚àö should process file upload successfully (1 ms)
      ‚àö should handle overwrite scenario (5 ms)
      ‚àö should not delete when not overwriting (1 ms)
      ‚àö should handle CSV parsing error
      ‚àö should handle database save error (1 ms)
      ‚àö should handle non-Error exceptions (1 ms)
    handleDragAndDropUpload
      ‚àö should complete full upload workflow successfully (4 ms)
      ‚àö should handle file validation failure (23 ms)
      ‚àö should handle user cancelling name prompt (1 ms)
      ‚àö should handle duplicate name with overwrite choice (2 ms)
      ‚àö should handle duplicate name with cancel choice (1 ms)
      ‚àö should handle duplicate name with cancel option
      ‚àö should handle upload processing error (1 ms)
      ‚àö should handle empty filename gracefully (1 ms)

  console.log
    üé¨ [PlayerDashboard] Cleaning up animation system for game game-123

      at src/components/players/PlayerDashboard.tsx:271:15
          at Array.forEach (<anonymous>)

  console.log
    üé¨ [AnimationEvents] Subscriber removed (total: 0)

      at src/services/animations/AnimationEvents.ts:24:15
          at Array.forEach (<anonymous>)

  console.log
    üîå [Player] Cleaning up broadcast channel for game: game-123

      at src/components/players/PlayerDashboard.tsx:849:15
          at Array.forEach (<anonymous>)

  console.log
    üîå Unsubscribed from buzzer channel: game-123

      at Object.unsubscribe (src/services/realtime/BroadcastService.ts:154:17)
          at Array.forEach (<anonymous>)

  console.log
    üé¨ [PlayerDashboard] Setting up animation system for game game-123

      at src/components/players/PlayerDashboard.tsx:143:13

  console.log
    üé¨ [AnimationEvents] Subscriber added (total: 1)

      at Function.subscribe (src/services/animations/AnimationEvents.ts:21:13)

  console.log
    üì° [Player] Setting up broadcast channel for game: game-123

      at src/components/players/PlayerDashboard.tsx:756:13

  console.error
    An update to PlayerDashboard inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 355 |[39m         [36mthrow[39m statesError[33m;[39m
     [90m 356 |[39m       }
    [31m[1m>[22m[39m[90m 357 |[39m       setClueStates(states)[33m;[39m
     [90m     |[39m       [31m[1m^[22m[39m
     [90m 358 |[39m
     [90m 359 |[39m       [90m// Load boards and categories for the game's clue set[39m
     [90m 360 |[39m       [90m// First get the game to find the clue set ID[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at src/components/players/PlayerDashboard.tsx:357:7

PASS src/services/clues/ClueService.test.ts
  ClueService
    initializeClueStates
      ‚àö should initialize clue states successfully (3 ms)
      ‚àö should handle game fetch error (25 ms)
      ‚àö should handle missing clue set ID (1 ms)
      ‚àö should handle boards fetch error (1 ms)
      ‚àö should handle empty boards (1 ms)
      ‚àö should handle categories fetch error
      ‚àö should handle empty categories (1 ms)
      ‚àö should handle clues fetch error (1 ms)
      ‚àö should handle empty clues (1 ms)
      ‚àö should handle clue states insert error
    isDailyDouble
      ‚àö should return true for Daily Double clue (1 ms)
      ‚àö should return false for non-Daily Double clue
      ‚àö should return false when no category data (1 ms)
      ‚àö should return false when no Daily Double positions (1 ms)
      ‚àö should handle database error (1 ms)
    getDailyDoublePositions
      ‚àö should return Daily Double positions for valid board
      ‚àö should return empty array when no Daily Double positions (1 ms)
      ‚àö should handle database error
      ‚àö should handle invalid Daily Double positions format (1 ms)
    getClueById
      ‚àö should return clue by ID
      ‚àö should handle database error (1 ms)
      ‚àö should handle clue not found
    getClueState
      ‚àö should return clue state when found (1 ms)
      ‚àö should return null when clue state not found
      ‚àö should handle database error (1 ms)
    getGameClueStates
      ‚àö should return all clue states for game (1 ms)
      ‚àö should return empty array when no clue states
      ‚àö should handle database error (1 ms)
    revealClue
      ‚àö should reveal clue successfully
      ‚àö should handle database error (1 ms)
      ‚àö should handle no clue state found
    markClueCompleted
      ‚àö should mark clue as completed successfully (12 ms)
      ‚àö should handle database error (1 ms)
      ‚àö should handle no clue state found
    getCompletedCluesCount
      ‚àö should return count of completed clues (1 ms)
      ‚àö should return 0 when no completed clues
      ‚àö should handle database error
    getCompletedCluesCountByRound
      ‚àö should return count of completed clues for jeopardy round (1 ms)
      ‚àö should return 0 when no clues completed in round (1 ms)
      ‚àö should handle game without clue set
    isRoundComplete
      ‚àö should return true when all 30 clues completed for jeopardy round (1 ms)
      ‚àö should return false when clues remain in jeopardy round
      ‚àö should return true when all 30 clues completed for double round
      ‚àö should return true when 1 clue completed for final round (1 ms)
      ‚àö should return false when final clue not completed

  console.error
    An update to PlayerDashboard inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 406 |[39m       [36mconst[39m finalBoard [33m=[39m boards[33m.[39mfind((board) [33m=>[39m board[33m.[39mround [33m===[39m [32m"final"[39m)[33m;[39m
     [90m 407 |[39m
    [31m[1m>[22m[39m[90m 408 |[39m       setClueSetData({
     [90m     |[39m       [31m[1m^[22m[39m
     [90m 409 |[39m         name[33m:[39m [32m"Game Board"[39m[33m,[39m [90m// Players don't need the actual clue set name[39m
     [90m 410 |[39m         filename[33m:[39m [32m"game-board.csv"[39m[33m,[39m [90m// Players don't need the actual filename[39m
     [90m 411 |[39m         rounds[33m:[39m {[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at src/components/players/PlayerDashboard.tsx:408:7

  console.error
    An update to PlayerDashboard inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 331 |[39m       )[33m;[39m
     [90m 332 |[39m
    [31m[1m>[22m[39m[90m 333 |[39m       setPlayers(playersWithFonts)[33m;[39m
     [90m     |[39m       [31m[1m^[22m[39m
     [90m 334 |[39m     } [36mcatch[39m (err) {
     [90m 335 |[39m       console[33m.[39merror([32m"‚ùå Error loading game data:"[39m[33m,[39m err)[33m;[39m
     [90m 336 |[39m       setError([32m"Failed to load game data. Please try refreshing."[39m)[33m;[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at src/components/players/PlayerDashboard.tsx:333:7

  console.error
    An update to PlayerDashboard inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 336 |[39m       setError([32m"Failed to load game data. Please try refreshing."[39m)[33m;[39m
     [90m 337 |[39m     } [36mfinally[39m {
    [31m[1m>[22m[39m[90m 338 |[39m       setLoading([36mfalse[39m)[33m;[39m
     [90m     |[39m       [31m[1m^[22m[39m
     [90m 339 |[39m     }
     [90m 340 |[39m   }[33m,[39m [gameId[33m,[39m user])[33m;[39m
     [90m 341 |[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at src/components/players/PlayerDashboard.tsx:338:7

  console.log
    üé¨ [PlayerDashboard] Cleaning up animation system for game game-123

      at src/components/players/PlayerDashboard.tsx:271:15
          at Array.forEach (<anonymous>)

  console.log
    üé¨ [AnimationEvents] Subscriber removed (total: 0)

      at src/services/animations/AnimationEvents.ts:24:15
          at Array.forEach (<anonymous>)

  console.log
    üîå [Player] Cleaning up broadcast channel for game: game-123

      at src/components/players/PlayerDashboard.tsx:849:15
          at Array.forEach (<anonymous>)

  console.log
    üîå Unsubscribed from buzzer channel: game-123

      at Object.unsubscribe (src/services/realtime/BroadcastService.ts:154:17)
          at Array.forEach (<anonymous>)

PASS src/services/animations/AnimationOrchestrator.test.ts
  AnimationOrchestrator
    getInstance
      ‚àö should return singleton instance (1 ms)
    ingestGameUpdate - Round Transitions
      ‚àö should publish RoundTransition when round changes during round_transition status (1 ms)
      ‚àö should NOT publish RoundTransition when round changes but status is not round_transition (2 ms)
      ‚àö should NOT publish RoundTransition on first update
    ingestGameUpdate - Board Intro
      ‚àö should publish BoardIntro when entering game_intro status (1 ms)
      ‚àö should NOT publish BoardIntro when already in game_intro
    ingestGameUpdate - Category Intro
      ‚àö should publish CategoryIntro when category number changes during introducing_categories (16 ms)
      ‚àö should publish CategoryIntro for each category change (1 ms)
      ‚àö should NOT publish CategoryIntro when category is 0
      ‚àö should NOT publish CategoryIntro when status is not introducing_categories (1 ms)
    ingestGameUpdate - Daily Double
      ‚àö should publish DailyDoubleReveal when focused_player_id is set for daily double clue (17 ms)
      ‚àö should NOT publish DailyDoubleReveal for regular clue (35 ms)
      ‚àö should handle isDailyDouble error gracefully (28 ms)
    clear
      ‚àö should clear game state (1 ms)

  console.log
    üé¨ [PlayerDashboard] Setting up animation system for game game-123

      at src/components/players/PlayerDashboard.tsx:143:13

  console.log
    üé¨ [AnimationEvents] Subscriber added (total: 1)

      at Function.subscribe (src/services/animations/AnimationEvents.ts:21:13)

  console.log
    üì° [Player] Setting up broadcast channel for game: game-123

      at src/components/players/PlayerDashboard.tsx:756:13

  console.error
    ‚ùå Error loading game data: Error: Game not found
        at Object.<anonymous> (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\components\players\PlayerDashboard.test.tsx:239:52)
        at Promise.then.completed (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\utils.js:298:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\utils.js:231:10)
        at _callCircusTest (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:316:40)
        at _runTest (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:252:3)
        at _runTestsForDescribeBlock (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:126:9)
        at _runTestsForDescribeBlock (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:121:9)
        at _runTestsForDescribeBlock (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:121:9)
        at run (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:71:3)
        at runAndTransformResultsToJestFormat (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
        at jestAdapter (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
        at runTestInternal (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-runner\build\runTest.js:367:16)
        at runTest (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-runner\build\runTest.js:444:34)
        at Object.worker (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 333 |[39m       setPlayers(playersWithFonts)[33m;[39m
     [90m 334 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 335 |[39m       console[33m.[39merror([32m"‚ùå Error loading game data:"[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 336 |[39m       setError([32m"Failed to load game data. Please try refreshing."[39m)[33m;[39m
     [90m 337 |[39m     } [36mfinally[39m {
     [90m 338 |[39m       setLoading([36mfalse[39m)[33m;[39m[0m

      at src/components/players/PlayerDashboard.tsx:335:15

PASS src/components/players/PlayerBuzzer.test.tsx
  PlayerBuzzer
    Buzzer States
      ‚àö should render unlocked buzzer (118 ms)
      ‚àö should render locked buzzer (22 ms)
      ‚àö should render frozen buzzer (10 ms)
      ‚àö should render buzzed state (16 ms)
    Buzzer Interaction
      ‚àö should call onBuzz when clicked and unlocked (26 ms)
      ‚àö should not call onBuzz when locked (8 ms)
    Accessibility
      ‚àö should have proper ARIA attributes (14 ms)
      ‚àö should indicate locked state to screen readers (7 ms)
    Visual States
      ‚àö should display correct text for each state (15 ms)
      ‚àö should apply correct CSS classes for each state (22 ms)

PASS src/utils/clueSetUtils.test.ts
  clueSetUtils
    filenameToDisplayName
      ‚àö should convert basic filename to display name (1 ms)
      ‚àö should handle underscores in filename
      ‚àö should handle mixed hyphens and underscores
      ‚àö should handle filename without extension (1 ms)
      ‚àö should handle uppercase CSV extension
      ‚àö should handle mixed case CSV extension
      ‚àö should handle single word filename (1 ms)
      ‚àö should handle filename with numbers
      ‚àö should handle filename with multiple consecutive separators
      ‚àö should handle empty filename (1 ms)
      ‚àö should handle filename with only separators
      ‚àö should preserve proper capitalization patterns
      ‚àö should handle special characters in title case
    getAvailableClueSets
      ‚àö should return array of available clue sets (1 ms)
      ‚àö should include test-game-1.csv
      ‚àö should return consistent results on multiple calls (1 ms)
      ‚àö should return only CSV files
    getClueSetURL
      ‚àö should generate correct URL for clue set file
      ‚àö should handle different filenames (1 ms)
      ‚àö should handle filenames with special characters
      ‚àö should handle empty filename
      ‚àö should not modify the filename
      ‚àö should handle filenames without extension (1 ms)
      ‚àö should handle filenames with path separators
    integration tests
      ‚àö should work together for available clue sets
      ‚àö should handle round-trip conversion consistently (3 ms)

  console.log
    üé¨ [PlayerDashboard] Cleaning up animation system for game game-123

      at src/components/players/PlayerDashboard.tsx:271:15
          at Array.forEach (<anonymous>)

  console.log
    üé¨ [AnimationEvents] Subscriber removed (total: 0)

      at src/services/animations/AnimationEvents.ts:24:15
          at Array.forEach (<anonymous>)

  console.log
    üîå [Player] Cleaning up broadcast channel for game: game-123

      at src/components/players/PlayerDashboard.tsx:849:15
          at Array.forEach (<anonymous>)

  console.log
    üîå Unsubscribed from buzzer channel: game-123

      at Object.unsubscribe (src/services/realtime/BroadcastService.ts:154:17)
          at Array.forEach (<anonymous>)

  console.log
    üé¨ [PlayerDashboard] Setting up animation system for game game-123

      at src/components/players/PlayerDashboard.tsx:143:13

  console.log
    üé¨ [AnimationEvents] Subscriber added (total: 1)

      at Function.subscribe (src/services/animations/AnimationEvents.ts:21:13)

  console.log
    üì° [Player] Setting up broadcast channel for game: game-123

      at src/components/players/PlayerDashboard.tsx:756:13

PASS src/services/animations/AnimationEvents.test.ts
  AnimationEvents
    subscribe
      ‚àö should add subscriber and return unsubscribe function (1 ms)
      ‚àö should support multiple subscribers
      ‚àö should allow unsubscribing specific subscriber (1 ms)
    publish
      ‚àö should notify all subscribers with intent (1 ms)
      ‚àö should cache intent for recent lookup (1 ms)
      ‚àö should handle subscriber errors gracefully (1 ms)
      ‚àö should publish different intent types (2 ms)
    wasRecentlyPublished
      ‚àö should return false for unpublished intent
      ‚àö should return true for recently published intent (1 ms)
      ‚àö should return false for expired intent (2 ms)
      ‚àö should distinguish between different intent types (1 ms)
      ‚àö should distinguish between different game IDs
      ‚àö should clean up expired intents on check (1 ms)
    integration
      ‚àö should support full pub/sub workflow (1 ms)

  console.log
    üé¨ [PlayerDashboard] Cleaning up animation system for game game-123

      at src/components/players/PlayerDashboard.tsx:271:15
          at Array.forEach (<anonymous>)

  console.log
    üé¨ [AnimationEvents] Subscriber removed (total: 0)

      at src/services/animations/AnimationEvents.ts:24:15
          at Array.forEach (<anonymous>)

  console.log
    üîå [Player] Cleaning up broadcast channel for game: game-123

      at src/components/players/PlayerDashboard.tsx:849:15
          at Array.forEach (<anonymous>)

  console.log
    üîå Unsubscribed from buzzer channel: game-123

      at Object.unsubscribe (src/services/realtime/BroadcastService.ts:154:17)
          at Array.forEach (<anonymous>)

  console.log
    üé¨ [PlayerDashboard] Setting up animation system for game game-123

      at src/components/players/PlayerDashboard.tsx:143:13

  console.log
    üé¨ [AnimationEvents] Subscriber added (total: 1)

      at Function.subscribe (src/services/animations/AnimationEvents.ts:21:13)

  console.log
    üì° [Player] Setting up broadcast channel for game: game-123

      at src/components/players/PlayerDashboard.tsx:756:13

  console.log
    üé¨ [PlayerDashboard] Cleaning up animation system for game game-123

      at src/components/players/PlayerDashboard.tsx:271:15
          at Array.forEach (<anonymous>)

  console.log
    üé¨ [AnimationEvents] Subscriber removed (total: 0)

      at src/services/animations/AnimationEvents.ts:24:15
          at Array.forEach (<anonymous>)

  console.log
    üé® Assigned temporary font "handwritten-4" to user user-123

      at Function.assignTemporaryFont (src/services/fonts/FontAssignmentService.ts:250:13)

  console.log
    üîå [Player] Cleaning up broadcast channel for game: game-123

      at src/components/players/PlayerDashboard.tsx:849:15
          at Array.forEach (<anonymous>)

  console.log
    üîå Unsubscribed from buzzer channel: game-123

      at Object.unsubscribe (src/services/realtime/BroadcastService.ts:154:17)
          at Array.forEach (<anonymous>)

  console.log
    üé® Assigned permanent font "handwritten-6" to user user-123

      at Function.assignPermanentFont (src/services/fonts/FontAssignmentService.ts:153:13)

  console.log
    üîì Broadcast buzzer unlock for game test-game-id, clue test-clue-id

      at Function.broadcastBuzzerUnlock (src/services/realtime/BroadcastService.ts:192:13)

  console.log
    üé¨ [PlayerDashboard] Setting up animation system for game game-123

      at src/components/players/PlayerDashboard.tsx:143:13

  console.log
    üîí Broadcast buzzer lock for game test-game-id

      at Function.broadcastBuzzerLock (src/services/realtime/BroadcastService.ts:222:13)

  console.log
    üé¨ [AnimationEvents] Subscriber added (total: 1)

      at Function.subscribe (src/services/animations/AnimationEvents.ts:21:13)

  console.log
    ‚ö° Broadcast player buzz: TestPlayer (450ms)

      at Function.broadcastPlayerBuzz (src/services/realtime/BroadcastService.ts:267:13)

  console.log
    üëÅÔ∏è Broadcast focus player: TestPlayer (auto)

      at Function.broadcastFocusPlayer (src/services/realtime/BroadcastService.ts:307:13)

  console.log
    üëÅÔ∏è Broadcast focus player: TestPlayer (auto)

      at Function.broadcastFocusPlayer (src/services/realtime/BroadcastService.ts:307:13)

  console.log
    üì° [Player] Setting up broadcast channel for game: game-123

      at src/components/players/PlayerDashboard.tsx:756:13

  console.log
    üßπ Cleaned up channel for game: test-game-id

      at src/services/realtime/BroadcastService.ts:319:15
          at Map.forEach (<anonymous>)

  console.log
    üßπ Cleaned up channel for game: game-1

      at src/services/realtime/BroadcastService.ts:319:15
          at Map.forEach (<anonymous>)

  console.log
    üßπ Cleaned up channel for game: game-2

      at src/services/realtime/BroadcastService.ts:319:15
          at Map.forEach (<anonymous>)

PASS src/utils/dailyDoubleAlgorithm.test.ts
  dailyDoubleAlgorithm
    generateDailyDoublePositions
      ‚àö should generate 1 Daily Double for Jeopardy round (2 ms)
      ‚àö should generate 2 Daily Doubles for Double Jeopardy round (1 ms)
      ‚àö should never place Daily Double in row 1 (13 ms)
      ‚àö should generate different positions on multiple calls (1 ms)
      ‚àö should respect probability distribution over many runs (4 ms)
    processDailyDoubles
      ‚àö should successfully process valid Jeopardy round (1 ms)
      ‚àö should successfully process valid Double Jeopardy round (1 ms)
      ‚àö should mark correct clues as Daily Doubles (1 ms)
      ‚àö should fail validation for invalid round structure - wrong category count
      ‚àö should fail validation for invalid round structure - wrong clue count (1 ms)
      ‚àö should preserve original round data structure (12 ms)

PASS src/services/realtime/BroadcastService.test.ts
  BroadcastService
    createGameBuzzerChannel
      ‚àö should create a channel with correct configuration (1 ms)
      ‚àö should remove existing channel before creating new one
    subscribeToGameBuzzer
      ‚àö should set up event handlers and subscribe
      ‚àö should handle partial handlers (1 ms)
    broadcastBuzzerUnlock
      ‚àö should broadcast unlock event with correct payload (2 ms)
    broadcastBuzzerLock
      ‚àö should broadcast lock event with correct payload (2 ms)
    broadcastPlayerBuzz
      ‚àö should broadcast player buzz with correct payload (1 ms)
    broadcastFocusPlayer
      ‚àö should broadcast focus player with correct payload (1 ms)
      ‚àö should default source to auto (1 ms)
    cleanup
      ‚àö should unsubscribe from all active channels (2 ms)

  console.error
    ‚ùå Error in getPlayerFont: Error: Failed to get user profile: Database error
        at Function.getUserProfile (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\services\fonts\FontAssignmentService.ts:108:13)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at Function.getPlayerFont (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\services\fonts\FontAssignmentService.ts:64:27)
        at Object.<anonymous> (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\services\fonts\FontAssignmentService.test.ts:148:22)

    [0m [90m 89 |[39m       [36mreturn[39m userProfile[33m.[39mhandwritten_font
     [90m 90 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 91 |[39m       console[33m.[39merror([32m'‚ùå Error in getPlayerFont:'[39m[33m,[39m error)
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 92 |[39m       [90m// Fallback to first available font[39m
     [90m 93 |[39m       [36mreturn[39m [36mthis[39m[33m.[39m[33mAVAILABLE_FONTS[39m[[35m0[39m]
     [90m 94 |[39m     }[0m

      at Function.getPlayerFont (src/services/fonts/FontAssignmentService.ts:91:15)
      at Object.<anonymous> (src/services/fonts/FontAssignmentService.test.ts:148:22)

  console.log
    üßπ Cleared all temporary font overrides

      at Function.clearAllTemporaryFonts (src/services/fonts/FontAssignmentService.ts:308:15)

  console.error
    ‚ùå Error clearing all temporary fonts: { message: 'Update failed', details: '', hint: '', code: '500' }

    [0m [90m 304 |[39m
     [90m 305 |[39m     [36mif[39m (error) {
    [31m[1m>[22m[39m[90m 306 |[39m       console[33m.[39merror([32m'‚ùå Error clearing all temporary fonts:'[39m[33m,[39m error)
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 307 |[39m     } [36melse[39m {
     [90m 308 |[39m       console[33m.[39mlog([32m'üßπ Cleared all temporary font overrides'[39m)
     [90m 309 |[39m     }[0m

      at Function.clearAllTemporaryFonts (src/services/fonts/FontAssignmentService.ts:306:15)
      at Object.<anonymous> (src/services/fonts/FontAssignmentService.test.ts:179:7)

  console.log
    üé® Assigned permanent font "handwritten-5" to user user-123

      at Function.assignPermanentFont (src/services/fonts/FontAssignmentService.ts:153:13)

  console.log
    üé® Assigned permanent font "handwritten-4" to user user-123

      at Function.assignPermanentFont (src/services/fonts/FontAssignmentService.ts:153:13)

  console.error
    ‚ùå Error in getPlayerFont: TypeError: Cannot read properties of null (reading 'handwritten_font')
        at Function.getPlayerFont (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\services\fonts\FontAssignmentService.ts:66:24)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at Object.<anonymous> (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\services\fonts\FontAssignmentService.test.ts:264:22)

    [0m [90m 89 |[39m       [36mreturn[39m userProfile[33m.[39mhandwritten_font
     [90m 90 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 91 |[39m       console[33m.[39merror([32m'‚ùå Error in getPlayerFont:'[39m[33m,[39m error)
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 92 |[39m       [90m// Fallback to first available font[39m
     [90m 93 |[39m       [36mreturn[39m [36mthis[39m[33m.[39m[33mAVAILABLE_FONTS[39m[[35m0[39m]
     [90m 94 |[39m     }[0m

      at Function.getPlayerFont (src/services/fonts/FontAssignmentService.ts:91:15)
      at Object.<anonymous> (src/services/fonts/FontAssignmentService.test.ts:264:22)

  console.warn
    ‚ö†Ô∏è All fonts in use, assigning random font

    [0m [90m 233 |[39m     [36mif[39m (availableFonts[33m.[39mlength [33m===[39m [35m0[39m) {
     [90m 234 |[39m       [90m// All fonts in use, assign random font (rare edge case with 8+ players)[39m
    [31m[1m>[22m[39m[90m 235 |[39m       console[33m.[39mwarn([32m'‚ö†Ô∏è All fonts in use, assigning random font'[39m)
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 236 |[39m       [36mconst[39m fallbackFont [33m=[39m [36mthis[39m[33m.[39m[33mAVAILABLE_FONTS[39m[[33mMath[39m[33m.[39mfloor([33mMath[39m[33m.[39mrandom() [33m*[39m [36mthis[39m[33m.[39m[33mAVAILABLE_FONTS[39m[33m.[39mlength)]
     [90m 237 |[39m       [36mif[39m ([33m![39mfallbackFont) {
     [90m 238 |[39m         [36mthrow[39m [36mnew[39m [33mError[39m([32m'Failed to select fallback font - AVAILABLE_FONTS array is empty'[39m)[0m

      at Function.assignTemporaryFont (src/services/fonts/FontAssignmentService.ts:235:15)
      at Function.getPlayerFont (src/services/fonts/FontAssignmentService.ts:79:31)
      at Object.<anonymous> (src/services/fonts/FontAssignmentService.test.ts:307:22)

  console.log
    üé® Assigned temporary font "handwritten-2" to user user-123

      at Function.assignTemporaryFont (src/services/fonts/FontAssignmentService.ts:250:13)

  console.error
    ‚ùå Error in getPlayerFont: Error: Database connection failed
        at Object.<anonymous> (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\src\services\fonts\FontAssignmentService.test.ts:355:44)
        at Promise.then.completed (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\utils.js:298:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\utils.js:231:10)
        at _callCircusTest (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:316:40)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at _runTest (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:252:3)
        at _runTestsForDescribeBlock (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:126:9)
        at _runTestsForDescribeBlock (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:121:9)
        at _runTestsForDescribeBlock (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:121:9)
        at run (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\run.js:71:3)
        at runAndTransformResultsToJestFormat (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
        at jestAdapter (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
        at runTestInternal (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-runner\build\runTest.js:367:16)
        at runTest (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-runner\build\runTest.js:444:34)
        at Object.worker (D:\Projects\.CODING\[VSC Workspace] Jeopardy\eunos-jeopardy\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 89 |[39m       [36mreturn[39m userProfile[33m.[39mhandwritten_font
     [90m 90 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 91 |[39m       console[33m.[39merror([32m'‚ùå Error in getPlayerFont:'[39m[33m,[39m error)
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 92 |[39m       [90m// Fallback to first available font[39m
     [90m 93 |[39m       [36mreturn[39m [36mthis[39m[33m.[39m[33mAVAILABLE_FONTS[39m[[35m0[39m]
     [90m 94 |[39m     }[0m

      at Function.getPlayerFont (src/services/fonts/FontAssignmentService.ts:91:15)
      at Object.<anonymous> (src/services/fonts/FontAssignmentService.test.ts:358:22)

PASS src/services/fonts/FontAssignmentService.test.ts
  FontAssignmentService
    getPlayerFont
      ‚àö should return existing permanent font when user has one (2 ms)
      ‚àö should clear temporary font when no conflict exists (1 ms)
      ‚àö should assign temporary font when permanent font conflicts with other players (6 ms)
      ‚àö should assign permanent font when user has none (3 ms)
      ‚àö should handle database errors gracefully (17 ms)
    clearAllTemporaryFonts
      ‚àö should clear all temporary fonts (3 ms)
      ‚àö should handle errors when clearing temporary fonts (3 ms)
    Font Assignment Algorithm
      ‚àö should distribute fonts fairly (3 ms)
    Edge Cases
      ‚àö should handle empty font counts (10 ms)
      ‚àö should handle null user profile (3 ms)
      ‚àö should handle all fonts in use edge case (4 ms)
      ‚àö should prioritize temp_handwritten_font over permanent font for other players (2 ms)
      ‚àö should handle errors in font assignment gracefully (4 ms)

  console.log
    üé¨ [PlayerDashboard] Cleaning up animation system for game game-123

      at src/components/players/PlayerDashboard.tsx:271:15
          at Array.forEach (<anonymous>)

  console.log
    üé¨ [AnimationEvents] Subscriber removed (total: 0)

      at src/services/animations/AnimationEvents.ts:24:15
          at Array.forEach (<anonymous>)

  console.log
    üîå [Player] Cleaning up broadcast channel for game: game-123

      at src/components/players/PlayerDashboard.tsx:849:15
          at Array.forEach (<anonymous>)

  console.log
    üîå Unsubscribed from buzzer channel: game-123

      at Object.unsubscribe (src/services/realtime/BroadcastService.ts:154:17)
          at Array.forEach (<anonymous>)

  console.log
    üé¨ [PlayerDashboard] Setting up animation system for game game-123

      at src/components/players/PlayerDashboard.tsx:143:13

  console.log
    üé¨ [AnimationEvents] Subscriber added (total: 1)

      at Function.subscribe (src/services/animations/AnimationEvents.ts:21:13)

  console.log
    üì° [Player] Setting up broadcast channel for game: game-123

      at src/components/players/PlayerDashboard.tsx:756:13

  console.log
    üé¨ [PlayerDashboard] Cleaning up animation system for game game-123

      at src/components/players/PlayerDashboard.tsx:271:15
          at Array.forEach (<anonymous>)

  console.log
    üé¨ [AnimationEvents] Subscriber removed (total: 0)

      at src/services/animations/AnimationEvents.ts:24:15
          at Array.forEach (<anonymous>)

  console.log
    üîå [Player] Cleaning up broadcast channel for game: game-123

      at src/components/players/PlayerDashboard.tsx:849:15
          at Array.forEach (<anonymous>)

  console.log
    üîå Unsubscribed from buzzer channel: game-123

      at Object.unsubscribe (src/services/realtime/BroadcastService.ts:154:17)
          at Array.forEach (<anonymous>)

  console.log
    üé¨ [PlayerDashboard] Setting up animation system for game game-123

      at src/components/players/PlayerDashboard.tsx:143:13

  console.log
    üé¨ [AnimationEvents] Subscriber added (total: 1)

      at Function.subscribe (src/services/animations/AnimationEvents.ts:21:13)

  console.log
    üì° [Player] Setting up broadcast channel for game: game-123

      at src/components/players/PlayerDashboard.tsx:756:13

  console.log
    üé¨ [PlayerDashboard] Cleaning up animation system for game game-123

      at src/components/players/PlayerDashboard.tsx:271:15
          at Array.forEach (<anonymous>)

  console.log
    üé¨ [AnimationEvents] Subscriber removed (total: 0)

      at src/services/animations/AnimationEvents.ts:24:15
          at Array.forEach (<anonymous>)

  console.log
    üîå [Player] Cleaning up broadcast channel for game: game-123

      at src/components/players/PlayerDashboard.tsx:849:15
          at Array.forEach (<anonymous>)

  console.log
    üîå Unsubscribed from buzzer channel: game-123

      at Object.unsubscribe (src/services/realtime/BroadcastService.ts:154:17)
          at Array.forEach (<anonymous>)

  console.log
    üé¨ [PlayerDashboard] Setting up animation system for game game-123

      at src/components/players/PlayerDashboard.tsx:143:13

  console.log
    üé¨ [AnimationEvents] Subscriber added (total: 1)

      at Function.subscribe (src/services/animations/AnimationEvents.ts:21:13)

  console.log
    üì° [Player] Setting up broadcast channel for game: game-123

      at src/components/players/PlayerDashboard.tsx:756:13

  console.log
    üé¨ [PlayerDashboard] Cleaning up animation system for game game-123

      at src/components/players/PlayerDashboard.tsx:271:15
          at Array.forEach (<anonymous>)

  console.log
    üé¨ [AnimationEvents] Subscriber removed (total: 0)

      at src/services/animations/AnimationEvents.ts:24:15
          at Array.forEach (<anonymous>)

  console.log
    üîå [Player] Cleaning up broadcast channel for game: game-123

      at src/components/players/PlayerDashboard.tsx:849:15
          at Array.forEach (<anonymous>)

  console.log
    üîå Unsubscribed from buzzer channel: game-123

      at Object.unsubscribe (src/services/realtime/BroadcastService.ts:154:17)
          at Array.forEach (<anonymous>)

  console.log
    üé¨ [PlayerDashboard] Setting up animation system for game game-123

      at src/components/players/PlayerDashboard.tsx:143:13

  console.log
    üé¨ [AnimationEvents] Subscriber added (total: 1)

      at Function.subscribe (src/services/animations/AnimationEvents.ts:21:13)

  console.log
    üì° [Player] Setting up broadcast channel for game: game-123

      at src/components/players/PlayerDashboard.tsx:756:13

  console.log
    üé¨ [PlayerDashboard] Cleaning up animation system for game game-123

      at src/components/players/PlayerDashboard.tsx:271:15
          at Array.forEach (<anonymous>)

  console.log
    üé¨ [AnimationEvents] Subscriber removed (total: 0)

      at src/services/animations/AnimationEvents.ts:24:15
          at Array.forEach (<anonymous>)

  console.log
    üîå [Player] Cleaning up broadcast channel for game: game-123

      at src/components/players/PlayerDashboard.tsx:849:15
          at Array.forEach (<anonymous>)

  console.log
    üîå Unsubscribed from buzzer channel: game-123

      at Object.unsubscribe (src/services/realtime/BroadcastService.ts:154:17)
          at Array.forEach (<anonymous>)

PASS src/components/players/PlayerDashboard.test.tsx (5.754 s)
  PlayerDashboard
    Loading States
      ‚àö should show loading state initially (116 ms)
      ‚àö should load game data on mount (81 ms)
    Authentication States
      ‚àö should show login message when user is not authenticated (59 ms)
    Error States
      ‚àö should handle game loading error (167 ms)
    Edge Case Scenarios
      ‚àö should handle gracefully when current user is not in players list (63 ms)
      ‚àö should render game board structure correctly even with minimal player data (62 ms)
    Game Board Display
      ‚àö should display game board when player has joined (58 ms)
      ‚àö should display player podiums (38 ms)
    Buzzer System
      ‚àö should show buzzer when clue is focused and unlocked (39 ms)
      ‚àö should disable buzzer when locked (47 ms)
    Real-time Updates
      ‚àö should set up real-time subscriptions (31 ms)

Summary of all failing tests
FAIL src/services/clueSets/clueSetService.test.ts
  ‚óè ClueSetService ‚Ä∫ loadClueSetFromDatabase ‚Ä∫ should handle missing boards data

    expect(received).rejects.toThrow()

    Received promise resolved instead of rejected
    Resolved to value: {"filename": "Test Clue Set.csv", "name": "Test Clue Set", "rounds": {"double": [], "final": {"clues": [], "name": "Final Jeopardy"}, "jeopardy": []}}

    [0m [90m 577 |[39m         )
     [90m 578 |[39m
    [31m[1m>[22m[39m[90m 579 |[39m       [36mawait[39m expect([33mClueSetService[39m[33m.[39mloadClueSetFromDatabase(clueSetId))[33m.[39mrejects[33m.[39mtoThrow([32m'No board data found for clue set'[39m)
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 580 |[39m     })
     [90m 581 |[39m
     [90m 582 |[39m     it([32m'should handle missing categories gracefully'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at expect (node_modules/jest-circus/node_modules/expect/build/index.js:113:15)
      at Object.<anonymous> (src/services/clueSets/clueSetService.test.ts:579:13)


Test Suites: 1 failed, 26 passed, 27 total
Tests:       1 failed, 543 passed, 544 total
Snapshots:   0 total
Time:        12.989 s
Ran all test suites.
